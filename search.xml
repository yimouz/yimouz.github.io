<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>JMeter Bin ç›®å½•ç»“æ„è¯¦è§£ä¸é…ç½®æŒ‡å—</title>
      <link href="/2026/02/10/jmeter-bin-mu-lu-jie-gou-xiang-jie-yu-pei-zhi/"/>
      <url>/2026/02/10/jmeter-bin-mu-lu-jie-gou-xiang-jie-yu-pei-zhi/</url>
      
        <content type="html"><![CDATA[<h1 id="JMeter-Bin-ç›®å½•ç»“æ„è¯¦è§£ä¸é…ç½®æŒ‡å—"><a href="#JMeter-Bin-ç›®å½•ç»“æ„è¯¦è§£ä¸é…ç½®æŒ‡å—" class="headerlink" title="JMeter Bin ç›®å½•ç»“æ„è¯¦è§£ä¸é…ç½®æŒ‡å—"></a>JMeter Bin ç›®å½•ç»“æ„è¯¦è§£ä¸é…ç½®æŒ‡å—</h1><p>Apache JMeter çš„ <code>bin</code> ç›®å½•æ˜¯å…¶æ ¸å¿ƒè¿è¡Œç¯å¢ƒï¼ŒåŒ…å«äº†å¯åŠ¨è„šæœ¬ã€å…³é”®é…ç½®æ–‡ä»¶ã€ä¾èµ–åº“åŠè°ƒè¯•å·¥å…·ã€‚æœ¬æ–‡æ¡£è¯¦ç»†æ¢³ç†äº†è¯¥ç›®å½•ä¸‹çš„æ–‡ä»¶åˆ†ç±»ã€ä½œç”¨åŠæ“ä½œå»ºè®®ã€‚</p><h2 id="1-æ ¸å¿ƒå¯åŠ¨ä¸è¿è¡Œè„šæœ¬"><a href="#1-æ ¸å¿ƒå¯åŠ¨ä¸è¿è¡Œè„šæœ¬" class="headerlink" title="1. æ ¸å¿ƒå¯åŠ¨ä¸è¿è¡Œè„šæœ¬"></a>1. æ ¸å¿ƒå¯åŠ¨ä¸è¿è¡Œè„šæœ¬</h2><p>è¿™äº›è„šæœ¬è´Ÿè´£å¯åŠ¨ JMeter çš„ä¸åŒæ¨¡å¼ï¼ˆGUIã€å‘½ä»¤è¡Œã€åˆ†å¸ƒå¼ï¼‰ã€‚</p><table><thead><tr><th align="left">æ–‡ä»¶å (Windows/Linux)</th><th align="left">ä½œç”¨</th><th align="left">å¤‡æ³¨</th></tr></thead><tbody><tr><td align="left"><code>jmeter.bat</code> / <code>jmeter.sh</code></td><td align="left"><strong>ä¸»å¯åŠ¨è„šæœ¬</strong></td><td align="left">é»˜è®¤å¯åŠ¨ GUI æ¨¡å¼ã€‚<strong>ä¸å»ºè®®</strong>ç›´æ¥ä¿®æ”¹æ­¤æ–‡ä»¶ä¸­çš„å†…å­˜é…ç½®ã€‚</td></tr><tr><td align="left"><code>jmeter-n.cmd</code></td><td align="left"><strong>æ— ç•Œé¢æ¨¡å¼å¯åŠ¨</strong></td><td align="left">å¿«æ·å¯åŠ¨ CLI (Non-GUI) æ¨¡å¼ï¼Œç”¨äºæ­£å¼å‹æµ‹ã€‚</td></tr><tr><td align="left"><code>jmeter-server.bat</code> / <code>jmeter-server</code></td><td align="left"><strong>åˆ†å¸ƒå¼ä»æœºå¯åŠ¨</strong></td><td align="left">ç”¨äºå¯åŠ¨åˆ†å¸ƒå¼æµ‹è¯•ä¸­çš„ Server (Slave) èŠ‚ç‚¹ã€‚</td></tr><tr><td align="left"><code>shutdown.cmd</code> / <code>shutdown.sh</code></td><td align="left"><strong>å¹³æ»‘åœæ­¢</strong></td><td align="left">åœæ­¢æµ‹è¯•ï¼Œä½†ä¼šç­‰å¾…å½“å‰çº¿ç¨‹è¿è¡Œç»“æŸï¼ˆæ¨èï¼‰ã€‚</td></tr><tr><td align="left"><code>stoptest.cmd</code> / <code>stoptest.sh</code></td><td align="left"><strong>å¼ºåˆ¶åœæ­¢</strong></td><td align="left">ç«‹å³ç»ˆæ­¢æ‰€æœ‰çº¿ç¨‹ï¼ˆå¯èƒ½å¯¼è‡´æ•°æ®ä¸å®Œæ•´ï¼‰ã€‚</td></tr><tr><td align="left"><code>ApacheJMeter.jar</code></td><td align="left"><strong>æ ¸å¿ƒç¨‹åºåŒ…</strong></td><td align="left">æ‰€æœ‰è„šæœ¬æœ€ç»ˆè°ƒç”¨çš„ä¸»ç¨‹åº Jar åŒ…ã€‚<strong>ä¸¥ç¦ä¿®æ”¹</strong>ã€‚</td></tr></tbody></table><h2 id="2-å…³é”®é…ç½®æ–‡ä»¶-properties"><a href="#2-å…³é”®é…ç½®æ–‡ä»¶-properties" class="headerlink" title="2. å…³é”®é…ç½®æ–‡ä»¶ (.properties)"></a>2. å…³é”®é…ç½®æ–‡ä»¶ (.properties)</h2><p>æ§åˆ¶ JMeter è¡Œä¸ºçš„æ ¸å¿ƒé…ç½®ã€‚</p><table><thead><tr><th align="left">æ–‡ä»¶å</th><th align="left">ä½œç”¨</th><th align="left">ä¿®æ”¹å»ºè®®</th></tr></thead><tbody><tr><td align="left"><code>jmeter.properties</code></td><td align="left"><strong>å…¨å±€ä¸»é…ç½®</strong></td><td align="left">åŒ…å«æ‰€æœ‰é»˜è®¤è®¾ç½®ã€‚<strong>å»ºè®®åªè¯»</strong>ï¼Œä¿®æ”¹é¡¹è¯·ç§»è‡³ <code>user.properties</code>ã€‚</td></tr><tr><td align="left"><code>user.properties</code></td><td align="left"><strong>ç”¨æˆ·è‡ªå®šä¹‰é…ç½®</strong></td><td align="left"><strong>æ¨èä¿®æ”¹å¤„</strong>ã€‚ä¼˜å…ˆçº§é«˜äºä¸»é…ç½®ï¼Œå‡çº§æ—¶å¯ç›´æ¥å¤‡ä»½è¿ç§»ã€‚</td></tr><tr><td align="left"><code>system.properties</code></td><td align="left"><strong>ç³»ç»Ÿå±æ€§</strong></td><td align="left">ç”¨äºè®¾ç½® JVM ç³»ç»Ÿå±æ€§ï¼ˆå¦‚ SSL è·¯å¾„ã€ä»£ç†è®¾ç½®ï¼‰ã€‚</td></tr><tr><td align="left"><code>log4j2.xml</code></td><td align="left"><strong>æ—¥å¿—é…ç½®</strong></td><td align="left">æ§åˆ¶æ—¥å¿—çº§åˆ«ï¼ˆDEBUG/INFO/ERRORï¼‰å’Œè¾“å‡ºæ ¼å¼ã€‚</td></tr><tr><td align="left"><code>saveservice.properties</code></td><td align="left"><strong>ä¿å­˜æœåŠ¡æ˜ å°„</strong></td><td align="left">å®šä¹‰ JMX/JTL æ–‡ä»¶çš„ä¿å­˜æ ¼å¼ã€‚<strong>ä¸¥ç¦ä¿®æ”¹</strong>ï¼Œå¦åˆ™è„šæœ¬æ— æ³•è¯»å–ã€‚</td></tr><tr><td align="left"><code>upgrade.properties</code></td><td align="left"><strong>å‡çº§å…¼å®¹é…ç½®</strong></td><td align="left">å¤„ç†ç‰ˆæœ¬å‡çº§æ—¶çš„å±æ€§æ˜ å°„ã€‚<strong>æ— éœ€å…³æ³¨</strong>ã€‚</td></tr></tbody></table><h2 id="3-æŠ¥å‘Šä¸å›¾è¡¨-Reporting"><a href="#3-æŠ¥å‘Šä¸å›¾è¡¨-Reporting" class="headerlink" title="3. æŠ¥å‘Šä¸å›¾è¡¨ (Reporting)"></a>3. æŠ¥å‘Šä¸å›¾è¡¨ (Reporting)</h2><p>æ§åˆ¶ HTML æµ‹è¯•æŠ¥å‘Šï¼ˆDashboardï¼‰çš„ç”Ÿæˆã€‚</p><table><thead><tr><th align="left">æ–‡ä»¶å</th><th align="left">ä½œç”¨</th></tr></thead><tbody><tr><td align="left"><code>reportgenerator.properties</code></td><td align="left">é…ç½®æŠ¥å‘Šç”Ÿæˆå‚æ•°ï¼ˆå¦‚ Apdex é˜ˆå€¼ã€æ—¶é—´ç²’åº¦ï¼‰ã€‚å¯ä¿®æ”¹ä»¥è°ƒæ•´æŠ¥å‘Šæ ‡å‡†ã€‚</td></tr><tr><td align="left"><code>report-template/</code></td><td align="left">å­˜æ”¾ HTML æŠ¥å‘Šçš„æ¨¡æ¿æ–‡ä»¶ï¼ˆCSS, JS, FreeMarkerï¼‰ã€‚é«˜çº§ç”¨æˆ·å¯å®šåˆ¶æŠ¥å‘Šæ ·å¼ã€‚</td></tr></tbody></table><h2 id="4-è°ƒè¯•ä¸è¯Šæ–­-Diagnostics"><a href="#4-è°ƒè¯•ä¸è¯Šæ–­-Diagnostics" class="headerlink" title="4. è°ƒè¯•ä¸è¯Šæ–­ (Diagnostics)"></a>4. è°ƒè¯•ä¸è¯Šæ–­ (Diagnostics)</h2><p>å½“ JMeter è¿è¡Œå¼‚å¸¸ï¼ˆå¡æ­»ã€OOMï¼‰æ—¶çš„æ€¥æ•‘å·¥å…·ã€‚</p><table><thead><tr><th align="left">æ–‡ä»¶å</th><th align="left">ä½œç”¨</th><th align="left">åœºæ™¯</th></tr></thead><tbody><tr><td align="left"><code>heapdump.cmd</code> / <code>sh</code></td><td align="left"><strong>å¯¼å‡ºå†…å­˜å¿«ç…§</strong></td><td align="left">åˆ†æ OutOfMemoryError (OOM) åŸå› ã€‚</td></tr><tr><td align="left"><code>threaddump.cmd</code> / <code>sh</code></td><td align="left"><strong>å¯¼å‡ºçº¿ç¨‹å †æ ˆ</strong></td><td align="left">åˆ†ææ­»é”ã€çº¿ç¨‹é˜»å¡æˆ–æµ‹è¯•æ— æ³•åœæ­¢çš„åŸå› ã€‚</td></tr></tbody></table><h2 id="5-å®‰å…¨ä¸è®¤è¯-Security-amp-Auth"><a href="#5-å®‰å…¨ä¸è®¤è¯-Security-amp-Auth" class="headerlink" title="5. å®‰å…¨ä¸è®¤è¯ (Security &amp; Auth)"></a>5. å®‰å…¨ä¸è®¤è¯ (Security &amp; Auth)</h2><table><thead><tr><th align="left">æ–‡ä»¶å</th><th align="left">ä½œç”¨</th></tr></thead><tbody><tr><td align="left"><code>create-rmi-keystore.bat</code></td><td align="left">ç”Ÿæˆ RMI SSL å¯†é’¥åº“ã€‚ç”¨äºåˆ†å¸ƒå¼æµ‹è¯•çš„å®‰å…¨é€šä¿¡ã€‚</td></tr><tr><td align="left"><code>krb5.conf</code></td><td align="left">Kerberos è®¤è¯é…ç½®ã€‚ç”¨äºæµ‹è¯•éœ€ Kerberos ç™»å½•çš„ç³»ç»Ÿã€‚</td></tr><tr><td align="left"><code>jaas.conf</code></td><td align="left">Java è®¤è¯ä¸æˆæƒæœåŠ¡é…ç½®ã€‚</td></tr></tbody></table><h2 id="6-æ‰©å±•ä¸è‡ªå®šä¹‰å»ºè®®"><a href="#6-æ‰©å±•ä¸è‡ªå®šä¹‰å»ºè®®" class="headerlink" title="6. æ‰©å±•ä¸è‡ªå®šä¹‰å»ºè®®"></a>6. æ‰©å±•ä¸è‡ªå®šä¹‰å»ºè®®</h2><h3 id="âœ…-æ¨èæ·»åŠ çš„æ–‡ä»¶"><a href="#âœ…-æ¨èæ·»åŠ çš„æ–‡ä»¶" class="headerlink" title="âœ… æ¨èæ·»åŠ çš„æ–‡ä»¶"></a>âœ… æ¨èæ·»åŠ çš„æ–‡ä»¶</h3><ul><li><strong><code>setenv.bat</code> (Windows) / <code>setenv.sh</code> (Linux)</strong><ul><li>  <strong>ä½œç”¨</strong>ï¼šå®˜æ–¹é¢„ç•™çš„ç¯å¢ƒå˜é‡è®¾ç½®æ–‡ä»¶ã€‚</li><li>  <strong>ç”¨é€”</strong>ï¼šè®¾ç½® JVM å †å†…å­˜ (<code>HEAP</code>)ã€GC ç­–ç•¥ã€è¯­è¨€ç¯å¢ƒã€‚</li><li>  <strong>ä¼˜åŠ¿</strong>ï¼šä¸æ ¸å¿ƒè„šæœ¬è§£è€¦ï¼Œå‡çº§ JMeter æ—¶ä¸ä¼šä¸¢å¤±é…ç½®ã€‚</li></ul></li></ul><h3 id="ğŸ“-ä¿®æ”¹åŸåˆ™"><a href="#ğŸ“-ä¿®æ”¹åŸåˆ™" class="headerlink" title="ğŸ“ ä¿®æ”¹åŸåˆ™"></a>ğŸ“ ä¿®æ”¹åŸåˆ™</h3><ol><li> **ä¼˜å…ˆä½¿ç”¨ <code>user.properties</code>**ï¼šè¦†ç›– <code>jmeter.properties</code> ä¸­çš„é»˜è®¤å€¼ï¼ˆå¦‚ <code>sampleresult.default.encoding=UTF-8</code>ï¼‰ã€‚</li><li> <strong>ä½¿ç”¨ <code>setenv</code> ç®¡ç†å†…å­˜</strong>ï¼šä¸è¦å»æ”¹ <code>jmeter.bat</code> é‡Œçš„ <code>HEAP</code> å˜é‡ã€‚</li><li> <strong>ä¸åŠ¨æ ¸å¿ƒ</strong>ï¼š<code>ApacheJMeter.jar</code> å’Œ <code>saveservice.properties</code> æ˜¯ç¦åŒºã€‚</li></ol><h2 id="7-å¸¸ç”¨ç›®å½•è¯´æ˜"><a href="#7-å¸¸ç”¨ç›®å½•è¯´æ˜" class="headerlink" title="7. å¸¸ç”¨ç›®å½•è¯´æ˜"></a>7. å¸¸ç”¨ç›®å½•è¯´æ˜</h2><ul><li>  <code>templates/</code>ï¼šå­˜æ”¾æµ‹è¯•è®¡åˆ’æ¨¡æ¿ï¼Œå¯æ·»åŠ è‡ªå®šä¹‰æ¨¡æ¿ã€‚</li><li>  <code>examples/</code>ï¼šå®˜æ–¹æä¾›çš„ç¤ºä¾‹è„šæœ¬ï¼ˆCSV, JDBC ç­‰ï¼‰ã€‚</li><li>  <code>lib/</code> (ä½äº bin ä¸Šçº§)ï¼šå­˜æ”¾ç¬¬ä¸‰æ–¹ Jar åŒ…æ’ä»¶å’Œ JDBC é©±åŠ¨ã€‚</li></ul>]]></content>
      
      
      <categories>
          
          <category> JMeter </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JMeter </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JMeter å¯åŠ¨è„šæœ¬ (jmeter.bat) è¯¦è§£</title>
      <link href="/2026/02/09/jmeter-qi-dong-jiao-ben-jmeter.bat-xiang-jie/"/>
      <url>/2026/02/09/jmeter-qi-dong-jiao-ben-jmeter.bat-xiang-jie/</url>
      
        <content type="html"><![CDATA[<h1 id="JMeter-å¯åŠ¨è„šæœ¬-jmeter-bat-è¯¦è§£"><a href="#JMeter-å¯åŠ¨è„šæœ¬-jmeter-bat-è¯¦è§£" class="headerlink" title="JMeter å¯åŠ¨è„šæœ¬ (jmeter.bat) è¯¦è§£"></a>JMeter å¯åŠ¨è„šæœ¬ (jmeter.bat) è¯¦è§£</h1><p>æœ¬æ–‡æ¡£åŸºäº <code>jmeter.bat</code>  æ•´ç†ï¼Œè¯¦ç»†è§£æäº† JMeter Windows å¯åŠ¨è„šæœ¬çš„æ ¸å¿ƒé€»è¾‘ã€å…³é”®ç¯å¢ƒå˜é‡åŠé…ç½®å®è·µã€‚</p><h2 id="1-æ ¸å¿ƒåŠŸèƒ½æ¦‚è¿°"><a href="#1-æ ¸å¿ƒåŠŸèƒ½æ¦‚è¿°" class="headerlink" title="1. æ ¸å¿ƒåŠŸèƒ½æ¦‚è¿°"></a>1. æ ¸å¿ƒåŠŸèƒ½æ¦‚è¿°</h2><p><code>jmeter.bat</code> æ˜¯ JMeter åœ¨ Windows ç¯å¢ƒä¸‹çš„ä¸»å¯åŠ¨è„šæœ¬ã€‚å®ƒçš„ä¸»è¦èŒè´£åŒ…æ‹¬ï¼š</p><ol><li> <strong>ç¯å¢ƒæ£€æµ‹</strong>ï¼šè‡ªåŠ¨å®šä½ <code>JMETER_HOME</code> å’Œ Java è¿è¡Œç¯å¢ƒã€‚</li><li> <strong>åŠ è½½é…ç½®</strong>ï¼šåŠ è½½ç”¨æˆ·è‡ªå®šä¹‰é…ç½® (<code>setenv.bat</code>)é»˜è®¤æ²¡æœ‰è¿™ä¸ªæ–‡ä»¶ï¼ŒæŒ‰éœ€æ·»åŠ ã€‚</li><li> <strong>å‚æ•°ç»„è£…</strong>ï¼šè®¾ç½® JVM å†…å­˜ (<code>HEAP</code>)ã€åƒåœ¾å›æ”¶ (<code>GC_ALGO</code>) å’Œå…¶ä»–å¯åŠ¨å‚æ•° (<code>JVM_ARGS</code>)ã€‚</li><li> <strong>å¯åŠ¨ç¨‹åº</strong>ï¼šæœ€ç»ˆè°ƒç”¨ <code>java.exe</code> å¯åŠ¨ <code>ApacheJMeter.jar</code>ã€‚</li></ol><hr><h2 id="2-å…³é”®ç¯å¢ƒå˜é‡"><a href="#2-å…³é”®ç¯å¢ƒå˜é‡" class="headerlink" title="2. å…³é”®ç¯å¢ƒå˜é‡"></a>2. å…³é”®ç¯å¢ƒå˜é‡</h2><p>ä»¥ä¸‹å˜é‡å¯ä»¥åœ¨ç³»ç»Ÿç¯å¢ƒå˜é‡ä¸­è®¾ç½®ï¼Œæˆ–è€…æ›´æ¨èåœ¨ <code>bin/setenv.bat</code> ä¸­å®šä¹‰ï¼š</p><table><thead><tr><th align="left">å˜é‡å</th><th align="left">é»˜è®¤å€¼</th><th align="left">è¯´æ˜</th></tr></thead><tbody><tr><td align="left"><strong><code>HEAP</code></strong></td><td align="left"><code>-Xms1g -Xmx1g -XX:MaxMetaspaceSize=256m</code></td><td align="left"><strong>æœ€å¸¸ç”¨</strong>ã€‚JVM å †å†…å­˜è®¾ç½®ã€‚ç”Ÿäº§ç¯å¢ƒå‹æµ‹å»ºè®®è°ƒå¤§ï¼ˆå¦‚ 4G+ï¼‰ã€‚</td></tr><tr><td align="left"><strong><code>JVM_ARGS</code></strong></td><td align="left"><code>-Duser.language="en" -Duser.region="EN"</code></td><td align="left">Java å¯åŠ¨å‚æ•°ã€‚å¸¸ç”¨äºè®¾ç½®ç•Œé¢è¯­è¨€ã€ä»£ç†æœåŠ¡å™¨ç­‰ã€‚</td></tr><tr><td align="left"><strong><code>GC_ALGO</code></strong></td><td align="left"><code>-XX:+UseG1GC ...</code></td><td align="left">åƒåœ¾å›æ”¶ç®—æ³•ã€‚é»˜è®¤ä½¿ç”¨ G1GCï¼Œé€šå¸¸æ— éœ€ä¿®æ”¹ã€‚</td></tr><tr><td align="left"><code>JMETER_HOME</code></td><td align="left">è‡ªåŠ¨çŒœæµ‹</td><td align="left">JMeter å®‰è£…æ ¹ç›®å½•ã€‚</td></tr><tr><td align="left"><code>JMETER_BIN</code></td><td align="left"><code>%JMETER_HOME%\bin</code></td><td align="left">JMeter bin ç›®å½•ã€‚</td></tr><tr><td align="left"><code>JM_LAUNCH</code></td><td align="left"><code>java.exe</code></td><td align="left">Java æ‰§è¡Œç¨‹åºè·¯å¾„ã€‚</td></tr></tbody></table><hr><h2 id="3-è„šæœ¬æ‰§è¡Œæµç¨‹è§£æ"><a href="#3-è„šæœ¬æ‰§è¡Œæµç¨‹è§£æ" class="headerlink" title="3. è„šæœ¬æ‰§è¡Œæµç¨‹è§£æ"></a>3. è„šæœ¬æ‰§è¡Œæµç¨‹è§£æ</h2><h3 id="3-1-åˆå§‹åŒ–ä¸è·¯å¾„æ¢æµ‹"><a href="#3-1-åˆå§‹åŒ–ä¸è·¯å¾„æ¢æµ‹" class="headerlink" title="3.1 åˆå§‹åŒ–ä¸è·¯å¾„æ¢æµ‹"></a>3.1 åˆå§‹åŒ–ä¸è·¯å¾„æ¢æµ‹</h3><p>è„šæœ¬é¦–å…ˆå°è¯•è‡ªåŠ¨å®šä½å®‰è£…ç›®å½•ï¼š</p><pre class="line-numbers language-batch" data-language="batch"><code class="language-batch"><span class="token command"><span class="token keyword">if</span> not <span class="token string">"%JMETER_HOME%"</span> == <span class="token string">""</span> goto gotHome</span><span class="token command"><span class="token keyword">set</span> <span class="token string">"JMETER_HOME=%CURRENT_DIR%"</span></span><span class="token command"><span class="token keyword">if</span> <span class="token keyword">exist</span> <span class="token string">"%JMETER_HOME%\bin\jmeter.bat"</span></span> <span class="token command"><span class="token keyword">goto</span> okHome</span>...<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h3 id="3-2-åŠ è½½ç”¨æˆ·è‡ªå®šä¹‰é…ç½®-å…³é”®"><a href="#3-2-åŠ è½½ç”¨æˆ·è‡ªå®šä¹‰é…ç½®-å…³é”®" class="headerlink" title="3.2 åŠ è½½ç”¨æˆ·è‡ªå®šä¹‰é…ç½® (å…³é”®)"></a>3.2 åŠ è½½ç”¨æˆ·è‡ªå®šä¹‰é…ç½® (å…³é”®)</h3><p>è¿™æ˜¯é…ç½® JMeter çš„<strong>å…¥å£</strong>ã€‚è„šæœ¬ä¼šæ£€æŸ¥æ˜¯å¦å­˜åœ¨ <code>setenv.bat</code> å¹¶è°ƒç”¨å®ƒï¼š</p><pre class="line-numbers language-batch" data-language="batch"><code class="language-batch"><span class="token comment">rem è·å–æ ‡å‡†ç¯å¢ƒå˜é‡</span><span class="token command"><span class="token keyword">if</span> <span class="token keyword">exist</span> <span class="token string">"%JMETER_HOME%\bin\setenv.bat"</span></span> <span class="token command"><span class="token keyword">call</span> <span class="token string">"%JMETER_HOME%\bin\setenv.bat"</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><blockquote><p><strong>æç¤º</strong>ï¼šä¸è¦ç›´æ¥ä¿®æ”¹ <code>jmeter.bat</code>ï¼Œè€Œæ˜¯åˆ›å»º <code>setenv.bat</code> æ¥è¦†ç›–å˜é‡ã€‚è¿™æ ·å‡çº§ JMeter æ—¶é…ç½®ä¸ä¼šä¸¢å¤±ã€‚</p></blockquote><h3 id="3-3-è¯­è¨€è®¾ç½®"><a href="#3-3-è¯­è¨€è®¾ç½®" class="headerlink" title="3.3 è¯­è¨€è®¾ç½®"></a>3.3 è¯­è¨€è®¾ç½®</h3><p>å¦‚æœæœªå®šä¹‰ <code>JMETER_LANGUAGE</code>ï¼Œé»˜è®¤å¼ºåˆ¶ä¸ºè‹±æ–‡ç¯å¢ƒï¼š</p><pre class="line-numbers language-batch" data-language="batch"><code class="language-batch"><span class="token command"><span class="token keyword">if</span> <span class="token keyword">not</span> <span class="token keyword">defined</span> JMETER_LANGUAGE</span> <span class="token punctuation">(</span>    <span class="token command"><span class="token keyword">set</span> <span class="token variable">JMETER_LANGUAGE</span><span class="token operator">=</span><span class="token operator">-</span>Duser.<span class="token variable">language</span><span class="token operator">=</span><span class="token string">"en"</span> <span class="token operator">-</span>Duser.<span class="token variable">region</span><span class="token operator">=</span><span class="token string">"EN"</span></span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p><em>åœ¨ <code>setenv.bat</code> ä¸­è®¾ç½® <code>JVM_ARGS</code> å¯è¦†ç›–æ­¤è¡Œä¸ºã€‚</em></p><h3 id="3-4-Java-ç‰ˆæœ¬æ£€æŸ¥"><a href="#3-4-Java-ç‰ˆæœ¬æ£€æŸ¥" class="headerlink" title="3.4 Java ç‰ˆæœ¬æ£€æŸ¥"></a>3.4 Java ç‰ˆæœ¬æ£€æŸ¥</h3><p>è„šæœ¬åŒ…å«å¤æ‚çš„é€»è¾‘æ¥è§£æ <code>java -version</code> è¾“å‡ºï¼Œç¡®ä¿ Java ç‰ˆæœ¬ç¬¦åˆè¦æ±‚ï¼ˆæœ€ä½ 1.8.0ï¼‰ï¼š</p><pre class="line-numbers language-batch" data-language="batch"><code class="language-batch"><span class="token command"><span class="token keyword">for</span> <span class="token parameter attr-name">/f</span> <span class="token string">"tokens=3"</span> <span class="token variable">%%g</span> <span class="token keyword">in</span> <span class="token punctuation">(</span><span class="token punctuation">'</span>java -version <span class="token number">2</span>^&gt;^&amp;<span class="token number">1</span> ^| findstr <span class="token parameter attr-name">/i</span> <span class="token string">"version"</span><span class="token punctuation">'</span><span class="token punctuation">)</span> <span class="token keyword">do</span></span> <span class="token punctuation">(</span>    <span class="token command"><span class="token keyword">set</span> <span class="token variable">JAVAVER</span><span class="token operator">=</span><span class="token variable">%%g</span></span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="3-5-å†…å­˜ä¸-GC-é…ç½®"><a href="#3-5-å†…å­˜ä¸-GC-é…ç½®" class="headerlink" title="3.5 å†…å­˜ä¸ GC é…ç½®"></a>3.5 å†…å­˜ä¸ GC é…ç½®</h3><p>å¦‚æœç”¨æˆ·æœªåœ¨ <code>setenv.bat</code> ä¸­å®šä¹‰ï¼Œè„šæœ¬å°†ä½¿ç”¨é»˜è®¤å€¼ï¼š</p><pre class="line-numbers language-batch" data-language="batch"><code class="language-batch"><span class="token command"><span class="token keyword">if</span> <span class="token keyword">not</span> <span class="token keyword">defined</span> HEAP</span> <span class="token punctuation">(</span>    <span class="token command"><span class="token keyword">set</span> <span class="token variable">HEAP</span><span class="token operator">=</span><span class="token operator">-</span>Xms1g <span class="token operator">-</span>Xmx1g <span class="token operator">-</span>XX:<span class="token variable">MaxMetaspaceSize</span><span class="token operator">=</span>256m</span><span class="token punctuation">)</span><span class="token command"><span class="token keyword">if</span> <span class="token keyword">not</span> <span class="token keyword">defined</span> GC_ALGO</span> <span class="token punctuation">(</span>    <span class="token command"><span class="token keyword">set</span> <span class="token variable">GC_ALGO</span><span class="token operator">=</span><span class="token operator">-</span>XX:<span class="token operator">+</span>UseG1GC ...</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><hr><h2 id="4-æœ€ç»ˆå¯åŠ¨å‘½ä»¤"><a href="#4-æœ€ç»ˆå¯åŠ¨å‘½ä»¤" class="headerlink" title="4. æœ€ç»ˆå¯åŠ¨å‘½ä»¤"></a>4. æœ€ç»ˆå¯åŠ¨å‘½ä»¤</h2><p>è„šæœ¬æœ€åæ„å»ºå®Œæ•´çš„å¯åŠ¨å‘½ä»¤ï¼š</p><pre class="line-numbers language-batch" data-language="batch"><code class="language-batch">%JM_START% "%JM_LAUNCH%" %ARGS% %JVM_ARGS% -jar "%JMETER_BIN%ApacheJMeter.jar" %JMETER_CMD_LINE_ARGS%<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li>  <code>%ARGS%</code>ï¼šåŒ…å« <code>HEAP</code> + <code>GC_ALGO</code> + <code>DDRAW</code> ç­‰æ ¸å¿ƒå‚æ•°ã€‚</li><li>  <code>%JVM_ARGS%</code>ï¼šåŒ…å«ç”¨æˆ·è‡ªå®šä¹‰çš„é¢å¤– Java å‚æ•°ã€‚</li><li>  <code>%JMETER_CMD_LINE_ARGS%</code>ï¼šé€ä¼ ç”¨æˆ·åœ¨å‘½ä»¤è¡Œè¾“å…¥çš„å‚æ•°ï¼ˆå¦‚ <code>-n -t test.jmx</code>ï¼‰ã€‚</li></ul><hr><h2 id="5-å¸¸è§é…ç½®åœºæ™¯"><a href="#5-å¸¸è§é…ç½®åœºæ™¯" class="headerlink" title="5. å¸¸è§é…ç½®åœºæ™¯"></a>5. å¸¸è§é…ç½®åœºæ™¯</h2><h3 id="åœºæ™¯ä¸€ï¼šå¢åŠ å†…å­˜é˜²æ­¢-OOM"><a href="#åœºæ™¯ä¸€ï¼šå¢åŠ å†…å­˜é˜²æ­¢-OOM" class="headerlink" title="åœºæ™¯ä¸€ï¼šå¢åŠ å†…å­˜é˜²æ­¢ OOM"></a>åœºæ™¯ä¸€ï¼šå¢åŠ å†…å­˜é˜²æ­¢ OOM</h3><p>åœ¨ <code>setenv.bat</code> ä¸­æ·»åŠ ï¼š</p><pre class="line-numbers language-batch" data-language="batch"><code class="language-batch"><span class="token command"><span class="token keyword">set</span> <span class="token variable">HEAP</span><span class="token operator">=</span><span class="token operator">-</span>Xms2g <span class="token operator">-</span>Xmx4g <span class="token operator">-</span>XX:<span class="token variable">MaxMetaspaceSize</span><span class="token operator">=</span>512m</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="åœºæ™¯äºŒï¼šè®¾ç½®ä¸­æ–‡ç•Œé¢"><a href="#åœºæ™¯äºŒï¼šè®¾ç½®ä¸­æ–‡ç•Œé¢" class="headerlink" title="åœºæ™¯äºŒï¼šè®¾ç½®ä¸­æ–‡ç•Œé¢"></a>åœºæ™¯äºŒï¼šè®¾ç½®ä¸­æ–‡ç•Œé¢</h3><p>åœ¨ <code>setenv.bat</code> ä¸­æ·»åŠ ï¼š</p><pre class="line-numbers language-batch" data-language="batch"><code class="language-batch"><span class="token command"><span class="token keyword">set</span> <span class="token variable">JVM_ARGS</span><span class="token operator">=</span><span class="token variable">%JVM_ARGS%</span> <span class="token operator">-</span>Duser.<span class="token variable">language</span><span class="token operator">=</span>zh <span class="token operator">-</span>Duser.<span class="token variable">region</span><span class="token operator">=</span>CN</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="åœºæ™¯ä¸‰ï¼šé…ç½®-HTTP-ä»£ç†"><a href="#åœºæ™¯ä¸‰ï¼šé…ç½®-HTTP-ä»£ç†" class="headerlink" title="åœºæ™¯ä¸‰ï¼šé…ç½® HTTP ä»£ç†"></a>åœºæ™¯ä¸‰ï¼šé…ç½® HTTP ä»£ç†</h3><p>åœ¨ <code>setenv.bat</code> ä¸­æ·»åŠ ï¼š</p><pre class="line-numbers language-batch" data-language="batch"><code class="language-batch"><span class="token command"><span class="token keyword">set</span> <span class="token variable">JVM_ARGS</span><span class="token operator">=</span><span class="token variable">%JVM_ARGS%</span> <span class="token operator">-</span>Dhttp.<span class="token variable">proxyHost</span><span class="token operator">=</span><span class="token number">127</span>.<span class="token number">0</span>.<span class="token number">0</span>.<span class="token number">1</span> <span class="token operator">-</span>Dhttp.<span class="token variable">proxyPort</span><span class="token operator">=</span><span class="token number">8888</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="åœºæ™¯å››ï¼šæŒ‡å®šç‰¹å®š-JDK-ç‰ˆæœ¬"><a href="#åœºæ™¯å››ï¼šæŒ‡å®šç‰¹å®š-JDK-ç‰ˆæœ¬" class="headerlink" title="åœºæ™¯å››ï¼šæŒ‡å®šç‰¹å®š JDK ç‰ˆæœ¬"></a>åœºæ™¯å››ï¼šæŒ‡å®šç‰¹å®š JDK ç‰ˆæœ¬</h3><p>å¦‚æœéœ€è¦ä½¿ç”¨ç‰¹å®šç‰ˆæœ¬çš„ JDK è¿è¡Œ JMeterï¼ˆè€Œéç³»ç»Ÿé»˜è®¤çš„ <code>JAVA_HOME</code>ï¼‰ï¼Œå¯ä»¥åœ¨ <code>setenv.bat</code> ä¸­ä¸´æ—¶ä¿®æ”¹ç¯å¢ƒå˜é‡ï¼š</p><pre class="line-numbers language-batch" data-language="batch"><code class="language-batch"><span class="token comment">rem è®¾ç½®ç‰¹å®šçš„ JDK è·¯å¾„</span><span class="token command"><span class="token keyword">set</span> <span class="token variable">JAVA_HOME</span><span class="token operator">=</span>C:\Program Files\Java\jdk<span class="token number">-17</span></span><span class="token comment">rem å°†è¯¥ JDK çš„ bin ç›®å½•æ·»åŠ åˆ° PATH æœ€å‰é¢ï¼Œç¡®ä¿ä¼˜å…ˆä½¿ç”¨</span><span class="token command"><span class="token keyword">set</span> <span class="token variable">PATH</span><span class="token operator">=</span><span class="token variable">%JAVA_HOME%</span>\bin;<span class="token variable">%PATH%</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><em>(æ³¨ï¼šè¿™ç§ä¿®æ”¹ä»…å¯¹å½“å‰ JMeter å¯åŠ¨è¿‡ç¨‹ç”Ÿæ•ˆï¼Œä¸ä¼šå½±å“ç³»ç»Ÿçš„å…¨å±€ç¯å¢ƒå˜é‡ã€‚)</em></p><hr><h2 id="6-é™„å½•ï¼šLinux-macOS-é…ç½®æŒ‡å—-setenv-sh"><a href="#6-é™„å½•ï¼šLinux-macOS-é…ç½®æŒ‡å—-setenv-sh" class="headerlink" title="6. é™„å½•ï¼šLinux/macOS é…ç½®æŒ‡å— (setenv.sh)"></a>6. é™„å½•ï¼šLinux/macOS é…ç½®æŒ‡å— (setenv.sh)</h2><p>åœ¨ Linux æˆ– macOS ç¯å¢ƒä¸‹ï¼Œå¯¹åº”çš„å¯åŠ¨è„šæœ¬æ˜¯ <code>jmeter</code> (Shell è„šæœ¬)ï¼Œä¸”é…å¥—çš„é…ç½®æ–‡ä»¶ä¸º <code>bin/setenv.sh</code>ã€‚</p><h3 id="6-1-å…³é”®å·®å¼‚å¯¹ç…§è¡¨"><a href="#6-1-å…³é”®å·®å¼‚å¯¹ç…§è¡¨" class="headerlink" title="6.1 å…³é”®å·®å¼‚å¯¹ç…§è¡¨"></a>6.1 å…³é”®å·®å¼‚å¯¹ç…§è¡¨</h3><table><thead><tr><th align="left">é…ç½®é¡¹</th><th align="left">Windows (<code>setenv.bat</code>)</th><th align="left">Linux/macOS (<code>setenv.sh</code>)</th></tr></thead><tbody><tr><td align="left"><strong>èµ‹å€¼è¯­æ³•</strong></td><td align="left"><code>set VAR=VAL</code></td><td align="left"><code>export VAR="VAL"</code></td></tr><tr><td align="left"><strong>å˜é‡å¼•ç”¨</strong></td><td align="left"><code>%VAR%</code></td><td align="left"><code>$VAR</code></td></tr><tr><td align="left"><strong>è·¯å¾„åˆ†éš”ç¬¦</strong></td><td align="left">åæ–œæ  <code>\</code></td><td align="left">æ­£æ–œæ  <code>/</code></td></tr><tr><td align="left"><strong>è·¯å¾„åˆ—è¡¨åˆ†éš”ç¬¦</strong></td><td align="left">åˆ†å· <code>;</code></td><td align="left">å†’å· <code>:</code></td></tr></tbody></table><h3 id="6-2-å¸¸ç”¨é…ç½®ç¤ºä¾‹-Linux"><a href="#6-2-å¸¸ç”¨é…ç½®ç¤ºä¾‹-Linux" class="headerlink" title="6.2 å¸¸ç”¨é…ç½®ç¤ºä¾‹ (Linux)"></a>6.2 å¸¸ç”¨é…ç½®ç¤ºä¾‹ (Linux)</h3><p><strong>1. å¢åŠ å†…å­˜</strong></p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">export</span> <span class="token assign-left variable">HEAP</span><span class="token operator">=</span><span class="token string">"-Xms4g -Xmx4g -XX:MaxMetaspaceSize=512m"</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><strong>2. è®¾ç½®ä¸­æ–‡ç•Œé¢</strong></p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">export</span> <span class="token assign-left variable">JVM_ARGS</span><span class="token operator">=</span><span class="token string">"<span class="token variable">$JVM_ARGS</span> -Duser.language=zh -Duser.region=CN"</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><strong>3. æŒ‡å®šç‰¹å®š JDK ç‰ˆæœ¬</strong></p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># è®¾ç½®ç‰¹å®šçš„ JDK è·¯å¾„</span><span class="token builtin class-name">export</span> <span class="token assign-left variable">JAVA_HOME</span><span class="token operator">=</span>/usr/lib/jvm/java-17-openjdk-amd64<span class="token comment"># å°†è¯¥ JDK çš„ bin ç›®å½•æ·»åŠ åˆ° PATH æœ€å‰é¢</span><span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span><span class="token variable">$JAVA_HOME</span>/bin:<span class="token environment constant">$PATH</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> JMeter </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JMeter </tag>
            
            <tag> jmeter.bat </tag>
            
            <tag> æ€§èƒ½æµ‹è¯• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JMeter vars.put æ“ä½œè¯¦ç»†æŒ‡å—</title>
      <link href="/2026/02/03/jmeter-zhong-de-vars-dui-xiang/"/>
      <url>/2026/02/03/jmeter-zhong-de-vars-dui-xiang/</url>
      
        <content type="html"><![CDATA[<h1 id="JMeter-vars-put-æ“ä½œè¯¦ç»†æŒ‡å—"><a href="#JMeter-vars-put-æ“ä½œè¯¦ç»†æŒ‡å—" class="headerlink" title="JMeter vars.put æ“ä½œè¯¦ç»†æŒ‡å—"></a>JMeter vars.put æ“ä½œè¯¦ç»†æŒ‡å—</h1><h2 id="1-æ¦‚è¿°"><a href="#1-æ¦‚è¿°" class="headerlink" title="1. æ¦‚è¿°"></a>1. æ¦‚è¿°</h2><p><code>vars</code> æ˜¯ JMeter å†…ç½®çš„<strong>çº¿ç¨‹çº§å˜é‡æ“ä½œå¯¹è±¡</strong>ï¼Œç”¨äºåœ¨å½“å‰çº¿ç¨‹çš„ä¸åŒå…ƒä»¶é—´ä¼ é€’æ•°æ®ï¼ˆå¦‚ PreProcessor â†’ Sampler â†’ PostProcessorï¼‰ã€‚<code>vars.put()</code> æ˜¯å…¶æ ¸å¿ƒæ–¹æ³•ä¹‹ä¸€ï¼Œç”¨äºå°†æ•°æ®å­˜å‚¨ä¸ºçº¿ç¨‹çº§å˜é‡ã€‚</p><blockquote><p>**tags: [ä½œç”¨åŸŸ]**ï¼š<code>vars</code> ä»…å¯¹å½“å‰çº¿ç¨‹å¯è§ï¼Œä¸åŒçº¿ç¨‹çš„ <code>vars</code> æ˜¯å®Œå…¨ç‹¬ç«‹çš„ï¼ˆçº¿ç¨‹éš”ç¦»ï¼‰ã€‚</p></blockquote><h2 id="2-vars-put-åŸºæœ¬ç”¨æ³•"><a href="#2-vars-put-åŸºæœ¬ç”¨æ³•" class="headerlink" title="2. vars.put() åŸºæœ¬ç”¨æ³•"></a>2. vars.put() åŸºæœ¬ç”¨æ³•</h2><h3 id="2-1-è¯­æ³•"><a href="#2-1-è¯­æ³•" class="headerlink" title="2.1 è¯­æ³•"></a>2.1 è¯­æ³•</h3><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// è¯­æ³•ï¼švars.put(å˜é‡å, å˜é‡å€¼);</span><span class="token comment">// è¯´æ˜ï¼šå˜é‡å€¼å¿…é¡»ä¸ºå­—ç¬¦ä¸²ç±»å‹ï¼ˆéå­—ç¬¦ä¸²ç±»å‹éœ€å…ˆè½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼‰</span>vars<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"key"</span><span class="token punctuation">,</span> <span class="token string">"value"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="2-2-ç¤ºä¾‹ï¼šå­˜å‚¨ä¸åŒç±»å‹çš„æ•°æ®"><a href="#2-2-ç¤ºä¾‹ï¼šå­˜å‚¨ä¸åŒç±»å‹çš„æ•°æ®" class="headerlink" title="2.2 ç¤ºä¾‹ï¼šå­˜å‚¨ä¸åŒç±»å‹çš„æ•°æ®"></a>2.2 ç¤ºä¾‹ï¼šå­˜å‚¨ä¸åŒç±»å‹çš„æ•°æ®</h3><h4 id="ç¤ºä¾‹-1ï¼šå­˜å‚¨å­—ç¬¦ä¸²"><a href="#ç¤ºä¾‹-1ï¼šå­˜å‚¨å­—ç¬¦ä¸²" class="headerlink" title="ç¤ºä¾‹ 1ï¼šå­˜å‚¨å­—ç¬¦ä¸²"></a>ç¤ºä¾‹ 1ï¼šå­˜å‚¨å­—ç¬¦ä¸²</h4><pre class="line-numbers language-groovy" data-language="groovy"><code class="language-groovy"><span class="token comment">// å­˜å‚¨å­—ç¬¦ä¸²å˜é‡</span>vars<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">"username"</span></span><span class="token punctuation">,</span> <span class="token interpolation-string"><span class="token string">"testuser"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>vars<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">"password"</span></span><span class="token punctuation">,</span> <span class="token interpolation-string"><span class="token string">"testpass"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// éªŒè¯å­˜å‚¨ç»“æœ</span>log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">"ç”¨æˆ·åï¼š"</span></span> <span class="token operator">+</span> vars<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">"username"</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// è¾“å‡ºï¼šç”¨æˆ·åï¼štestuser</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="ç¤ºä¾‹-2ï¼šå­˜å‚¨æ•°å€¼"><a href="#ç¤ºä¾‹-2ï¼šå­˜å‚¨æ•°å€¼" class="headerlink" title="ç¤ºä¾‹ 2ï¼šå­˜å‚¨æ•°å€¼"></a>ç¤ºä¾‹ 2ï¼šå­˜å‚¨æ•°å€¼</h4><blockquote><p>**tags: [ç±»å‹è½¬æ¢]**ï¼š<code>vars.put()</code> ä»…æ”¯æŒå­—ç¬¦ä¸²ï¼Œå­˜å‚¨æ•°å€¼æ—¶éœ€å…ˆè½¬æ¢ä¸ºå­—ç¬¦ä¸²ã€‚</p></blockquote><pre class="line-numbers language-groovy" data-language="groovy"><code class="language-groovy"><span class="token comment">// æ–¹æ³• 1ï¼šä½¿ç”¨ toString() è½¬æ¢</span><span class="token keyword">int</span> age <span class="token operator">=</span> <span class="token number">25</span><span class="token punctuation">;</span>vars<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">"userAge"</span></span><span class="token punctuation">,</span> age<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// æ–¹æ³• 2ï¼šä½¿ç”¨å­—ç¬¦ä¸²æ‹¼æ¥è½¬æ¢</span><span class="token keyword">int</span> score <span class="token operator">=</span> <span class="token number">95</span><span class="token punctuation">;</span>vars<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">"userScore"</span></span><span class="token punctuation">,</span> <span class="token interpolation-string"><span class="token string">""</span></span> <span class="token operator">+</span> score<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// æ–¹æ³• 3ï¼šä½¿ç”¨ String.valueOf() è½¬æ¢</span><span class="token keyword">long</span> timestamp <span class="token operator">=</span> System<span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>vars<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">"timestamp"</span></span><span class="token punctuation">,</span> String<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>timestamp<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="ç¤ºä¾‹-3ï¼šå­˜å‚¨å¸ƒå°”å€¼"><a href="#ç¤ºä¾‹-3ï¼šå­˜å‚¨å¸ƒå°”å€¼" class="headerlink" title="ç¤ºä¾‹ 3ï¼šå­˜å‚¨å¸ƒå°”å€¼"></a>ç¤ºä¾‹ 3ï¼šå­˜å‚¨å¸ƒå°”å€¼</h4><pre class="line-numbers language-groovy" data-language="groovy"><code class="language-groovy"><span class="token keyword">boolean</span> isActive <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>vars<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">"isUserActive"</span></span><span class="token punctuation">,</span> String<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>isActive<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// å­˜å‚¨ä¸º "true"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h2 id="3-vars-ç›¸å…³æ–¹æ³•"><a href="#3-vars-ç›¸å…³æ–¹æ³•" class="headerlink" title="3. vars ç›¸å…³æ–¹æ³•"></a>3. vars ç›¸å…³æ–¹æ³•</h2><h3 id="3-1-å­˜å‚¨å¯¹è±¡ï¼švars-putObject"><a href="#3-1-å­˜å‚¨å¯¹è±¡ï¼švars-putObject" class="headerlink" title="3.1 å­˜å‚¨å¯¹è±¡ï¼švars.putObject()"></a>3.1 å­˜å‚¨å¯¹è±¡ï¼švars.putObject()</h3><p>å½“éœ€è¦å­˜å‚¨<strong>éå­—ç¬¦ä¸²ç±»å‹</strong>çš„æ•°æ®ï¼ˆå¦‚æ•°ç»„ã€åˆ—è¡¨ã€Map ç­‰ï¼‰æ—¶ï¼Œä½¿ç”¨ <code>vars.putObject()</code>ã€‚</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// è¯­æ³•ï¼švars.putObject(å˜é‡å, å¯¹è±¡);</span>vars<span class="token punctuation">.</span><span class="token function">putObject</span><span class="token punctuation">(</span><span class="token string">"key"</span><span class="token punctuation">,</span> object<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h4 id="ç¤ºä¾‹ï¼šå­˜å‚¨æ•°ç»„å’Œ-Map"><a href="#ç¤ºä¾‹ï¼šå­˜å‚¨æ•°ç»„å’Œ-Map" class="headerlink" title="ç¤ºä¾‹ï¼šå­˜å‚¨æ•°ç»„å’Œ Map"></a>ç¤ºä¾‹ï¼šå­˜å‚¨æ•°ç»„å’Œ Map</h4><pre class="line-numbers language-groovy" data-language="groovy"><code class="language-groovy"><span class="token comment">// å­˜å‚¨å­—ç¬¦ä¸²æ•°ç»„</span><span class="token keyword">def</span> ipArray <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token interpolation-string"><span class="token string">"192.168.1.1"</span></span><span class="token punctuation">,</span> <span class="token interpolation-string"><span class="token string">"192.168.1.2"</span></span><span class="token punctuation">,</span> <span class="token interpolation-string"><span class="token string">"192.168.1.3"</span></span><span class="token punctuation">]</span><span class="token punctuation">;</span>vars<span class="token punctuation">.</span><span class="token function">putObject</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">"ipList"</span></span><span class="token punctuation">,</span> ipArray<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// å­˜å‚¨ Map å¯¹è±¡</span><span class="token keyword">def</span> userInfo <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token interpolation-string"><span class="token string">"id"</span></span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token interpolation-string"><span class="token string">"name"</span></span><span class="token punctuation">:</span> <span class="token interpolation-string"><span class="token string">"testuser"</span></span><span class="token punctuation">,</span> <span class="token interpolation-string"><span class="token string">"age"</span></span><span class="token punctuation">:</span> <span class="token number">25</span><span class="token punctuation">]</span><span class="token punctuation">;</span>vars<span class="token punctuation">.</span><span class="token function">putObject</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">"userMap"</span></span><span class="token punctuation">,</span> userInfo<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// éªŒè¯å­˜å‚¨ç»“æœ</span>log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">"IP åˆ—è¡¨é•¿åº¦ï¼š"</span></span> <span class="token operator">+</span> vars<span class="token punctuation">.</span><span class="token function">getObject</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">"ipList"</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// è¾“å‡ºï¼š3</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="3-2-è·å–å˜é‡ï¼švars-get"><a href="#3-2-è·å–å˜é‡ï¼švars-get" class="headerlink" title="3.2 è·å–å˜é‡ï¼švars.get()"></a>3.2 è·å–å˜é‡ï¼švars.get()</h3><p>ç”¨äºè·å–ä¹‹å‰å­˜å‚¨çš„<strong>å­—ç¬¦ä¸²å˜é‡</strong>ï¼Œè‹¥å˜é‡ä¸å­˜åœ¨è¿”å› <code>null</code>ã€‚</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// è¯­æ³•ï¼švars.get(å˜é‡å);</span><span class="token class-name">String</span> value <span class="token operator">=</span> vars<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"key"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h4 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h4><pre class="line-numbers language-groovy" data-language="groovy"><code class="language-groovy"><span class="token comment">// è·å–ä¹‹å‰å­˜å‚¨çš„å˜é‡</span><span class="token keyword">def</span> username <span class="token operator">=</span> vars<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">"username"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">def</span> age <span class="token operator">=</span> vars<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">"userAge"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// ä½¿ç”¨è·å–çš„å€¼</span><span class="token keyword">if</span> <span class="token punctuation">(</span>username <span class="token operator">!=</span> null<span class="token punctuation">)</span> <span class="token punctuation">{</span>    log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">"ç”¨æˆ·ï¼š"</span></span> <span class="token operator">+</span> username <span class="token operator">+</span> <span class="token interpolation-string"><span class="token string">"ï¼Œå¹´é¾„ï¼š"</span></span> <span class="token operator">+</span> age<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="3-3-è·å–å¯¹è±¡ï¼švars-getObject"><a href="#3-3-è·å–å¯¹è±¡ï¼švars-getObject" class="headerlink" title="3.3 è·å–å¯¹è±¡ï¼švars.getObject()"></a>3.3 è·å–å¯¹è±¡ï¼švars.getObject()</h3><p>ç”¨äºè·å–ä¹‹å‰å­˜å‚¨çš„<strong>å¯¹è±¡</strong>ï¼Œéœ€è¿›è¡Œç±»å‹å¼ºè½¬ã€‚</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// è¯­æ³•ï¼švars.getObject(å˜é‡å);</span><span class="token class-name">Object</span> value <span class="token operator">=</span> vars<span class="token punctuation">.</span><span class="token function">getObject</span><span class="token punctuation">(</span><span class="token string">"key"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h4 id="ç¤ºä¾‹-1"><a href="#ç¤ºä¾‹-1" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h4><pre class="line-numbers language-groovy" data-language="groovy"><code class="language-groovy"><span class="token comment">// è·å–æ•°ç»„å¯¹è±¡</span><span class="token keyword">def</span> ipList <span class="token operator">=</span> <span class="token punctuation">(</span>List<span class="token operator">&lt;</span>String<span class="token operator">&gt;</span><span class="token punctuation">)</span> vars<span class="token punctuation">.</span><span class="token function">getObject</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">"ipList"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">"ç¬¬ä¸€ä¸ª IPï¼š"</span></span> <span class="token operator">+</span> ipList<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// è¾“å‡ºï¼š192.168.1.1</span><span class="token comment">// è·å– Map å¯¹è±¡</span><span class="token keyword">def</span> userMap <span class="token operator">=</span> <span class="token punctuation">(</span>Map<span class="token operator">&lt;</span>String<span class="token punctuation">,</span> Object<span class="token operator">&gt;</span><span class="token punctuation">)</span> vars<span class="token punctuation">.</span><span class="token function">getObject</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">"userMap"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">"ç”¨æˆ·åï¼š"</span></span> <span class="token operator">+</span> userMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">"name"</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// è¾“å‡ºï¼štestuser</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="3-4-ç§»é™¤å˜é‡ï¼švars-remove"><a href="#3-4-ç§»é™¤å˜é‡ï¼švars-remove" class="headerlink" title="3.4 ç§»é™¤å˜é‡ï¼švars.remove()"></a>3.4 ç§»é™¤å˜é‡ï¼švars.remove()</h3><p>ä»å½“å‰çº¿ç¨‹çš„å˜é‡ç©ºé—´ä¸­ç§»é™¤æŒ‡å®šå˜é‡ã€‚</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// è¯­æ³•ï¼švars.remove(å˜é‡å);</span>vars<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">"key"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h4 id="ç¤ºä¾‹-2"><a href="#ç¤ºä¾‹-2" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h4><pre class="line-numbers language-groovy" data-language="groovy"><code class="language-groovy"><span class="token comment">// ç§»é™¤å˜é‡</span>vars<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">"username"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// éªŒè¯æ˜¯å¦ç§»é™¤æˆåŠŸ</span>log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">"ç”¨æˆ·åæ˜¯å¦å­˜åœ¨ï¼š"</span></span> <span class="token operator">+</span> <span class="token punctuation">(</span>vars<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">"username"</span></span><span class="token punctuation">)</span> <span class="token operator">==</span> null<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// è¾“å‡ºï¼štrue</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="3-5-æ¸…ç©ºæ‰€æœ‰å˜é‡ï¼švars-clear"><a href="#3-5-æ¸…ç©ºæ‰€æœ‰å˜é‡ï¼švars-clear" class="headerlink" title="3.5 æ¸…ç©ºæ‰€æœ‰å˜é‡ï¼švars.clear()"></a>3.5 æ¸…ç©ºæ‰€æœ‰å˜é‡ï¼švars.clear()</h3><p>æ¸…ç©ºå½“å‰çº¿ç¨‹çš„æ‰€æœ‰å˜é‡ï¼ˆè°¨æ…ä½¿ç”¨ï¼Œå¯èƒ½å½±å“åç»­å…ƒä»¶ï¼‰ã€‚</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// è¯­æ³•ï¼švars.clear();</span>vars<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h4 id="ç¤ºä¾‹-3"><a href="#ç¤ºä¾‹-3" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h4><pre class="line-numbers language-groovy" data-language="groovy"><code class="language-groovy"><span class="token comment">// æ¸…ç©ºæ‰€æœ‰å˜é‡</span>vars<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// éªŒè¯å˜é‡æ•°é‡</span>log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">"å˜é‡æ•°é‡ï¼š"</span></span> <span class="token operator">+</span> vars<span class="token punctuation">.</span><span class="token function">entrySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// è¾“å‡ºï¼š0</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="4-å¸¸è§ä½¿ç”¨åœºæ™¯"><a href="#4-å¸¸è§ä½¿ç”¨åœºæ™¯" class="headerlink" title="4. å¸¸è§ä½¿ç”¨åœºæ™¯"></a>4. å¸¸è§ä½¿ç”¨åœºæ™¯</h2><h3 id="åœºæ™¯-1ï¼šPreProcessor-ä¸­ç”Ÿæˆæ•°æ®ä¼ é€’ç»™-Sampler"><a href="#åœºæ™¯-1ï¼šPreProcessor-ä¸­ç”Ÿæˆæ•°æ®ä¼ é€’ç»™-Sampler" class="headerlink" title="åœºæ™¯ 1ï¼šPreProcessor ä¸­ç”Ÿæˆæ•°æ®ä¼ é€’ç»™ Sampler"></a>åœºæ™¯ 1ï¼šPreProcessor ä¸­ç”Ÿæˆæ•°æ®ä¼ é€’ç»™ Sampler</h3><blockquote><p>**tags: [å…¸å‹åº”ç”¨]**ï¼šåœ¨è¯·æ±‚å‰ç”ŸæˆåŠ¨æ€æ•°æ®ï¼ˆå¦‚å”¯ä¸€ IDã€æ—¶é—´æˆ³ï¼‰ï¼Œå¹¶åœ¨ Sampler ä¸­ä½¿ç”¨ã€‚</p></blockquote><p><strong>ç¤ºä¾‹</strong>ï¼šç”Ÿæˆå”¯ä¸€è¯·æ±‚ ID å¹¶åœ¨ HTTP Request ä¸­ä½¿ç”¨</p><ol><li><strong>æ·»åŠ  JSR223 PreProcessor</strong>ï¼ˆHTTP Request çš„å­å…ƒä»¶ï¼‰ï¼š</li></ol><pre class="line-numbers language-groovy" data-language="groovy"><code class="language-groovy"><span class="token comment">// ç”Ÿæˆå”¯ä¸€è¯·æ±‚ ID</span><span class="token keyword">def</span> requestId <span class="token operator">=</span> <span class="token interpolation-string"><span class="token string">"REQ_"</span></span> <span class="token operator">+</span> System<span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>vars<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">"requestId"</span></span><span class="token punctuation">,</span> requestId<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// ç”Ÿæˆæ—¶é—´æˆ³</span><span class="token keyword">def</span> timestamp <span class="token operator">=</span> String<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>System<span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>vars<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">"timestamp"</span></span><span class="token punctuation">,</span> timestamp<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="2"><li><strong>åœ¨ HTTP Request ä¸­å¼•ç”¨</strong>ï¼š<ul><li><strong>Path</strong> å­—æ®µå¡«å†™ï¼š<code>/api/test?requestId=${requestId}&amp;timestamp=${timestamp}</code></li><li>å®é™…è¯·æ±‚è·¯å¾„ä¼šè¢«æ›¿æ¢ä¸ºï¼š<code>/api/test?requestId=REQ_1678901234567&amp;timestamp=1678901234567</code></li></ul></li></ol><h3 id="åœºæ™¯-2ï¼šPostProcessor-ä¸­æå–å“åº”æ•°æ®ä¼ é€’ç»™åç»­-Sampler"><a href="#åœºæ™¯-2ï¼šPostProcessor-ä¸­æå–å“åº”æ•°æ®ä¼ é€’ç»™åç»­-Sampler" class="headerlink" title="åœºæ™¯ 2ï¼šPostProcessor ä¸­æå–å“åº”æ•°æ®ä¼ é€’ç»™åç»­ Sampler"></a>åœºæ™¯ 2ï¼šPostProcessor ä¸­æå–å“åº”æ•°æ®ä¼ é€’ç»™åç»­ Sampler</h3><blockquote><p>**tags: [æ•°æ®æµè½¬]**ï¼šä»å“åº”ä¸­æå–æ•°æ®ï¼ˆå¦‚ tokenã€ç”¨æˆ· IDï¼‰ï¼Œä¾›åç»­è¯·æ±‚ä½¿ç”¨ã€‚</p></blockquote><p><strong>ç¤ºä¾‹</strong>ï¼šæå–å“åº”ä¸­çš„ token å¹¶åœ¨åç»­è¯·æ±‚çš„ Header ä¸­ä½¿ç”¨</p><ol><li><strong>æ·»åŠ  JSR223 PostProcessor</strong>ï¼ˆç¬¬ä¸€ä¸ª HTTP Request çš„å­å…ƒä»¶ï¼‰ï¼š</li></ol><pre class="line-numbers language-groovy" data-language="groovy"><code class="language-groovy"><span class="token comment">// è·å–å“åº”ä½“</span>String response <span class="token operator">=</span> prev<span class="token punctuation">.</span><span class="token function">getResponseDataAsString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// æ­£åˆ™æå– token</span><span class="token keyword">def</span> tokenMatcher <span class="token operator">=</span> response <span class="token operator">=~</span> <span class="token interpolation-string"><span class="token string">/"token":"([^"]+)"/</span></span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>tokenMatcher<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    String token <span class="token operator">=</span> tokenMatcher<span class="token punctuation">.</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    vars<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">"authToken"</span></span><span class="token punctuation">,</span> token<span class="token punctuation">)</span><span class="token punctuation">;</span>    log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">"å·²æå– tokenï¼š"</span></span> <span class="token operator">+</span> token<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="2"><li><strong>åœ¨åç»­ HTTP Request çš„ Header ä¸­å¼•ç”¨</strong>ï¼š<ul><li>æ·»åŠ  Headerï¼š<code>Authorization</code> â†’ å€¼å¡«å†™ï¼š<code>Bearer ${authToken}</code></li></ul></li></ol><h3 id="åœºæ™¯-3ï¼šå­˜å‚¨å¤æ‚æ•°æ®ç»“æ„"><a href="#åœºæ™¯-3ï¼šå­˜å‚¨å¤æ‚æ•°æ®ç»“æ„" class="headerlink" title="åœºæ™¯ 3ï¼šå­˜å‚¨å¤æ‚æ•°æ®ç»“æ„"></a>åœºæ™¯ 3ï¼šå­˜å‚¨å¤æ‚æ•°æ®ç»“æ„</h3><blockquote><p>**tags: [æ•°æ®ç»“æ„]**ï¼šå¯¹äºæ•°ç»„ã€åˆ—è¡¨ç­‰å¤æ‚æ•°æ®ï¼Œä½¿ç”¨ <code>vars.putObject()</code> å­˜å‚¨æ›´é«˜æ•ˆã€‚</p></blockquote><p><strong>ç¤ºä¾‹</strong>ï¼šå­˜å‚¨ç”¨æˆ·åˆ—è¡¨å¹¶åœ¨åç»­å…ƒä»¶ä¸­éå†ä½¿ç”¨</p><ol><li><strong>åœ¨ PreProcessor ä¸­å­˜å‚¨ç”¨æˆ·åˆ—è¡¨</strong>ï¼š</li></ol><pre class="line-numbers language-groovy" data-language="groovy"><code class="language-groovy"><span class="token comment">// å®šä¹‰ç”¨æˆ·åˆ—è¡¨</span><span class="token keyword">def</span> users <span class="token operator">=</span> <span class="token punctuation">[</span>    <span class="token punctuation">[</span><span class="token interpolation-string"><span class="token string">"id"</span></span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token interpolation-string"><span class="token string">"name"</span></span><span class="token punctuation">:</span> <span class="token interpolation-string"><span class="token string">"user1"</span></span><span class="token punctuation">,</span> <span class="token interpolation-string"><span class="token string">"age"</span></span><span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token punctuation">[</span><span class="token interpolation-string"><span class="token string">"id"</span></span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token interpolation-string"><span class="token string">"name"</span></span><span class="token punctuation">:</span> <span class="token interpolation-string"><span class="token string">"user2"</span></span><span class="token punctuation">,</span> <span class="token interpolation-string"><span class="token string">"age"</span></span><span class="token punctuation">:</span> <span class="token number">25</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token punctuation">[</span><span class="token interpolation-string"><span class="token string">"id"</span></span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token interpolation-string"><span class="token string">"name"</span></span><span class="token punctuation">:</span> <span class="token interpolation-string"><span class="token string">"user3"</span></span><span class="token punctuation">,</span> <span class="token interpolation-string"><span class="token string">"age"</span></span><span class="token punctuation">:</span> <span class="token number">30</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">// å­˜å‚¨ä¸ºå¯¹è±¡</span>vars<span class="token punctuation">.</span><span class="token function">putObject</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">"userList"</span></span><span class="token punctuation">,</span> users<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="2"><li><strong>åœ¨åç»­ PostProcessor ä¸­ä½¿ç”¨</strong>ï¼š</li></ol><pre class="line-numbers language-groovy" data-language="groovy"><code class="language-groovy"><span class="token comment">// è·å–ç”¨æˆ·åˆ—è¡¨</span>List<span class="token operator">&lt;</span>Map<span class="token operator">&lt;</span>String<span class="token punctuation">,</span> Object<span class="token operator">&gt;&gt;</span> userList <span class="token operator">=</span> <span class="token punctuation">(</span>List<span class="token operator">&lt;</span>Map<span class="token operator">&lt;</span>String<span class="token punctuation">,</span> Object<span class="token operator">&gt;&gt;</span><span class="token punctuation">)</span> vars<span class="token punctuation">.</span><span class="token function">getObject</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">"userList"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// éå†ç”¨æˆ·åˆ—è¡¨</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> userList<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    Map<span class="token operator">&lt;</span>String<span class="token punctuation">,</span> Object<span class="token operator">&gt;</span> user <span class="token operator">=</span> userList<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>    log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">"ç”¨æˆ· "</span></span> <span class="token operator">+</span> <span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token interpolation-string"><span class="token string">"ï¼š"</span></span> <span class="token operator">+</span> user<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">"name"</span></span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token interpolation-string"><span class="token string">"ï¼Œå¹´é¾„ï¼š"</span></span> <span class="token operator">+</span> user<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">"age"</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="5-æ³¨æ„äº‹é¡¹"><a href="#5-æ³¨æ„äº‹é¡¹" class="headerlink" title="5. æ³¨æ„äº‹é¡¹"></a>5. æ³¨æ„äº‹é¡¹</h2><blockquote><p>**tags: [è­¦å‘Š]**ï¼šä»¥ä¸‹äº‹é¡¹éœ€ç‰¹åˆ«æ³¨æ„ï¼Œé¿å…ä½¿ç”¨é”™è¯¯ã€‚</p></blockquote><h3 id="5-1-å­—ç¬¦ä¸²å¿…é¡»åŠ å¼•å·"><a href="#5-1-å­—ç¬¦ä¸²å¿…é¡»åŠ å¼•å·" class="headerlink" title="5.1 å­—ç¬¦ä¸²å¿…é¡»åŠ å¼•å·"></a>5.1 å­—ç¬¦ä¸²å¿…é¡»åŠ å¼•å·</h3><p>å­˜å‚¨å­—ç¬¦ä¸²æ—¶ï¼Œå¿…é¡»ç”¨å¼•å·åŒ…å›´ï¼ˆåŒå¼•å·æˆ–å•å¼•å·ï¼‰ï¼Œå¦åˆ™ Groovy ä¼šå°†å…¶è§†ä¸ºå˜é‡åï¼ˆæœªå®šä¹‰ä¼šæŠ¥é”™ï¼‰ã€‚</p><pre class="line-numbers language-groovy" data-language="groovy"><code class="language-groovy"><span class="token comment">// é”™è¯¯ï¼štest è¢«è§†ä¸ºå˜é‡åï¼ˆæœªå®šä¹‰ä¼šæŠ›å‡ºå¼‚å¸¸ï¼‰</span><span class="token comment">// vars.put("var", test);  // æŠ›å‡º MissingPropertyException</span><span class="token comment">// æ­£ç¡®ï¼šç”¨å¼•å·åŒ…å›´å­—ç¬¦ä¸²</span>vars<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">"var"</span></span><span class="token punctuation">,</span> <span class="token interpolation-string"><span class="token string">"test"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="5-2-è·¨çº¿ç¨‹å…±äº«éœ€ä½¿ç”¨-props"><a href="#5-2-è·¨çº¿ç¨‹å…±äº«éœ€ä½¿ç”¨-props" class="headerlink" title="5.2 è·¨çº¿ç¨‹å…±äº«éœ€ä½¿ç”¨ props"></a>5.2 è·¨çº¿ç¨‹å…±äº«éœ€ä½¿ç”¨ props</h3><p><code>vars</code> ä»…å¯¹å½“å‰çº¿ç¨‹å¯è§ï¼Œè‹¥éœ€è·¨çº¿ç¨‹å…±äº«æ•°æ®ï¼Œåº”ä½¿ç”¨ <code>props</code>ï¼ˆå…¨å±€å±æ€§ï¼‰ã€‚</p><pre class="line-numbers language-groovy" data-language="groovy"><code class="language-groovy"><span class="token comment">// å­˜å‚¨ä¸ºå…¨å±€å±æ€§ï¼ˆæ‰€æœ‰çº¿ç¨‹å¯è§ï¼‰</span>props<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">"globalVar"</span></span><span class="token punctuation">,</span> <span class="token interpolation-string"><span class="token string">"value"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// åœ¨å…¶ä»–çº¿ç¨‹ä¸­è·å–</span>String value <span class="token operator">=</span> props<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">"globalVar"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="5-3-å˜é‡æ›¿æ¢ä»…åœ¨æ”¯æŒçš„å­—æ®µä¸­ç”Ÿæ•ˆ"><a href="#5-3-å˜é‡æ›¿æ¢ä»…åœ¨æ”¯æŒçš„å­—æ®µä¸­ç”Ÿæ•ˆ" class="headerlink" title="5.3 å˜é‡æ›¿æ¢ä»…åœ¨æ”¯æŒçš„å­—æ®µä¸­ç”Ÿæ•ˆ"></a>5.3 å˜é‡æ›¿æ¢ä»…åœ¨æ”¯æŒçš„å­—æ®µä¸­ç”Ÿæ•ˆ</h3><p><code>${å˜é‡å}</code> è¯­æ³•ä»…åœ¨ JMeter æ”¯æŒå˜é‡æ›¿æ¢çš„å­—æ®µä¸­ç”Ÿæ•ˆï¼ˆå¦‚ HTTP Request çš„è·¯å¾„ã€å‚æ•°å€¼ã€Header ç­‰ï¼‰ã€‚</p><h3 id="5-4-æ€§èƒ½è€ƒè™‘"><a href="#5-4-æ€§èƒ½è€ƒè™‘" class="headerlink" title="5.4 æ€§èƒ½è€ƒè™‘"></a>5.4 æ€§èƒ½è€ƒè™‘</h3><ul><li>é¿å…åœ¨é«˜é¢‘æ‰§è¡Œçš„å…ƒä»¶ï¼ˆå¦‚å¾ªç¯ä¸­çš„ Samplerï¼‰ä¸­é¢‘ç¹è°ƒç”¨ <code>vars.put()</code>/<code>vars.get()</code>ï¼Œå¯èƒ½å½±å“æ€§èƒ½ã€‚</li><li>å¯¹äºå¤æ‚æ•°æ®ç»“æ„ï¼Œä¼˜å…ˆä½¿ç”¨ <code>vars.putObject()</code> å­˜å‚¨ï¼Œå‡å°‘ç±»å‹è½¬æ¢å¼€é”€ã€‚</li></ul><h2 id="6-ä¸å…¶ä»–å˜é‡æ“ä½œå¯¹è±¡çš„å¯¹æ¯”"><a href="#6-ä¸å…¶ä»–å˜é‡æ“ä½œå¯¹è±¡çš„å¯¹æ¯”" class="headerlink" title="6. ä¸å…¶ä»–å˜é‡æ“ä½œå¯¹è±¡çš„å¯¹æ¯”"></a>6. ä¸å…¶ä»–å˜é‡æ“ä½œå¯¹è±¡çš„å¯¹æ¯”</h2><table><thead><tr><th>æ“ä½œå¯¹è±¡</th><th>ä½œç”¨åŸŸ</th><th>ç”Ÿå‘½å‘¨æœŸ</th><th>é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td><code>vars</code></td><td>å½“å‰çº¿ç¨‹</td><td>çº¿ç¨‹æ‰§è¡ŒæœŸé—´</td><td>çº¿ç¨‹å†…æ•°æ®ä¼ é€’</td></tr><tr><td><code>props</code></td><td>å…¨å±€ï¼ˆæ‰€æœ‰çº¿ç¨‹ï¼‰</td><td>æµ‹è¯•è®¡åˆ’æ‰§è¡ŒæœŸé—´</td><td>è·¨çº¿ç¨‹æ•°æ®å…±äº«</td></tr><tr><td><code>ctx</code></td><td>å½“å‰çº¿ç¨‹</td><td>çº¿ç¨‹æ‰§è¡ŒæœŸé—´</td><td>è®¿é—® JMeter ä¸Šä¸‹æ–‡ï¼ˆå¦‚é‡‡æ ·å™¨ç»“æœï¼‰</td></tr><tr><td><code>prev</code></td><td>å½“å‰çº¿ç¨‹</td><td>å½“å‰é‡‡æ ·å™¨æ‰§è¡Œå</td><td>è®¿é—®ä¸Šä¸€ä¸ªé‡‡æ ·å™¨çš„ç»“æœ</td></tr></tbody></table><h2 id="7-å®Œæ•´ç¤ºä¾‹ï¼šIP-è½®è¯¢åœºæ™¯"><a href="#7-å®Œæ•´ç¤ºä¾‹ï¼šIP-è½®è¯¢åœºæ™¯" class="headerlink" title="7. å®Œæ•´ç¤ºä¾‹ï¼šIP è½®è¯¢åœºæ™¯"></a>7. å®Œæ•´ç¤ºä¾‹ï¼šIP è½®è¯¢åœºæ™¯</h2><h3 id="7-1-éœ€æ±‚"><a href="#7-1-éœ€æ±‚" class="headerlink" title="7.1 éœ€æ±‚"></a>7.1 éœ€æ±‚</h3><p>å®šä¹‰ IP åˆ—è¡¨ <code>["192.168.1.1", "192.168.1.2", "192.168.1.3"]</code>ï¼Œå¹¶åœ¨æ¯æ¬¡è¯·æ±‚æ—¶æŒ‰é¡ºåºè½®è¯¢ä½¿ç”¨ã€‚</p><h3 id="7-2-å®ç°æ­¥éª¤"><a href="#7-2-å®ç°æ­¥éª¤" class="headerlink" title="7.2 å®ç°æ­¥éª¤"></a>7.2 å®ç°æ­¥éª¤</h3><ol><li><strong>æ·»åŠ  JSR223 PreProcessor</strong>ï¼ˆçº¿ç¨‹ç»„çº§åˆ«ï¼‰ï¼š</li></ol><pre class="line-numbers language-groovy" data-language="groovy"><code class="language-groovy"><span class="token comment">// åˆå§‹åŒ– IP åˆ—è¡¨ï¼ˆä»…é¦–æ¬¡æ‰§è¡Œæ—¶åˆå§‹åŒ–ï¼‰</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>vars<span class="token punctuation">.</span><span class="token function">containsKey</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">"ipListInitialized"</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">def</span> ipList <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token interpolation-string"><span class="token string">"192.168.1.1"</span></span><span class="token punctuation">,</span> <span class="token interpolation-string"><span class="token string">"192.168.1.2"</span></span><span class="token punctuation">,</span> <span class="token interpolation-string"><span class="token string">"192.168.1.3"</span></span><span class="token punctuation">]</span><span class="token punctuation">;</span>    vars<span class="token punctuation">.</span><span class="token function">putObject</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">"ipList"</span></span><span class="token punctuation">,</span> ipList<span class="token punctuation">)</span><span class="token punctuation">;</span>    vars<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">"ipIndex"</span></span><span class="token punctuation">,</span> <span class="token interpolation-string"><span class="token string">"0"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>    vars<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">"ipListInitialized"</span></span><span class="token punctuation">,</span> <span class="token interpolation-string"><span class="token string">"true"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>    log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">"IP åˆ—è¡¨å·²åˆå§‹åŒ–ï¼š"</span></span> <span class="token operator">+</span> ipList<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">// è½®è¯¢é€»è¾‘</span><span class="token keyword">def</span> ipList <span class="token operator">=</span> vars<span class="token punctuation">.</span><span class="token function">getObject</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">"ipList"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> index <span class="token operator">=</span> Integer<span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span>vars<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">"ipIndex"</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> size <span class="token operator">=</span> ipList<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// è·å–å½“å‰ IP</span>String currentIp <span class="token operator">=</span> ipList<span class="token punctuation">[</span>index <span class="token operator">%</span> size<span class="token punctuation">]</span><span class="token punctuation">;</span>vars<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">"currentIp"</span></span><span class="token punctuation">,</span> currentIp<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// æ›´æ–°ç´¢å¼•</span>vars<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">"ipIndex"</span></span><span class="token punctuation">,</span> String<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token punctuation">(</span>index <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">%</span> size<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">"å½“å‰è½®è¯¢ IPï¼š"</span></span> <span class="token operator">+</span> currentIp<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="2"><li><strong>åœ¨ HTTP Request ä¸­å¼•ç”¨</strong>ï¼š<ul><li><strong>Server Name or IP</strong> å­—æ®µå¡«å†™ï¼š<code>${currentIp}</code></li></ul></li></ol><h3 id="7-3-æ‰§è¡Œç»“æœ"><a href="#7-3-æ‰§è¡Œç»“æœ" class="headerlink" title="7.3 æ‰§è¡Œç»“æœ"></a>7.3 æ‰§è¡Œç»“æœ</h3><ul><li>ç¬¬ 1 æ¬¡è¯·æ±‚ï¼šä½¿ç”¨ IP <code>192.168.1.1</code></li><li>ç¬¬ 2 æ¬¡è¯·æ±‚ï¼šä½¿ç”¨ IP <code>192.168.1.2</code></li><li>ç¬¬ 3 æ¬¡è¯·æ±‚ï¼šä½¿ç”¨ IP <code>192.168.1.3</code></li><li>ç¬¬ 4 æ¬¡è¯·æ±‚ï¼šå¾ªç¯ä½¿ç”¨ IP <code>192.168.1.1</code></li></ul><h2 id="8-æ€»ç»“"><a href="#8-æ€»ç»“" class="headerlink" title="8. æ€»ç»“"></a>8. æ€»ç»“</h2><p><code>vars.put()</code> æ˜¯ JMeter ä¸­ç®¡ç†çº¿ç¨‹çº§å˜é‡çš„æ ¸å¿ƒæ–¹æ³•ï¼Œé€šè¿‡æœ¬æ–‡çš„æŒ‡å—ï¼Œæ‚¨åº”å·²æŒæ¡ï¼š</p><ul><li>âœ… <code>vars.put()</code> çš„åŸºæœ¬ç”¨æ³•å’Œç±»å‹è½¬æ¢</li><li>âœ… <code>vars</code> ç›¸å…³æ–¹æ³•ï¼ˆå¦‚ <code>putObject()</code>ã€<code>get()</code>ã€<code>remove()</code>ï¼‰çš„ä½¿ç”¨</li><li>âœ… å¸¸è§ä½¿ç”¨åœºæ™¯ï¼ˆå¦‚æ•°æ®ä¼ é€’ã€å“åº”æå–ã€å¤æ‚æ•°æ®å­˜å‚¨ï¼‰</li><li>âœ… æ³¨æ„äº‹é¡¹å’Œæ€§èƒ½ä¼˜åŒ–å»ºè®®</li></ul><p>åˆç†ä½¿ç”¨ <code>vars</code> å¯¹è±¡ï¼Œå¯å¤§å¹…æå‡ JMeter è„šæœ¬çš„çµæ´»æ€§å’Œå¯ç»´æŠ¤æ€§ï¼Œå®ç°æ›´å¤æ‚çš„æµ‹è¯•åœºæ™¯ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æ€§èƒ½æµ‹è¯• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JMeter </tag>
            
            <tag> æ€§èƒ½æµ‹è¯• </tag>
            
            <tag> å˜é‡æ“ä½œ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo å•ä»“åº“åŒåˆ†æ”¯ é…åˆaction</title>
      <link href="/2026/01/30/hexo-dan-cang-ku-shuang-fen-zhi-yun-xiao-ji/"/>
      <url>/2026/01/30/hexo-dan-cang-ku-shuang-fen-zhi-yun-xiao-ji/</url>
      
        <content type="html"><![CDATA[<h1 id="Hexo-å•ä»“åº“åŒåˆ†æ”¯ï¼šæ‘†è„±æœ¬åœ°hexoã€node"><a href="#Hexo-å•ä»“åº“åŒåˆ†æ”¯ï¼šæ‘†è„±æœ¬åœ°hexoã€node" class="headerlink" title="Hexo å•ä»“åº“åŒåˆ†æ”¯ï¼šæ‘†è„±æœ¬åœ°hexoã€node"></a>Hexo å•ä»“åº“åŒåˆ†æ”¯ï¼šæ‘†è„±æœ¬åœ°hexoã€node</h1><p>æœ¬æ–¹æ¡ˆæ—¨åœ¨å®ç°ä¸€ä¸ª<strong>å®Œå…¨è„±ç¦»æœ¬åœ°ç¯å¢ƒ</strong>ã€éšæ—¶éšåœ°å¯å†™ä½œçš„ç°ä»£åŒ–åšå®¢ç³»ç»Ÿã€‚ä½ åªéœ€è¦ä¸€ä¸ª GitHub è´¦å·ï¼Œå³å¯é€šè¿‡ç½‘é¡µæˆ–ä»»ä½• Git å®¢æˆ·ç«¯å‘å¸ƒæ–‡ç« ã€‚</p><h2 id="1-æ ¸å¿ƒæ¶æ„ï¼šå•ä»“åº“åŒåˆ†æ”¯"><a href="#1-æ ¸å¿ƒæ¶æ„ï¼šå•ä»“åº“åŒåˆ†æ”¯" class="headerlink" title="1. æ ¸å¿ƒæ¶æ„ï¼šå•ä»“åº“åŒåˆ†æ”¯"></a>1. æ ¸å¿ƒæ¶æ„ï¼šå•ä»“åº“åŒåˆ†æ”¯</h2><p>åŒä¸€ä¸ª GitHub ä»“åº“çš„ä¸¤ä¸ªåˆ†æ”¯ï¼Œå®ç°â€œæºç â€ä¸â€œç½‘é¡µâ€çš„åˆ†ç¦»ï¼š</p><table><thead><tr><th align="left">åˆ†æ”¯å</th><th align="left">ä½œç”¨</th><th align="left">å†…å®¹</th><th align="left">æƒé™</th></tr></thead><tbody><tr><td align="left"><strong><code>dev</code></strong></td><td align="left"><strong>åå° (æºç )</strong></td><td align="left">Markdown æ–‡ç« ã€é…ç½®æ–‡ä»¶ã€<code>package.json</code></td><td align="left"><strong>é»˜è®¤åˆ†æ”¯</strong>ï¼Œä½ åœ¨æ­¤å†™ä½œ</td></tr><tr><td align="left"><strong><code>master</code></strong></td><td align="left"><strong>å‰å° (ç½‘é¡µ)</strong></td><td align="left">HTML/CSS/JS (ç”± Action è‡ªåŠ¨ç”Ÿæˆ)</td><td align="left">ä»…ç”± Robot æ¨é€ï¼Œ<strong>å‹¿æ‰‹åŠ¨ä¿®æ”¹</strong></td></tr></tbody></table><hr><h2 id="2-åˆå§‹ç¯å¢ƒæ­å»º-åªéœ€åšä¸€æ¬¡"><a href="#2-åˆå§‹ç¯å¢ƒæ­å»º-åªéœ€åšä¸€æ¬¡" class="headerlink" title="2. åˆå§‹ç¯å¢ƒæ­å»º (åªéœ€åšä¸€æ¬¡)"></a>2. åˆå§‹ç¯å¢ƒæ­å»º (åªéœ€åšä¸€æ¬¡)</h2><h3 id="ç¬¬ä¸€æ­¥ï¼šå‡†å¤‡ä»“åº“"><a href="#ç¬¬ä¸€æ­¥ï¼šå‡†å¤‡ä»“åº“" class="headerlink" title="ç¬¬ä¸€æ­¥ï¼šå‡†å¤‡ä»“åº“"></a>ç¬¬ä¸€æ­¥ï¼šå‡†å¤‡ä»“åº“</h3><ol><li> åœ¨ GitHub åˆ›å»ºä¸€ä¸ªæ–°ä»“åº“ï¼Œåç§°å¿…é¡»ä¸ºï¼š<code>ä½ çš„ç”¨æˆ·å.github.io</code>ã€‚</li><li> ä»“åº“è®¾ç½®ä¸º <strong>Public</strong>ï¼ˆå…¬å¼€ï¼‰ã€‚</li></ol><h3 id="ç¬¬äºŒæ­¥ï¼šåˆå§‹åŒ–åˆ†æ”¯"><a href="#ç¬¬äºŒæ­¥ï¼šåˆå§‹åŒ–åˆ†æ”¯" class="headerlink" title="ç¬¬äºŒæ­¥ï¼šåˆå§‹åŒ–åˆ†æ”¯"></a>ç¬¬äºŒæ­¥ï¼šåˆå§‹åŒ–åˆ†æ”¯</h3><p>åœ¨æœ¬åœ°æˆ–è€…ç›´æ¥åœ¨ GitHub ç½‘é¡µä¸Šæ“ä½œï¼š</p><ol><li> ç¡®ä¿ä½ å½“å‰å¤„äºä¸€ä¸ªå¹²å‡€çš„åˆ†æ”¯ï¼ˆå»ºè®®å‘½åä¸º <code>dev</code>ï¼‰ã€‚</li><li> å°† Hexo æºç ï¼ˆ<code>source/</code>, <code>themes/</code>, <code>_config.yml</code>, <code>package.json</code> ç­‰ï¼‰å…¨éƒ¨æ¨é€åˆ° <code>dev</code>ã€‚</li><li> åœ¨ GitHub ä»“åº“è®¾ç½® (<strong>Settings -&gt; General</strong>) ä¸­ï¼Œå°† <strong>Default branch</strong> ä¿®æ”¹ä¸º **<code>dev</code>**ã€‚</li><li> (å¯é€‰) åˆ é™¤è¿œç¨‹çš„ <code>master</code> åˆ†æ”¯ï¼ˆå¦‚æœæœ‰ï¼‰ï¼Œè®© Action ç¨åè‡ªåŠ¨é‡å»ºä¸€ä¸ªå¹²å‡€çš„ã€‚</li></ol><h3 id="ç¬¬ä¸‰æ­¥ï¼šé…ç½®è‡ªåŠ¨åŒ–-GitHub-Actions"><a href="#ç¬¬ä¸‰æ­¥ï¼šé…ç½®è‡ªåŠ¨åŒ–-GitHub-Actions" class="headerlink" title="ç¬¬ä¸‰æ­¥ï¼šé…ç½®è‡ªåŠ¨åŒ– (GitHub Actions)"></a>ç¬¬ä¸‰æ­¥ï¼šé…ç½®è‡ªåŠ¨åŒ– (GitHub Actions)</h3><p>åœ¨ <code>dev</code> åˆ†æ”¯æ ¹ç›®å½•ä¸‹ï¼Œåˆ›å»ºæ–‡ä»¶ <code>.github/workflows/deploy.yml</code>ï¼š</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">name</span><span class="token punctuation">:</span> Deploy Hexo Blog<span class="token key atrule">on</span><span class="token punctuation">:</span>  <span class="token key atrule">push</span><span class="token punctuation">:</span>    <span class="token key atrule">branches</span><span class="token punctuation">:</span>      <span class="token punctuation">-</span> dev  <span class="token comment"># ç›‘å¬æºç åˆ†æ”¯çš„å˜åŠ¨</span><span class="token key atrule">permissions</span><span class="token punctuation">:</span>  <span class="token key atrule">contents</span><span class="token punctuation">:</span> write <span class="token comment"># å¿…é¡»èµ‹äºˆå†™æƒé™</span><span class="token key atrule">jobs</span><span class="token punctuation">:</span>  <span class="token key atrule">build</span><span class="token punctuation">:</span>    <span class="token key atrule">runs-on</span><span class="token punctuation">:</span> ubuntu<span class="token punctuation">-</span>latest    <span class="token key atrule">steps</span><span class="token punctuation">:</span>      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Checkout Source        <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/checkout@v4        <span class="token key atrule">with</span><span class="token punctuation">:</span>          <span class="token key atrule">ref</span><span class="token punctuation">:</span> dev          <span class="token comment"># æ‹‰å–æºç </span>          <span class="token key atrule">submodules</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>  <span class="token comment"># å…¼å®¹ä¸»é¢˜ submodule</span>          <span class="token key atrule">fetch-depth</span><span class="token punctuation">:</span> <span class="token number">0</span>      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Setup Node.js        <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/setup<span class="token punctuation">-</span>node@v4        <span class="token key atrule">with</span><span class="token punctuation">:</span>          <span class="token key atrule">node-version</span><span class="token punctuation">:</span> <span class="token string">'20'</span> <span class="token comment"># ä½¿ç”¨ç°ä»£ Node ç‰ˆæœ¬</span>      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Upgrade npm &amp; Install Hexo CLI        <span class="token key atrule">run</span><span class="token punctuation">:</span> <span class="token punctuation">|</span><span class="token scalar string">          npm install -g npm@latest          npm install -g hexo-cli</span>      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Install Dependencies        <span class="token key atrule">run</span><span class="token punctuation">:</span> npm install <span class="token punctuation">-</span><span class="token punctuation">-</span>no<span class="token punctuation">-</span>optional      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Build Hexo        <span class="token key atrule">run</span><span class="token punctuation">:</span> hexo generate      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Deploy to Master        <span class="token key atrule">uses</span><span class="token punctuation">:</span> peaceiris/actions<span class="token punctuation">-</span>gh<span class="token punctuation">-</span>pages@v3        <span class="token key atrule">with</span><span class="token punctuation">:</span>          <span class="token key atrule">github_token</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span><span class="token punctuation">{</span> secrets.GITHUB_TOKEN <span class="token punctuation">}</span><span class="token punctuation">}</span>          <span class="token key atrule">publish_dir</span><span class="token punctuation">:</span> ./public          <span class="token key atrule">publish_branch</span><span class="token punctuation">:</span> master  <span class="token comment"># å‘å¸ƒåˆ° master åˆ†æ”¯</span>          <span class="token key atrule">commit_message</span><span class="token punctuation">:</span> <span class="token string">"Auto deploy: ${{ github.event.head_commit.message }}"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="ç¬¬å››æ­¥ï¼šå¼€å¯-GitHub-Pages"><a href="#ç¬¬å››æ­¥ï¼šå¼€å¯-GitHub-Pages" class="headerlink" title="ç¬¬å››æ­¥ï¼šå¼€å¯ GitHub Pages"></a>ç¬¬å››æ­¥ï¼šå¼€å¯ GitHub Pages</h3><p>ç­‰å¾…ç¬¬ä¸€æ¬¡ Action è·‘é€šï¼ˆæ˜¾ç¤ºç»¿è‰² âœ…ï¼‰åï¼š</p><ol><li> è¿›å…¥ä»“åº“ <strong>Settings -&gt; Pages</strong>ã€‚</li><li> <strong>Source</strong> é€‰æ‹© <code>Deploy from a branch</code>ã€‚</li><li> <strong>Branch</strong> é€‰æ‹© <code>master</code> åˆ†æ”¯ï¼ˆæ ¹ç›®å½• <code>/root</code>ï¼‰ã€‚</li><li> ä¿å­˜ã€‚</li></ol><hr><h2 id="3-æ—¥å¸¸å†™ä½œæµç¨‹-å®Œå…¨äº‘ç«¯åŒ–"><a href="#3-æ—¥å¸¸å†™ä½œæµç¨‹-å®Œå…¨äº‘ç«¯åŒ–" class="headerlink" title="3. æ—¥å¸¸å†™ä½œæµç¨‹ (å®Œå…¨äº‘ç«¯åŒ–)"></a>3. æ—¥å¸¸å†™ä½œæµç¨‹ (å®Œå…¨äº‘ç«¯åŒ–)</h2><p>ä½ å¯ä»¥é€‰æ‹©ä»¥ä¸‹ä»»æ„ä¸€ç§æ–¹å¼å†™æ–‡ç« ï¼Œ<strong>æ— éœ€æœ¬åœ°å®‰è£… Node.js/Hexo</strong>ã€‚</p><h3 id="æ–¹å¼-Aï¼šGitHub-ç½‘é¡µç‰ˆ-æœ€ç®€å•"><a href="#æ–¹å¼-Aï¼šGitHub-ç½‘é¡µç‰ˆ-æœ€ç®€å•" class="headerlink" title="æ–¹å¼ Aï¼šGitHub ç½‘é¡µç‰ˆ (æœ€ç®€å•)"></a>æ–¹å¼ Aï¼šGitHub ç½‘é¡µç‰ˆ (æœ€ç®€å•)</h3><ol><li> æ‰“å¼€ä½ çš„ä»“åº“é¦–é¡µï¼ˆé»˜è®¤å°±æ˜¯ <code>dev</code> åˆ†æ”¯ï¼‰ã€‚</li><li> è¿›å…¥ <code>source/_posts/</code> ç›®å½•ã€‚</li><li> ç‚¹å‡» <strong>Add file -&gt; Create new file</strong>ã€‚</li><li>æ–‡ä»¶åå¡« <code>æˆ‘çš„æ–°æ–‡ç« .md</code>ï¼Œå†…å®¹å†™å…¥ï¼š <pre class="line-numbers language-markdown" data-language="markdown"><code class="language-markdown"><span class="token front-matter-block"><span class="token punctuation">---</span><span class="token front-matter yaml language-yaml"><span class="token key atrule">title</span><span class="token punctuation">:</span> æˆ‘çš„æ–°æ–‡ç« <span class="token key atrule">date</span><span class="token punctuation">:</span> <span class="token datetime number">2024-03-21 12:00:00</span><span class="token key atrule">tags</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>ç”Ÿæ´»<span class="token punctuation">,</span> è®°å½•<span class="token punctuation">]</span></span><span class="token punctuation">---</span></span>è¿™é‡Œæ˜¯æ­£æ–‡å†…å®¹...<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li> ç‚¹å‡»åº•éƒ¨çš„ <strong>Commit changes</strong>ã€‚</li><li> <strong>å®Œæˆï¼</strong> ç­‰å¾… 1-2 åˆ†é’Ÿï¼Œä½ çš„åšå®¢ <code>https://ä½ çš„ç”¨æˆ·å.github.io</code> å°±ä¼šè‡ªåŠ¨æ›´æ–°ã€‚</li></ol><h3 id="æ–¹å¼-Bï¼šVS-Code-ç½‘é¡µç‰ˆ"><a href="#æ–¹å¼-Bï¼šVS-Code-ç½‘é¡µç‰ˆ" class="headerlink" title="æ–¹å¼ Bï¼šVS Code ç½‘é¡µç‰ˆ"></a>æ–¹å¼ Bï¼šVS Code ç½‘é¡µç‰ˆ</h3><ol><li> åœ¨ä½ çš„ä»“åº“é¡µé¢ï¼Œç›´æ¥æŒ‰é”®ç›˜ä¸Šçš„ <strong><code>.</code> (å¥å·)</strong> é”®ã€‚</li><li> è¿™ä¼šæ‰“å¼€ä¸€ä¸ªç½‘é¡µç‰ˆçš„ VS Code ç¼–è¾‘å™¨ã€‚</li><li> åƒåœ¨æœ¬åœ°ä¸€æ ·å†™æ–‡ç« ã€ç®¡ç†æ–‡ä»¶ã€‚</li><li> å†™å®Œååœ¨å·¦ä¾§ Git æ æäº¤å¹¶æ¨é€ã€‚</li></ol><hr><h2 id="4-é¿å‘æŒ‡å—"><a href="#4-é¿å‘æŒ‡å—" class="headerlink" title="4. é¿å‘æŒ‡å—"></a>4. é¿å‘æŒ‡å—</h2><ol><li><p><strong>ä¾èµ–ç®¡ç†</strong>ï¼š</p><ul><li>  ç¡®ä¿ <code>package.json</code> é‡Œçš„ <code>hexo</code> ç‰ˆæœ¬æ˜¯æ–°çš„ï¼ˆå»ºè®® <code>^7.0.0</code>ï¼‰ã€‚</li><li>  <strong>ä¸è¦ä¸Šä¼ </strong> <code>package-lock.json</code>ï¼ˆé™¤éä½ å¾ˆç¡®å®šç¯å¢ƒä¸€è‡´ï¼‰ï¼Œè®© Action æ¯æ¬¡è‡ªå·±è®¡ç®—ä¾èµ–ï¼Œå¯ä»¥é¿å…å¾ˆå¤š npm å…¼å®¹æ€§æŠ¥é”™ã€‚</li></ul></li><li><p><strong>å›¾ç‰‡å¤„ç†</strong>ï¼š</p><ul><li>  åœ¨ç½‘é¡µç«¯å†™æ–‡ç« æ—¶ï¼Œä¸Šä¼ å›¾ç‰‡æ¯”è¾ƒéº»çƒ¦ã€‚</li><li>  å»ºè®®ä½¿ç”¨ <strong>å›¾åºŠ</strong>ï¼ˆå¦‚ SM.MS, Imgur, æˆ–è‡ªå·±æ­å»ºçš„ OSSï¼‰ï¼Œåœ¨æ–‡ç« é‡Œç›´æ¥ç”¨ Markdown é“¾æ¥ <code>![](å›¾ç‰‡URL)</code> å¼•ç”¨ã€‚</li></ul></li><li><p><strong>ä¸»é¢˜ä¿®æ”¹</strong>ï¼š</p><ul><li>  å¦‚æœéœ€è¦ä¿®æ”¹ä¸»é¢˜é…ç½®ï¼ˆå¦‚èœå•ã€ä¾§è¾¹æ ï¼‰ï¼Œç›´æ¥ç¼–è¾‘ <code>_config.yml</code> æˆ–ä¸»é¢˜ç›®å½•ä¸‹çš„é…ç½®æ–‡ä»¶å¹¶æäº¤å³å¯ï¼ŒAction ä¼šè‡ªåŠ¨é‡æ–°ç¼–è¯‘ç”Ÿæ•ˆã€‚</li></ul></li></ol>]]></content>
      
      
      <categories>
          
          <category> æ‚è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ‚è®° </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>çº¿ç¨‹åŒ…æ‹¬å“ªäº›çŠ¶æ€ï¼ŒçŠ¶æ€ä¹‹é—´æ˜¯å¦‚ä½•å˜åŒ–</title>
      <link href="/2025/01/06/xian-cheng-bao-gua-na-xie-zhuang-tai-zhuang-tai-zhi-jian-shi-ru-he-bian-hua/"/>
      <url>/2025/01/06/xian-cheng-bao-gua-na-xie-zhuang-tai-zhuang-tai-zhi-jian-shi-ru-he-bian-hua/</url>
      
        <content type="html"><![CDATA[<h1 id="çº¿ç¨‹åŒ…æ‹¬å“ªäº›çŠ¶æ€ï¼ŒçŠ¶æ€ä¹‹é—´æ˜¯å¦‚ä½•å˜åŒ–"><a href="#çº¿ç¨‹åŒ…æ‹¬å“ªäº›çŠ¶æ€ï¼ŒçŠ¶æ€ä¹‹é—´æ˜¯å¦‚ä½•å˜åŒ–" class="headerlink" title="çº¿ç¨‹åŒ…æ‹¬å“ªäº›çŠ¶æ€ï¼ŒçŠ¶æ€ä¹‹é—´æ˜¯å¦‚ä½•å˜åŒ–?"></a>çº¿ç¨‹åŒ…æ‹¬å“ªäº›çŠ¶æ€ï¼ŒçŠ¶æ€ä¹‹é—´æ˜¯å¦‚ä½•å˜åŒ–?</h1><h2 id="1-çº¿ç¨‹çŠ¶æ€-å…­ç§çŠ¶æ€"><a href="#1-çº¿ç¨‹çŠ¶æ€-å…­ç§çŠ¶æ€" class="headerlink" title="1. çº¿ç¨‹çŠ¶æ€-å…­ç§çŠ¶æ€"></a>1. çº¿ç¨‹çŠ¶æ€-å…­ç§çŠ¶æ€</h2><blockquote><p>çº¿ç¨‹çš„çŠ¶æ€å¯ä»¥å‚è€ƒJDKä¸­çš„Threadç±»ä¸­çš„æšä¸¾State,å­˜åœ¨<strong>å…­ç§çŠ¶æ€</strong></p></blockquote><pre class="line-numbers language-java" data-language="java"><code class="language-java">  <span class="token keyword">public</span> <span class="token keyword">enum</span> <span class="token class-name">State</span> <span class="token punctuation">{</span><span class="token comment">//å°šæœªå¯åŠ¨çš„çº¿ç¨‹çš„çº¿ç¨‹çŠ¶æ€</span>  <span class="token constant">NEW</span><span class="token punctuation">,</span>  <span class="token comment">//å¯è¿è¡Œçº¿ç¨‹çš„çº¿ç¨‹çŠ¶æ€</span>  <span class="token constant">RUNNABLE</span><span class="token punctuation">,</span><span class="token comment">//çº¿ç¨‹é˜»å¡ç­‰å¾…ç›‘è§†å™¨é”çš„çº¿ç¨‹çŠ¶æ€</span>  <span class="token constant">BLOCKED</span><span class="token punctuation">,</span><span class="token comment">//ç­‰å¾…çº¿ç¨‹çš„çº¿ç¨‹çŠ¶æ€</span>  <span class="token constant">WAITING</span><span class="token punctuation">,</span><span class="token comment">//å…·æœ‰æŒ‡å®šç­‰å¾…æ—¶é—´çš„ç­‰å¾…çº¿ç¨‹çš„çº¿ç¨‹çŠ¶æ€ï¼ˆæœ‰é™ç­‰å¾…ï¼‰</span>  <span class="token constant">TIMED_WAITING</span><span class="token punctuation">,</span> <span class="token comment">//å·²ç»ˆæ­¢çº¿ç¨‹çš„çº¿ç¨‹çŠ¶æ€ã€‚çº¿ç¨‹å·²å®Œæˆæ‰§è¡Œ</span>  <span class="token constant">TERMINATED</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="https://r2.022032.xyz/yimouz/2026/01/2fdb8ef77376eb11c1cce6076e62efc7.png" alt="çº¿ç¨‹çŠ¶æ€è½¬æ¢å›¾"></p><p><strong>å…­ç§çŠ¶æ€ä»‹ç»:</strong></p><p><img src="https://r2.022032.xyz/yimouz/2026/01/839854b08e1175a7e13158bf2ec28662.png" alt="çº¿ç¨‹çŠ¶æ€ä»‹ç»"></p><p><strong>æ–°å»º(NEW)</strong></p><blockquote><ul><li>å½“ä¸€ä¸ªçº¿ç¨‹å¯¹è±¡è¢«åˆ›å»ºï¼Œä½†è¿˜æœªè°ƒç”¨ start æ–¹æ³•æ—¶å¤„äº<strong>æ–°å»º</strong>çŠ¶æ€</li><li>æ­¤æ—¶æœªä¸æ“ä½œç³»ç»Ÿåº•å±‚çº¿ç¨‹å…³è”</li></ul></blockquote><p><strong>å¯è¿è¡Œ(RUNNABLE)</strong>:</p><blockquote><ul><li>è°ƒç”¨äº† start æ–¹æ³•ï¼Œå°±ä¼šç”±<strong>æ–°å»º</strong>è¿›å…¥<strong>å¯è¿è¡Œ</strong></li><li>æ­¤æ—¶ä¸åº•å±‚çº¿ç¨‹å…³è”ï¼Œç”±æ“ä½œç³»ç»Ÿè°ƒåº¦æ‰§è¡Œ</li></ul></blockquote><p><strong>ç»ˆç»“(TERMINATED)</strong></p><blockquote><ul><li>çº¿ç¨‹å†…ä»£ç å·²ç»æ‰§è¡Œå®Œæ¯•ï¼Œç”±<strong>å¯è¿è¡Œ</strong>è¿›å…¥<strong>ç»ˆç»“</strong></li></ul></blockquote><blockquote><p>-æ­¤æ—¶ä¼šå–æ¶ˆä¸åº•å±‚çº¿ç¨‹å…³è”</p></blockquote><p><strong>é˜»å¡(BLOCKED)</strong></p><blockquote><ul><li>å½“è·å–é”å¤±è´¥åï¼Œç”±<strong>å¯è¿è¡Œ</strong>è¿›å…¥ Monitor çš„é˜»å¡é˜Ÿåˆ—<strong>é˜»å¡</strong>ï¼Œæ­¤æ—¶ä¸å ç”¨ cpu æ—¶é—´</li><li>å½“æŒé”çº¿ç¨‹é‡Šæ”¾é”æ—¶ï¼Œä¼šæŒ‰ç…§ä¸€å®šè§„åˆ™å”¤é†’é˜»å¡é˜Ÿåˆ—ä¸­çš„<strong>é˜»å¡</strong>çº¿ç¨‹ï¼Œå”¤é†’åçš„çº¿ç¨‹è¿›å…¥<strong>å¯è¿è¡Œ</strong>çŠ¶æ€</li></ul></blockquote><p><strong>ç­‰å¾…(WAITING)</strong></p><blockquote><ul><li>å½“è·å–é”æˆåŠŸåï¼Œä½†ç”±äºæ¡ä»¶ä¸æ»¡è¶³ï¼Œè°ƒç”¨äº† wait() æ–¹æ³•ï¼Œæ­¤æ—¶ä»<strong>å¯è¿è¡Œ</strong>çŠ¶æ€é‡Šæ”¾é”è¿›å…¥ Monitor ç­‰å¾…é›†åˆ<strong>ç­‰å¾…</strong>ï¼ŒåŒæ ·ä¸å ç”¨ cpu æ—¶é—´</li><li>å½“å…¶å®ƒæŒé”çº¿ç¨‹è°ƒç”¨ notify() æˆ– notifyAll() æ–¹æ³•ï¼Œä¼šæŒ‰ç…§ä¸€å®šè§„åˆ™å”¤é†’ç­‰å¾…é›†åˆä¸­çš„<strong>ç­‰å¾…</strong>çº¿ç¨‹ï¼Œæ¢å¤ä¸º<strong>å¯è¿è¡Œ</strong>çŠ¶æ€</li></ul></blockquote><p><strong>æœ‰æ—¶é™ç­‰å¾…(TIMED_WAITING)</strong></p><blockquote><ul><li>å½“è·å–é”æˆåŠŸåï¼Œä½†ç”±äºæ¡ä»¶ä¸æ»¡è¶³ï¼Œè°ƒç”¨äº† wait(long) æ–¹æ³•ï¼Œæ­¤æ—¶ä»<strong>å¯è¿è¡Œ</strong>çŠ¶æ€é‡Šæ”¾é”è¿›å…¥ Monitor ç­‰å¾…é›†åˆè¿›è¡Œ<strong>æœ‰æ—¶é™ç­‰å¾…</strong>ï¼ŒåŒæ ·ä¸å ç”¨ cpu æ—¶é—´</li><li>å½“å…¶å®ƒæŒé”çº¿ç¨‹è°ƒç”¨ notify() æˆ– notifyAll() æ–¹æ³•ï¼Œä¼šæŒ‰ç…§ä¸€å®šè§„åˆ™å”¤é†’ç­‰å¾…é›†åˆä¸­çš„<strong>æœ‰æ—¶é™ç­‰å¾…</strong>çº¿ç¨‹ï¼Œæ¢å¤ä¸º<strong>å¯è¿è¡Œ</strong>çŠ¶æ€ï¼Œå¹¶é‡æ–°å»ç«äº‰é”</li><li>å¦‚æœç­‰å¾…è¶…æ—¶ï¼Œä¹Ÿä¼šä»<strong>æœ‰æ—¶é™ç­‰å¾…</strong>çŠ¶æ€æ¢å¤ä¸º<strong>å¯è¿è¡Œ</strong>çŠ¶æ€ï¼Œå¹¶é‡æ–°å»ç«äº‰é”</li><li>è¿˜æœ‰ä¸€ç§æƒ…å†µæ˜¯è°ƒç”¨ sleep(long) æ–¹æ³•ä¹Ÿä¼šä»<strong>å¯è¿è¡Œ</strong>çŠ¶æ€è¿›å…¥<strong>æœ‰æ—¶é™ç­‰å¾…</strong>çŠ¶æ€ï¼Œä½†ä¸ Monitor æ— å…³ï¼Œä¸éœ€è¦ä¸»åŠ¨å”¤é†’ï¼Œè¶…æ—¶æ—¶é—´åˆ°è‡ªç„¶æ¢å¤ä¸º<strong>å¯è¿è¡Œ</strong>çŠ¶æ€</li></ul></blockquote><p><em><strong>å…¶å®ƒæƒ…å†µï¼ˆåªéœ€äº†è§£ï¼‰</strong></em></p><blockquote><ul><li>å¯ä»¥ç”¨ interrupt() æ–¹æ³•æ‰“æ–­<strong>ç­‰å¾…</strong>ã€<strong>æœ‰æ—¶é™ç­‰å¾…</strong>çš„çº¿ç¨‹ï¼Œè®©å®ƒä»¬æ¢å¤ä¸º<strong>å¯è¿è¡Œ</strong>çŠ¶æ€</li><li>parkï¼Œunpark ç­‰æ–¹æ³•ä¹Ÿå¯ä»¥è®©çº¿ç¨‹ç­‰å¾…å’Œå”¤é†’</li></ul></blockquote><h2 id="2-çº¿ç¨‹çŠ¶æ€-äº”ç§çŠ¶æ€"><a href="#2-çº¿ç¨‹çŠ¶æ€-äº”ç§çŠ¶æ€" class="headerlink" title="2. çº¿ç¨‹çŠ¶æ€-äº”ç§çŠ¶æ€"></a>2. çº¿ç¨‹çŠ¶æ€-äº”ç§çŠ¶æ€</h2><p><strong>äº”ç§çŠ¶æ€çš„è¯´æ³•æ¥è‡ªäºæ“ä½œç³»ç»Ÿå±‚é¢çš„åˆ’åˆ†</strong></p><p><img src="https://r2.022032.xyz/yimouz/2026/01/b3acf16e360c62b80baaefbc49e9097b.png" alt="æ“ä½œç³»ç»Ÿçº¿ç¨‹çŠ¶æ€å›¾"></p><blockquote><ul><li><p><strong>è¿è¡Œæ€</strong>ï¼šåˆ†åˆ° cpu æ—¶é—´ï¼Œèƒ½çœŸæ­£æ‰§è¡Œçº¿ç¨‹å†…ä»£ç çš„</p></li><li><p><strong>å°±ç»ªæ€</strong>ï¼šæœ‰èµ„æ ¼åˆ†åˆ° cpu æ—¶é—´ï¼Œä½†è¿˜æœªè½®åˆ°å®ƒçš„</p></li><li><p><strong>é˜»å¡æ€</strong>ï¼šæ²¡èµ„æ ¼åˆ†åˆ° cpu æ—¶é—´çš„</p></li><li><ul><li>æ¶µç›–äº† java çŠ¶æ€ä¸­æåˆ°çš„<strong>é˜»å¡</strong>ã€<strong>ç­‰å¾…</strong>ã€<strong>æœ‰æ—¶é™ç­‰å¾…</strong></li><li>å¤šå‡ºäº†é˜»å¡ I/Oï¼ŒæŒ‡çº¿ç¨‹åœ¨è°ƒç”¨é˜»å¡ I/O æ—¶ï¼Œå®é™…æ´»ç”± I/O è®¾å¤‡å®Œæˆï¼Œæ­¤æ—¶çº¿ç¨‹æ— äº‹å¯åšï¼Œåªèƒ½å¹²ç­‰</li></ul></li><li><p><strong>æ–°å»ºä¸ç»ˆç»“æ€</strong>ï¼šä¸ java ä¸­åŒåçŠ¶æ€ç±»ä¼¼ï¼Œä¸å†å•°å—¦</p></li></ul></blockquote><h2 id="3-waitå’Œsleepæ–¹æ³•çš„ä¸åŒï¼Ÿ"><a href="#3-waitå’Œsleepæ–¹æ³•çš„ä¸åŒï¼Ÿ" class="headerlink" title="3. waitå’Œsleepæ–¹æ³•çš„ä¸åŒï¼Ÿ"></a>3. waitå’Œsleepæ–¹æ³•çš„ä¸åŒï¼Ÿ</h2><p><strong>å…±åŒç‚¹</strong></p><blockquote><p>wait() ï¼Œwait(long) å’Œ sleep(long) çš„æ•ˆæœéƒ½æ˜¯è®©å½“å‰çº¿ç¨‹æš‚æ—¶æ”¾å¼ƒ CPU çš„ä½¿ç”¨æƒï¼Œè¿›å…¥é˜»å¡çŠ¶æ€</p></blockquote><p><strong>ä¸åŒç‚¹</strong></p><p>1.æ–¹æ³•å½’å±ä¸åŒ</p><blockquote><ul><li>sleep(long) æ˜¯ Thread çš„é™æ€æ–¹æ³•</li><li>è€Œ wait()ï¼Œwait(long) éƒ½æ˜¯ Object çš„æˆå‘˜æ–¹æ³•ï¼Œæ¯ä¸ªå¯¹è±¡éƒ½æœ‰ 2.é†’æ¥æ—¶æœºä¸åŒ</li><li>æ‰§è¡Œ sleep(long) å’Œ wait(long) çš„çº¿ç¨‹éƒ½ä¼šåœ¨ç­‰å¾…ç›¸åº”æ¯«ç§’åé†’æ¥</li><li>wait(long) å’Œ wait() è¿˜å¯ä»¥è¢« notify å”¤é†’ï¼Œwait() å¦‚æœä¸å”¤é†’å°±ä¸€ç›´ç­‰ä¸‹å»</li><li>å®ƒä»¬éƒ½å¯ä»¥è¢«æ‰“æ–­å”¤é†’</li></ul></blockquote><ol><li>é”ç‰¹æ€§ä¸åŒï¼ˆé‡ç‚¹ï¼‰</li></ol><blockquote><ul><li>wait æ–¹æ³•çš„è°ƒç”¨å¿…é¡»å…ˆè·å– wait å¯¹è±¡çš„é”ï¼Œè€Œ sleep åˆ™æ— æ­¤é™åˆ¶</li><li>wait æ–¹æ³•æ‰§è¡Œåä¼šé‡Šæ”¾å¯¹è±¡é”ï¼Œå…è®¸å…¶å®ƒçº¿ç¨‹è·å¾—è¯¥å¯¹è±¡é”ï¼ˆæˆ‘æ”¾å¼ƒ cpuï¼Œä½†ä½ ä»¬è¿˜å¯ä»¥ç”¨ï¼‰</li><li>è€Œ sleep å¦‚æœåœ¨ synchronized ä»£ç å—ä¸­æ‰§è¡Œï¼Œå¹¶ä¸ä¼šé‡Šæ”¾å¯¹è±¡é”ï¼ˆæˆ‘æ”¾å¼ƒ cpuï¼Œä½ ä»¬ä¹Ÿç”¨ä¸äº†ï¼‰</li></ul></blockquote><h2 id="3-çº¿ç¨‹çŠ¶æ€é¢è¯•é¢˜"><a href="#3-çº¿ç¨‹çŠ¶æ€é¢è¯•é¢˜" class="headerlink" title="3. çº¿ç¨‹çŠ¶æ€é¢è¯•é¢˜"></a>3. çº¿ç¨‹çŠ¶æ€é¢è¯•é¢˜</h2><p><strong>é¢è¯•å®˜</strong>ï¼šçº¿ç¨‹åŒ…æ‹¬å“ªäº›çŠ¶æ€ï¼ŒçŠ¶æ€ä¹‹é—´æ˜¯å¦‚ä½•å˜åŒ–çš„ï¼Ÿ</p><p><strong>å€™é€‰äººï¼š</strong></p><blockquote><p>åœ¨JDKä¸­çš„Threadç±»ä¸­çš„æšä¸¾Stateé‡Œé¢å®šä¹‰äº†6ä¸­çº¿ç¨‹çš„çŠ¶æ€åˆ†åˆ«æ˜¯ï¼šæ–°å»ºã€å¯è¿è¡Œã€ç»ˆç»“ã€é˜»å¡ã€ç­‰å¾…å’Œæœ‰æ—¶é™ç­‰å¾…å…­ç§ã€‚</p><p>å…³äºçº¿ç¨‹çš„çŠ¶æ€åˆ‡æ¢æƒ…å†µæ¯”è¾ƒå¤šã€‚æˆ‘åˆ†åˆ«ä»‹ç»ä¸€ä¸‹</p><p>å½“ä¸€ä¸ªçº¿ç¨‹å¯¹è±¡è¢«åˆ›å»ºï¼Œä½†è¿˜æœªè°ƒç”¨ start æ–¹æ³•æ—¶å¤„äº<strong>æ–°å»º</strong>çŠ¶æ€ï¼Œè°ƒç”¨äº† start æ–¹æ³•ï¼Œå°±ä¼šç”±<strong>æ–°å»º</strong>è¿›å…¥<strong>å¯è¿è¡Œ</strong>çŠ¶æ€ã€‚å¦‚æœçº¿ç¨‹å†…ä»£ç å·²ç»æ‰§è¡Œå®Œæ¯•ï¼Œç”±<strong>å¯è¿è¡Œ</strong>è¿›å…¥<strong>ç»ˆç»“</strong>çŠ¶æ€ã€‚å½“ç„¶è¿™äº›æ˜¯ä¸€ä¸ªçº¿ç¨‹æ­£å¸¸æ‰§è¡Œæƒ…å†µã€‚</p><p>å¦‚æœçº¿ç¨‹è·å–é”å¤±è´¥åï¼Œç”±<strong>å¯è¿è¡Œ</strong>è¿›å…¥ Monitor çš„é˜»å¡é˜Ÿåˆ—<strong>é˜»å¡</strong>ï¼Œåªæœ‰å½“æŒé”çº¿ç¨‹é‡Šæ”¾é”æ—¶ï¼Œä¼šæŒ‰ç…§ä¸€å®šè§„åˆ™å”¤é†’é˜»å¡é˜Ÿåˆ—ä¸­çš„<strong>é˜»å¡</strong>çº¿ç¨‹ï¼Œå”¤é†’åçš„çº¿ç¨‹è¿›å…¥<strong>å¯è¿è¡Œ</strong>çŠ¶æ€</p><p>å¦‚æœçº¿ç¨‹è·å–é”æˆåŠŸåï¼Œä½†ç”±äºæ¡ä»¶ä¸æ»¡è¶³ï¼Œè°ƒç”¨äº† wait() æ–¹æ³•ï¼Œæ­¤æ—¶ä»<strong>å¯è¿è¡Œ</strong>çŠ¶æ€é‡Šæ”¾é”<strong>ç­‰å¾…</strong>çŠ¶æ€ï¼Œå½“å…¶å®ƒæŒé”çº¿ç¨‹è°ƒç”¨ notify() æˆ– notifyAll() æ–¹æ³•ï¼Œä¼šæ¢å¤ä¸º<strong>å¯è¿è¡Œ</strong>çŠ¶æ€</p><p>è¿˜æœ‰ä¸€ç§æƒ…å†µæ˜¯è°ƒç”¨ sleep(long) æ–¹æ³•ä¹Ÿä¼šä»<strong>å¯è¿è¡Œ</strong>çŠ¶æ€è¿›å…¥<strong>æœ‰æ—¶é™ç­‰å¾…</strong>çŠ¶æ€ï¼Œä¸éœ€è¦ä¸»åŠ¨å”¤é†’ï¼Œè¶…æ—¶æ—¶é—´åˆ°è‡ªç„¶æ¢å¤ä¸º<strong>å¯è¿è¡Œ</strong>çŠ¶æ€</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> æ€§èƒ½ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> çº¿ç¨‹æ±  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JMeter-prev</title>
      <link href="/2024/12/03/shi-yong-jmeter-zhong-de-prev-dui-xiang/"/>
      <url>/2024/12/03/shi-yong-jmeter-zhong-de-prev-dui-xiang/</url>
      
        <content type="html"><![CDATA[<p> JMeter ä¸­ï¼Œ<code>prev</code> å¯¹è±¡æ˜¯ä¸€ä¸ªéå¸¸é‡è¦çš„å˜é‡ï¼Œé€šå¸¸ç”¨äºåœ¨ JSR223 Sampler æˆ–è€… BeanShell Sampler ä¸­è·å–ä¸Šä¸€ä¸ª Sampler çš„ç»“æœã€‚è®°å½•ä¸‹ <code>prev</code> å¯¹è±¡çš„å¸¸ç”¨ APIã€‚</p><h3 id="ä»€ä¹ˆæ˜¯-prev-å¯¹è±¡ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯-prev-å¯¹è±¡ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯ prev å¯¹è±¡ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯ <code>prev</code> å¯¹è±¡ï¼Ÿ</h3><p><code>prev</code> å¯¹è±¡æ˜¯ä¸€ä¸ª <code>SampleResult</code> ç±»å‹çš„å®ä¾‹ï¼Œå®ƒåŒ…å«äº†ä¸Šä¸€ä¸ª Sampler çš„æ‰€æœ‰ä¿¡æ¯å’Œç»“æœã€‚é€šè¿‡ä½¿ç”¨ <code>prev</code> å¯¹è±¡ï¼Œæˆ‘ä»¬å¯ä»¥è®¿é—®ä¸Šä¸€ä¸ªè¯·æ±‚çš„å“åº”æ•°æ®ã€å“åº”æ—¶é—´ã€å“åº”ä»£ç ç­‰ä¿¡æ¯ã€‚</p><h3 id="å¸¸ç”¨çš„-prev-API"><a href="#å¸¸ç”¨çš„-prev-API" class="headerlink" title="å¸¸ç”¨çš„ prev API"></a>å¸¸ç”¨çš„ <code>prev</code> API</h3><p>ä¸‹é¢æ˜¯ <code>prev</code> å¯¹è±¡çš„ä¸€äº›å¸¸ç”¨ API å’Œå±æ€§ï¼š</p><ol><li><p><strong>getTime()</strong></p><ul><li>è¿”å›é‡‡æ ·å™¨çš„å“åº”æ—¶é—´ï¼ˆä»¥æ¯«ç§’ä¸ºå•ä½ï¼‰ã€‚<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">long</span> responseTime <span class="token operator">=</span> prev<span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li></ul></li><li><p><strong>getResponseCode()</strong></p><ul><li>è¿”å›é‡‡æ ·å™¨çš„å“åº”ä»£ç ï¼ˆé€šå¸¸æ˜¯ HTTP çŠ¶æ€ç ï¼‰ã€‚<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">String</span> responseCode <span class="token operator">=</span> prev<span class="token punctuation">.</span><span class="token function">getResponseCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li></ul></li><li><p><strong>getResponseMessage()</strong></p><ul><li>è¿”å›é‡‡æ ·å™¨çš„å“åº”æ¶ˆæ¯ã€‚<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">String</span> responseMessage <span class="token operator">=</span> prev<span class="token punctuation">.</span><span class="token function">getResponseMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li></ul></li><li><p><strong>getResponseDataAsString()</strong></p><ul><li>ä»¥å­—ç¬¦ä¸²å½¢å¼è¿”å›å“åº”æ•°æ®ã€‚<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">String</span> responseData <span class="token operator">=</span> prev<span class="token punctuation">.</span><span class="token function">getResponseDataAsString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li></ul></li><li><p><strong>getResponseHeaders()</strong></p><ul><li>è¿”å›å“åº”å¤´ä¿¡æ¯ã€‚<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">String</span> responseHeaders <span class="token operator">=</span> prev<span class="token punctuation">.</span><span class="token function">getResponseHeaders</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li></ul></li><li><p><strong>getRequestHeaders()</strong></p><ul><li>è¿”å›è¯·æ±‚å¤´ä¿¡æ¯ã€‚<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">String</span> requestHeaders <span class="token operator">=</span> prev<span class="token punctuation">.</span><span class="token function">getRequestHeaders</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li></ul></li><li><p><strong>getSamplerData()</strong></p><ul><li>è¿”å›é‡‡æ ·å™¨çš„è¯·æ±‚æ•°æ®ã€‚<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">String</span> samplerData <span class="token operator">=</span> prev<span class="token punctuation">.</span><span class="token function">getSamplerData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li></ul></li><li><p><strong>getSampleLabel()</strong></p><ul><li>è¿”å›é‡‡æ ·å™¨çš„æ ‡ç­¾ã€‚<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">String</span> sampleLabel <span class="token operator">=</span> prev<span class="token punctuation">.</span><span class="token function">getSampleLabel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li></ul></li><li><p><strong>isSuccessful()</strong></p><ul><li>è¿”å›é‡‡æ ·å™¨çš„æ‰§è¡Œç»“æœæ˜¯å¦æˆåŠŸã€‚<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">boolean</span> isSuccess <span class="token operator">=</span> prev<span class="token punctuation">.</span><span class="token function">isSuccessful</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li></ul></li><li><p><strong>getURL()</strong></p><ul><li>è¿”å›é‡‡æ ·å™¨çš„è¯·æ±‚ URLã€‚<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">String</span> url <span class="token operator">=</span> prev<span class="token punctuation">.</span><span class="token function">getURL</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li></ul></li><li><p><strong>getStartTime()</strong></p><ul><li>è¿”å›é‡‡æ ·å™¨å¼€å§‹æ—¶é—´ï¼ˆä»¥æ¯«ç§’ä¸ºå•ä½ï¼‰ã€‚<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">long</span> startTime <span class="token operator">=</span> prev<span class="token punctuation">.</span><span class="token function">getStartTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li></ul></li><li><p><strong>getEndTime()</strong></p><ul><li>è¿”å›é‡‡æ ·å™¨ç»“æŸæ—¶é—´ï¼ˆä»¥æ¯«ç§’ä¸ºå•ä½ï¼‰ã€‚<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">long</span> endTime <span class="token operator">=</span> prev<span class="token punctuation">.</span><span class="token function">getEndTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li></ul></li></ol><h3 id="ä½¿ç”¨ç¤ºä¾‹"><a href="#ä½¿ç”¨ç¤ºä¾‹" class="headerlink" title="ä½¿ç”¨ç¤ºä¾‹"></a>ä½¿ç”¨ç¤ºä¾‹</h3><p>å‡è®¾æˆ‘ä»¬åœ¨æµ‹è¯•ä¸€ä¸ª RESTful APIï¼Œå¹¶ä¸”éœ€è¦åœ¨æ¯ä¸ªè¯·æ±‚ä¹‹åæ£€æŸ¥å“åº”æ•°æ®æ˜¯å¦åŒ…å«ç‰¹å®šçš„å­—ç¬¦ä¸²ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ JSR223 Sampler æ¥å®ç°è¿™ä¸ªåŠŸèƒ½ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªç¤ºä¾‹è„šæœ¬ï¼š</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// è·å–ä¸Šä¸€ä¸ªé‡‡æ ·å™¨çš„å“åº”æ•°æ®</span><span class="token class-name">String</span> responseData <span class="token operator">=</span> prev<span class="token punctuation">.</span><span class="token function">getResponseDataAsString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// æ£€æŸ¥å“åº”æ•°æ®æ˜¯å¦åŒ…å«ç‰¹å®šå­—ç¬¦ä¸²</span><span class="token keyword">if</span> <span class="token punctuation">(</span>responseData<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">"code"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// å¦‚æœåŒ…å«ï¼Œè®°å½•æ—¥å¿—å¹¶ç»§ç»­</span>    log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"Response contains the expected string."</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>    <span class="token comment">// å¦‚æœä¸åŒ…å«ï¼Œè®°å½•æ—¥å¿—å¹¶æ ‡è®°æµ‹è¯•å¤±è´¥</span>    log<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">"Response does not contain the expected string."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token class-name">AssertionResult</span><span class="token punctuation">.</span><span class="token function">setFailure</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token class-name">AssertionResult</span><span class="token punctuation">.</span><span class="token function">setFailureMessage</span><span class="token punctuation">(</span><span class="token string">"Response does not contain the expected string."</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å°±ç®—æ˜¯éšä¾¿è®°å½•ä¹Ÿå¸Œæœ›èƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬æ›´å¥½ç†è§£ï¼Œä¸è¦å¥å¿˜ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æ€§èƒ½ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JMeter </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JMeter POST è¯·æ±‚ç¼ºå¤± Header éœ€è¦æ‰‹åŠ¨æ·»åŠ </title>
      <link href="/2021/06/10/jmeter-post-qing-qiu-que-shi-header-de-jie-jue-fang-an/"/>
      <url>/2021/06/10/jmeter-post-qing-qiu-que-shi-header-de-jie-jue-fang-an/</url>
      
        <content type="html"><![CDATA[<h1 id="JMeter-POST-è¯·æ±‚ç¼ºå¤±-Header-çš„è§£å†³æ–¹æ¡ˆ"><a href="#JMeter-POST-è¯·æ±‚ç¼ºå¤±-Header-çš„è§£å†³æ–¹æ¡ˆ" class="headerlink" title="JMeter POST è¯·æ±‚ç¼ºå¤± Header çš„è§£å†³æ–¹æ¡ˆ"></a>JMeter POST è¯·æ±‚ç¼ºå¤± Header çš„è§£å†³æ–¹æ¡ˆ</h1><h2 id="1-é—®é¢˜èƒŒæ™¯"><a href="#1-é—®é¢˜èƒŒæ™¯" class="headerlink" title="1. é—®é¢˜èƒŒæ™¯"></a>1. é—®é¢˜èƒŒæ™¯</h2><p>åœ¨è¿›è¡Œæ¥å£æµ‹è¯•ï¼ˆç‰¹åˆ«æ˜¯ POST è¯·æ±‚ï¼‰æ—¶ï¼Œå¦‚æœæ²¡æœ‰æ˜¾å¼æ·»åŠ  <code>Content-Type</code> å¤´ï¼ŒæœåŠ¡ç«¯å¾€å¾€æ— æ³•æ­£ç¡®è§£æè¯·æ±‚ä½“ï¼Œä»è€Œè¿”å› <code>415 Unsupported Media Type</code> æˆ– <code>400 Bad Request</code> é”™è¯¯ã€‚<br>æœ€å¸¸è§çš„åœºæ™¯æ˜¯å‘é€ JSON æ•°æ®ï¼Œä½†æœªè®¾ç½® <code>Content-Type: application/json</code>ã€‚</p><h2 id="2-æ ¸å¿ƒè§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨-HTTP-Header-Manager"><a href="#2-æ ¸å¿ƒè§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨-HTTP-Header-Manager" class="headerlink" title="2. æ ¸å¿ƒè§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨ HTTP Header Manager"></a>2. æ ¸å¿ƒè§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨ HTTP Header Manager</h2><p>è¿™æ˜¯è§£å†³è¯¥é—®é¢˜æœ€æ ‡å‡†ã€æœ€çµæ´»çš„æ–¹æ³•ï¼Œé€‚ç”¨äº JSONã€XML ç­‰å„ç§æ•°æ®æ ¼å¼ã€‚</p><h3 id="æ“ä½œæ­¥éª¤"><a href="#æ“ä½œæ­¥éª¤" class="headerlink" title="æ“ä½œæ­¥éª¤"></a>æ“ä½œæ­¥éª¤</h3><ol><li><strong>æ·»åŠ ç»„ä»¶</strong>ï¼š<ul><li>  é€‰ä¸­ <strong>Test Plan (æµ‹è¯•è®¡åˆ’)</strong> æˆ– **Thread Group (çº¿ç¨‹ç»„)**ã€‚</li><li>  å³é”®èœå•é€‰æ‹©ï¼š<code>Add</code> -&gt; <code>Config Element</code> -&gt; <code>HTTP Header Manager</code> (HTTPä¿¡æ¯å¤´ç®¡ç†å™¨)ã€‚</li></ul></li><li><strong>é…ç½®å‚æ•°</strong>ï¼š<ul><li>  ç‚¹å‡»åº•éƒ¨çš„ <code>Add</code> æŒ‰é’®æ–°å¢ä¸€è¡Œã€‚</li><li>  <strong>Name</strong>: <code>Content-Type</code></li><li>  <strong>Value</strong>: <code>application/json</code> (å¦‚æœæ˜¯å…¶ä»–æ ¼å¼ï¼Œå¡«å†™å¯¹åº”çš„å€¼ï¼Œå¦‚ <code>application/xml</code>)</li></ul></li></ol><h3 id="ä½œç”¨èŒƒå›´è¯´æ˜"><a href="#ä½œç”¨èŒƒå›´è¯´æ˜" class="headerlink" title="ä½œç”¨èŒƒå›´è¯´æ˜"></a>ä½œç”¨èŒƒå›´è¯´æ˜</h3><ul><li>  <strong>å…¨å±€ç”Ÿæ•ˆ</strong>ï¼šå¦‚æœåœ¨ Test Plan æ ¹èŠ‚ç‚¹ä¸‹æ·»åŠ ï¼Œæ‰€æœ‰è¯·æ±‚éƒ½ä¼šé»˜è®¤å¸¦ä¸Šè¯¥ Headerã€‚</li><li>  <strong>å±€éƒ¨ç”Ÿæ•ˆ</strong>ï¼šå¦‚æœåœ¨æŸä¸ª Thread Group æˆ–å…·ä½“çš„ HTTP Request ä¸‹æ·»åŠ ï¼Œä»…å¯¹è¯¥èŒƒå›´å†…çš„è¯·æ±‚ç”Ÿæ•ˆã€‚</li></ul><h2 id="3-å¸¸è§è¯¯åŒºï¼šä¿®æ”¹-jmeter-properties"><a href="#3-å¸¸è§è¯¯åŒºï¼šä¿®æ”¹-jmeter-properties" class="headerlink" title="3. å¸¸è§è¯¯åŒºï¼šä¿®æ”¹ jmeter.properties"></a>3. å¸¸è§è¯¯åŒºï¼šä¿®æ”¹ jmeter.properties</h2><p><strong>æ³¨æ„</strong>ï¼šä¿®æ”¹é…ç½®æ–‡ä»¶ä¸­çš„ <code>post_add_content_type_if_missing</code> æ— æ³•è§£å†³ JSON æ ¼å¼çš„ Header ç¼ºå¤±é—®é¢˜ã€‚</p><ul><li>  <strong>å±€é™æ€§</strong>ï¼šè¯¥é…ç½®é¡¹å¼€å¯åï¼Œ<strong>åªèƒ½</strong> è‡ªåŠ¨è¡¥å…¨ <code>application/x-www-form-urlencoded</code>ã€‚</li><li>  <strong>æ— æ•ˆæ“ä½œ</strong>ï¼šå°†è¯¥é…ç½®é¡¹çš„å€¼æ”¹ä¸º <code>json</code> æˆ– <code>true</code> éƒ½æ— æ³•è®© JMeter è‡ªåŠ¨æ·»åŠ  <code>application/json</code>ã€‚</li><li>  <strong>ç»“è®º</strong>ï¼šè¯·å®Œå…¨å¿½ç•¥æ­¤é…ç½®é¡¹ï¼Œå§‹ç»ˆä½¿ç”¨ <strong>HTTP Header Manager</strong> æ¥ç®¡ç†è¯·æ±‚å¤´ã€‚</li></ul><h3 id="è¡¥å……è¯´æ˜ï¼šéšå¼è¡Œä¸º-Implicit-Behavior"><a href="#è¡¥å……è¯´æ˜ï¼šéšå¼è¡Œä¸º-Implicit-Behavior" class="headerlink" title="è¡¥å……è¯´æ˜ï¼šéšå¼è¡Œä¸º (Implicit Behavior)"></a>è¡¥å……è¯´æ˜ï¼šéšå¼è¡Œä¸º (Implicit Behavior)</h3><p>å¦‚æœå¼€å¯äº†è¯¥é…ç½® (<code>true</code>)ï¼Œå…¶è¡¥å…¨è¡Œä¸ºæ˜¯ <strong>éšå¼çš„</strong>ï¼š</p><ol><li> <strong>GUI ä¸å¯è§</strong>ï¼šä½ <strong>ä¸ä¼š</strong>åœ¨æµ‹è¯•è®¡åˆ’ç•Œé¢çœ‹åˆ°ä»»ä½•è‡ªåŠ¨ç”Ÿæˆçš„ Header Manager ç»„ä»¶ã€‚</li><li> <strong>ç»“æœå¯è§</strong>ï¼šåªæœ‰åœ¨è¿è¡Œæµ‹è¯•åï¼ŒæŸ¥çœ‹ <strong>View Results Tree (æŸ¥çœ‹ç»“æœæ ‘)</strong> -&gt; <strong>Request</strong> -&gt; <strong>Request Headers</strong> æ—¶ï¼Œæ‰ä¼šå‘ç° <code>Content-Type: application/x-www-form-urlencoded</code> è¢«é»˜é»˜æ·»åŠ åˆ°äº†è¯·æ±‚ä¸­ã€‚</li></ol><h3 id="è¡¥å……è¯´æ˜ï¼šä¼˜å…ˆçº§ä¸å†²çª-Priority"><a href="#è¡¥å……è¯´æ˜ï¼šä¼˜å…ˆçº§ä¸å†²çª-Priority" class="headerlink" title="è¡¥å……è¯´æ˜ï¼šä¼˜å…ˆçº§ä¸å†²çª (Priority)"></a>è¡¥å……è¯´æ˜ï¼šä¼˜å…ˆçº§ä¸å†²çª (Priority)</h3><p>å¦‚æœå¼€å¯äº†è‡ªåŠ¨è¡¥å…¨ï¼ŒåŒæ—¶ä½ åˆæ‰‹åŠ¨è®¾ç½®äº† Headerï¼Œç»“æœæ˜¯ï¼š<strong>ä»¥ä½ çš„æ‰‹åŠ¨è®¾ç½®ä¸ºå‡†</strong>ã€‚<br>è¯¥é…ç½®é¡¹çš„åç§° <code>..._if_missing</code> æ­ç¤ºäº†å…¶é€»è¾‘ï¼š</p><ul><li><strong>æ£€æŸ¥æœºåˆ¶</strong>ï¼šJMeter å‘é€è¯·æ±‚å‰ä¼šæ£€æŸ¥æ˜¯å¦å·²æœ‰ <code>Content-Type</code>ã€‚</li><li><strong>ç”¨æˆ·ä¼˜å…ˆ</strong>ï¼šåªè¦æ£€æµ‹åˆ°ä½ è®¾ç½®äº†è¯¥ Headerï¼ˆæ— è®ºå€¼æ˜¯ jsonã€xml è¿˜æ˜¯å…¶ä»–ï¼‰ï¼Œéšå¼è¡¥å…¨è¡Œä¸ºå°±<strong>ç›´æ¥è·³è¿‡</strong>ã€‚</li><li><strong>æœ€ç»ˆç»“æœ</strong>ï¼š<strong>ä¸ä¼šè¦†ç›–</strong>ï¼Œä¹Ÿ<strong>ä¸ä¼šå‡ºç°ä¸¤ä¸ª Header</strong>ã€‚ä½ çš„è®¾ç½®å®Œå…¨ç”Ÿæ•ˆï¼Œéšå¼è¡Œä¸ºå®Œå…¨å¤±æ•ˆã€‚</li></ul><h2 id="4-å¸¸è§-HTTP-Header-åŠä½¿ç”¨åœºæ™¯æŒ‡å—"><a href="#4-å¸¸è§-HTTP-Header-åŠä½¿ç”¨åœºæ™¯æŒ‡å—" class="headerlink" title="4. å¸¸è§ HTTP Header åŠä½¿ç”¨åœºæ™¯æŒ‡å—"></a>4. å¸¸è§ HTTP Header åŠä½¿ç”¨åœºæ™¯æŒ‡å—</h2><p>åœ¨æ¥å£æµ‹è¯•ä¸­ï¼Œæ­£ç¡®è®¾ç½® Header æ˜¯è¯·æ±‚æˆåŠŸçš„å…³é”®ã€‚ä»¥ä¸‹æ˜¯é«˜é¢‘ä½¿ç”¨çš„ Header åŠå…¶å¯¹åº”å€¼ã€‚</p><h3 id="4-1-æ•°æ®æ ¼å¼ç±»-Content-Type"><a href="#4-1-æ•°æ®æ ¼å¼ç±»-Content-Type" class="headerlink" title="4.1 æ•°æ®æ ¼å¼ç±» (Content-Type)"></a>4.1 æ•°æ®æ ¼å¼ç±» (Content-Type)</h3><p>å‘Šè¯‰æœåŠ¡ç«¯<strong>ä½ å‘é€çš„æ•°æ®æ˜¯ä»€ä¹ˆæ ¼å¼</strong>ã€‚</p><table><thead><tr><th align="left">åœºæ™¯</th><th align="left">Header å€¼</th><th align="left">è¯´æ˜</th></tr></thead><tbody><tr><td align="left"><strong>JSON æ¥å£</strong> (æœ€å¸¸è§)</td><td align="left"><code>application/json</code></td><td align="left">RESTful API æ ‡å‡†æ ¼å¼</td></tr><tr><td align="left"><strong>è¡¨å•æäº¤</strong></td><td align="left"><code>application/x-www-form-urlencoded</code></td><td align="left">ç±»ä¼¼ HTML <code>&lt;form&gt;</code> æäº¤ï¼Œé”®å€¼å¯¹å½¢å¼</td></tr><tr><td align="left"><strong>æ–‡ä»¶ä¸Šä¼ </strong></td><td align="left"><code>multipart/form-data</code></td><td align="left"><strong>æ³¨æ„</strong>ï¼šé€šå¸¸ä¸éœ€è¦æ‰‹åŠ¨è®¾ç½®ï¼Œå‹¾é€‰ JMeter â€œUse multipart/form-dataâ€ å³å¯è‡ªåŠ¨å¤„ç†</td></tr><tr><td align="left"><strong>XML æ¥å£</strong></td><td align="left"><code>application/xml</code> æˆ– <code>text/xml</code></td><td align="left">æ—§å¼ SOAP æˆ– XML API</td></tr></tbody></table><h3 id="4-2-è®¤è¯é‰´æƒç±»-Authorization"><a href="#4-2-è®¤è¯é‰´æƒç±»-Authorization" class="headerlink" title="4.2 è®¤è¯é‰´æƒç±» (Authorization)"></a>4.2 è®¤è¯é‰´æƒç±» (Authorization)</h3><p>å‘Šè¯‰æœåŠ¡ç«¯<strong>ä½ æ˜¯è°</strong>ã€‚</p><table><thead><tr><th align="left">åœºæ™¯</th><th align="left">Header å€¼ç¤ºä¾‹</th><th align="left">è¯´æ˜</th></tr></thead><tbody><tr><td align="left"><strong>Token è®¤è¯</strong> (JWT/OAuth)</td><td align="left"><code>Bearer &lt;your_token_string&gt;</code></td><td align="left">æœ€é€šç”¨çš„ç°ä»£ API è®¤è¯æ–¹å¼</td></tr><tr><td align="left"><strong>Basic è®¤è¯</strong></td><td align="left"><code>Basic &lt;base64_user_pass&gt;</code></td><td align="left">è¾ƒæ—§ï¼Œç”¨æˆ·åå¯†ç  Base64 ç¼–ç </td></tr><tr><td align="left"><strong>è‡ªå®šä¹‰ Key</strong></td><td align="left"><code>X-API-KEY: abc12345</code></td><td align="left">éƒ¨åˆ†æœåŠ¡å•†ç‰¹å®šçš„ Header åç§°</td></tr></tbody></table><h3 id="4-3-å®¢æˆ·ç«¯åå•†ç±»"><a href="#4-3-å®¢æˆ·ç«¯åå•†ç±»" class="headerlink" title="4.3 å®¢æˆ·ç«¯åå•†ç±»"></a>4.3 å®¢æˆ·ç«¯åå•†ç±»</h3><p>å‘Šè¯‰æœåŠ¡ç«¯<strong>ä½ æƒ³è¦ä»€ä¹ˆ</strong>æˆ–<strong>ä½ ç”¨ä»€ä¹ˆè®¾å¤‡</strong>ã€‚</p><table><thead><tr><th align="left">Header åç§°</th><th align="left">å¸¸è§å€¼</th><th align="left">è¯´æ˜</th></tr></thead><tbody><tr><td align="left"><strong>Accept</strong></td><td align="left"><code>application/json</code></td><td align="left">æœŸæœ›æœåŠ¡ç«¯è¿”å› JSON æ ¼å¼æ•°æ®</td></tr><tr><td align="left"><strong>User-Agent</strong></td><td align="left"><code>Mozilla/5.0 ...</code></td><td align="left">æ¨¡æ‹Ÿæµè§ˆå™¨ï¼ˆChrome/Safariï¼‰æˆ–æ‰‹æœºï¼ˆAndroid/iOSï¼‰ï¼Œé˜²æ­¢è¢«è¯†åˆ«ä¸ºçˆ¬è™«/æœºå™¨äºº</td></tr><tr><td align="left"><strong>Referer</strong></td><td align="left"><code>https://www.example.com/login</code></td><td align="left">æ¥æºé¡µé¢ï¼Œé˜²ç›—é“¾æ£€æŸ¥å¸¸éœ€è¦æ­¤å­—æ®µ</td></tr></tbody></table><h3 id="4-4-å¿…å¤‡-Header-æ¸…å•-Checklist"><a href="#4-4-å¿…å¤‡-Header-æ¸…å•-Checklist" class="headerlink" title="4.4 å¿…å¤‡ Header æ¸…å• (Checklist)"></a>4.4 å¿…å¤‡ Header æ¸…å• (Checklist)</h3><h4 id="é’ˆå¯¹-REST-API-æ¥å£æµ‹è¯•ï¼š"><a href="#é’ˆå¯¹-REST-API-æ¥å£æµ‹è¯•ï¼š" class="headerlink" title="é’ˆå¯¹ REST API æ¥å£æµ‹è¯•ï¼š"></a>é’ˆå¯¹ REST API æ¥å£æµ‹è¯•ï¼š</h4><ul><li><input checked="" disabled="" type="checkbox"> <strong>Content-Type</strong>: <code>application/json</code> (å¦‚æœæ˜¯ POST/PUT)</li><li><input checked="" disabled="" type="checkbox"> <strong>Authorization</strong>: <code>Bearer ...</code> (å¦‚æœéœ€è¦ç™»å½•)</li><li><input disabled="" type="checkbox"> <strong>Accept</strong>: <code>application/json</code> (æ¨èåŠ ä¸Š)</li></ul><h4 id="é’ˆå¯¹-æ¨¡æ‹Ÿæµè§ˆå™¨è¡Œä¸ºï¼š"><a href="#é’ˆå¯¹-æ¨¡æ‹Ÿæµè§ˆå™¨è¡Œä¸ºï¼š" class="headerlink" title="é’ˆå¯¹ æ¨¡æ‹Ÿæµè§ˆå™¨è¡Œä¸ºï¼š"></a>é’ˆå¯¹ æ¨¡æ‹Ÿæµè§ˆå™¨è¡Œä¸ºï¼š</h4><ul><li><input checked="" disabled="" type="checkbox"> <strong>User-Agent</strong>: å¿…é¡»æ¨¡æ‹ŸçœŸå®æµè§ˆå™¨å­—ç¬¦ä¸²</li><li><input checked="" disabled="" type="checkbox"> <strong>Referer/Origin</strong>: æ¶‰åŠè·¨åŸŸæˆ–å®‰å…¨æ£€æŸ¥æ—¶å¿…é¡»</li><li><input checked="" disabled="" type="checkbox"> <strong>Cookie</strong>: è¯¦è§ä¸‹æ–¹è¯´æ˜ï¼ˆæ¨èä½¿ç”¨ Cookie Managerï¼Œä½†ä¹Ÿæ”¯æŒæ‰‹åŠ¨æ·»åŠ ï¼‰</li></ul><h3 id="4-5-ç‰¹æ®Š-Headerï¼šCookie-çš„å¤„ç†"><a href="#4-5-ç‰¹æ®Š-Headerï¼šCookie-çš„å¤„ç†" class="headerlink" title="4.5 ç‰¹æ®Š Headerï¼šCookie çš„å¤„ç†"></a>4.5 ç‰¹æ®Š Headerï¼šCookie çš„å¤„ç†</h3><p>è™½ç„¶ Cookie æœ¬è´¨ä¸Šä¹Ÿæ˜¯ Header (<code>Cookie: name=value</code>)ï¼Œä½† JMeter æä¾›äº†ä¸¤ç§å¤„ç†æ–¹å¼ï¼š</p><h4 id="æ–¹å¼ä¸€ï¼šä½¿ç”¨-HTTP-Cookie-Manager-å¼ºçƒˆæ¨è"><a href="#æ–¹å¼ä¸€ï¼šä½¿ç”¨-HTTP-Cookie-Manager-å¼ºçƒˆæ¨è" class="headerlink" title="æ–¹å¼ä¸€ï¼šä½¿ç”¨ HTTP Cookie Manager (å¼ºçƒˆæ¨è)"></a>æ–¹å¼ä¸€ï¼šä½¿ç”¨ HTTP Cookie Manager (å¼ºçƒˆæ¨è)</h4><p>è¿™æ˜¯æœ€æ¥è¿‘çœŸå®æµè§ˆå™¨è¡Œä¸ºçš„æ–¹å¼ã€‚</p><ul><li>  <strong>è‡ªåŠ¨ç»´æŠ¤</strong>ï¼šè‡ªåŠ¨è§£ææœåŠ¡ç«¯è¿”å›çš„ <code>Set-Cookie</code> å¹¶åœ¨åç»­è¯·æ±‚ä¸­æºå¸¦ï¼Œæ— éœ€äººå·¥å¹²é¢„ã€‚</li><li>  <strong>æ‰‹åŠ¨æ·»åŠ </strong>ï¼šæ”¯æŒåœ¨ç»„ä»¶ç•Œé¢ä¸‹æ–¹ â€œUser-Defined Cookiesâ€ è¡¨æ ¼ä¸­æ·»åŠ è‡ªå®šä¹‰ Cookieï¼ˆå¦‚é¢„åŸ‹ Tokenï¼‰ã€‚</li></ul><h4 id="æ–¹å¼äºŒï¼šä½¿ç”¨-HTTP-Header-Manager-æ‰‹åŠ¨å¼ºæ³¨"><a href="#æ–¹å¼äºŒï¼šä½¿ç”¨-HTTP-Header-Manager-æ‰‹åŠ¨å¼ºæ³¨" class="headerlink" title="æ–¹å¼äºŒï¼šä½¿ç”¨ HTTP Header Manager (æ‰‹åŠ¨å¼ºæ³¨)"></a>æ–¹å¼äºŒï¼šä½¿ç”¨ HTTP Header Manager (æ‰‹åŠ¨å¼ºæ³¨)</h4><ul><li>  <strong>æ“ä½œ</strong>ï¼šç›´æ¥æ·»åŠ  Name=<code>Cookie</code>, Value=<code>session_id=xyz123</code>ã€‚</li><li>  <strong>ç‰¹ç‚¹</strong>ï¼šç®€å•ç²—æš´ï¼Œå¼ºåˆ¶ç”Ÿæ•ˆã€‚</li><li>  <strong>ç¼ºç‚¹</strong>ï¼š<strong>ä¸ä¼š</strong>è‡ªåŠ¨æ›´æ–°æœåŠ¡ç«¯ä¸‹å‘çš„æ–° Cookieï¼Œ<strong>ä¸ä¼š</strong>è‡ªåŠ¨ç»´æŠ¤ Session ä¸Šä¸‹æ–‡ã€‚ä»…é€‚ç”¨äºç®€å•çš„å•æ¬¡è¯·æ±‚è°ƒè¯•æˆ–å›ºå®š Cookie åœºæ™¯ã€‚</li></ul>]]></content>
      
      
      <categories>
          
          <category> JMeter </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JMeter </tag>
            
            <tag> HTTP Header </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JMeterå“åº”ä¸­æ–‡ä¹±ç è§£å†³æ–¹æ¡ˆ</title>
      <link href="/2021/06/08/jmeter-xiang-ying-zhong-wen-luan-ma-jie-jue-fang-an/"/>
      <url>/2021/06/08/jmeter-xiang-ying-zhong-wen-luan-ma-jie-jue-fang-an/</url>
      
        <content type="html"><![CDATA[<h1 id="JMeter-å“åº”ä¸­æ–‡ä¹±ç è§£å†³æ–¹æ¡ˆ"><a href="#JMeter-å“åº”ä¸­æ–‡ä¹±ç è§£å†³æ–¹æ¡ˆ" class="headerlink" title="JMeter å“åº”ä¸­æ–‡ä¹±ç è§£å†³æ–¹æ¡ˆ"></a>JMeter å“åº”ä¸­æ–‡ä¹±ç è§£å†³æ–¹æ¡ˆ</h1><p>JMeter å“åº”æ•°æ®å‡ºç°ä¸­æ–‡ä¹±ç ï¼Œé€šå¸¸æ˜¯å› ä¸º JMeter é»˜è®¤ä½¿ç”¨ <code>ISO-8859-1</code> ç¼–ç ï¼Œè€Œæ¥å£è¿”å›çš„æ•°æ®æ˜¯ <code>UTF-8</code> ç¼–ç ã€‚</p><p>ä»¥ä¸‹æ˜¯å‡ ç§å¸¸ç”¨çš„è§£å†³æ–¹æ¡ˆï¼ŒæŒ‰<strong>æ¨èç¨‹åº¦</strong>æ’åºï¼š</p><h3 id="1-ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼ˆå…¨å±€ç”Ÿæ•ˆï¼Œæœ€æ¨èï¼‰"><a href="#1-ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼ˆå…¨å±€ç”Ÿæ•ˆï¼Œæœ€æ¨èï¼‰" class="headerlink" title="1. ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼ˆå…¨å±€ç”Ÿæ•ˆï¼Œæœ€æ¨èï¼‰"></a>1. ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼ˆå…¨å±€ç”Ÿæ•ˆï¼Œæœ€æ¨èï¼‰</h3><p>è¿™æ˜¯æœ€å½»åº•çš„è§£å†³æ–¹æ³•ï¼Œä¿®æ”¹ä¸€æ¬¡åå¯¹æ‰€æœ‰è„šæœ¬ç”Ÿæ•ˆã€‚</p><ol><li> è¿›å…¥ JMeter å®‰è£…ç›®å½•çš„ <code>bin</code> æ–‡ä»¶å¤¹ã€‚</li><li> æ‰¾åˆ°å¹¶æ‰“å¼€ <code>jmeter.properties</code> æ–‡ä»¶ã€‚</li><li> æœç´¢å…³é”®å­— <code>sampleresult.default.encoding</code>ã€‚</li><li>æ‰¾åˆ°è¯¥è¡Œï¼Œå»æ‰è¡Œé¦–çš„ <code>#</code> å·ï¼Œå¹¶å°†å€¼ä¿®æ”¹ä¸º <code>UTF-8</code>ï¼š <pre class="line-numbers language-properties" data-language="properties"><code class="language-properties"><span class="token comment"># ä¿®æ”¹å‰</span><span class="token comment">#sampleresult.default.encoding=ISO-8859-1</span><span class="token comment"># ä¿®æ”¹å</span><span class="token key attr-name">sampleresult.default.encoding</span><span class="token punctuation">=</span><span class="token value attr-value">UTF-8</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li> <strong>ä¿å­˜æ–‡ä»¶å¹¶é‡å¯ JMeter</strong>ã€‚</li></ol><hr><h3 id="2-åœ¨-HTTP-è¯·æ±‚ä¸­æŒ‡å®šç¼–ç ï¼ˆå±€éƒ¨ç”Ÿæ•ˆï¼‰"><a href="#2-åœ¨-HTTP-è¯·æ±‚ä¸­æŒ‡å®šç¼–ç ï¼ˆå±€éƒ¨ç”Ÿæ•ˆï¼‰" class="headerlink" title="2. åœ¨ HTTP è¯·æ±‚ä¸­æŒ‡å®šç¼–ç ï¼ˆå±€éƒ¨ç”Ÿæ•ˆï¼‰"></a>2. åœ¨ HTTP è¯·æ±‚ä¸­æŒ‡å®šç¼–ç ï¼ˆå±€éƒ¨ç”Ÿæ•ˆï¼‰</h3><p>å¦‚æœä½ æ²¡æœ‰æƒé™ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œæˆ–è€…åªæƒ³é’ˆå¯¹æŸä¸ªç‰¹å®šæ¥å£ç”Ÿæ•ˆï¼š</p><ol><li> åœ¨ JMeter ç•Œé¢ä¸­é€‰ä¸­ä½ çš„ **HTTP Request (HTTP è¯·æ±‚)**ã€‚</li><li> æ‰¾åˆ° <strong>Content encoding (å†…å®¹ç¼–ç )</strong> å­—æ®µã€‚</li><li> æ‰‹åŠ¨è¾“å…¥ <code>utf-8</code>ï¼ˆä¸åŒºåˆ†å¤§å°å†™ï¼‰ã€‚</li></ol><hr><h3 id="3-ä½¿ç”¨-BeanShell-åç½®å¤„ç†å™¨ï¼ˆè„šæœ¬å¼ºåˆ¶è½¬æ¢ï¼‰"><a href="#3-ä½¿ç”¨-BeanShell-åç½®å¤„ç†å™¨ï¼ˆè„šæœ¬å¼ºåˆ¶è½¬æ¢ï¼‰" class="headerlink" title="3. ä½¿ç”¨ BeanShell åç½®å¤„ç†å™¨ï¼ˆè„šæœ¬å¼ºåˆ¶è½¬æ¢ï¼‰"></a>3. ä½¿ç”¨ BeanShell åç½®å¤„ç†å™¨ï¼ˆè„šæœ¬å¼ºåˆ¶è½¬æ¢ï¼‰</h3><p>å¦‚æœä»¥ä¸Šæ–¹æ³•éƒ½æ— æ•ˆï¼Œå¯ä»¥ä½¿ç”¨è„šæœ¬å¼ºåˆ¶ä¿®æ”¹å“åº”æ•°æ®çš„ç¼–ç ï¼š</p><ol><li> åœ¨å¯¹åº”çš„ HTTP è¯·æ±‚èŠ‚ç‚¹ä¸Šå³é”®ï¼Œé€‰æ‹© <strong>Add (æ·»åŠ )</strong> -&gt; <strong>Post Processors (åç½®å¤„ç†å™¨)</strong> -&gt; <strong>BeanShell PostProcessor</strong>ã€‚</li><li>åœ¨ <strong>Script</strong> åŒºåŸŸè¾“å…¥ä»¥ä¸‹ä»£ç ï¼š <pre class="line-numbers language-java" data-language="java"><code class="language-java">prev<span class="token punctuation">.</span><span class="token function">setDataEncoding</span><span class="token punctuation">(</span><span class="token string">"UTF-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li></ol><hr><h3 id="4-é’ˆå¯¹è¯·æ±‚ä½“ï¼ˆBodyï¼‰ä¹±ç "><a href="#4-é’ˆå¯¹è¯·æ±‚ä½“ï¼ˆBodyï¼‰ä¹±ç " class="headerlink" title="4. é’ˆå¯¹è¯·æ±‚ä½“ï¼ˆBodyï¼‰ä¹±ç "></a>4. é’ˆå¯¹è¯·æ±‚ä½“ï¼ˆBodyï¼‰ä¹±ç </h3><p>å¦‚æœæ˜¯ä½ å‘é€ç»™æœåŠ¡å™¨çš„ä¸­æ–‡å˜æˆä¹±ç ï¼ˆè€Œä¸æ˜¯æ¥æ”¶ä¹±ç ï¼‰ï¼Œè¯·æ£€æŸ¥ï¼š</p><ul><li>  <strong>HTTP è¯·æ±‚å¤´</strong>ï¼šç¡®ä¿æ·»åŠ äº† <code>Content-Type: application/json;charset=UTF-8</code>ã€‚</li><li>  <strong>å‹¾é€‰ç¼–ç </strong>ï¼šåœ¨ HTTP è¯·æ±‚çš„ Parameters ä¸­ï¼Œå‹¾é€‰ â€œURL Encodeâ€ã€‚</li></ul>]]></content>
      
      
      <categories>
          
          <category> JMeter </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JMeter </tag>
            
            <tag> æ€§èƒ½æµ‹è¯• </tag>
            
            <tag> ä¹±ç å¤„ç† </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ€§èƒ½ç¬”è®°-å‡ ä¸ªç“¶é¢ˆ</title>
      <link href="/2020/05/26/xing-neng-bi-ji-ji-ge-ping-jing/"/>
      <url>/2020/05/26/xing-neng-bi-ji-ji-ge-ping-jing/</url>
      
        <content type="html"><![CDATA[<h1 id="æ€§èƒ½æµ‹è¯•çš„å‡ ä¸ªç“¶é¢ˆæœ¯è¯­"><a href="#æ€§èƒ½æµ‹è¯•çš„å‡ ä¸ªç“¶é¢ˆæœ¯è¯­" class="headerlink" title="æ€§èƒ½æµ‹è¯•çš„å‡ ä¸ªç“¶é¢ˆæœ¯è¯­"></a>æ€§èƒ½æµ‹è¯•çš„å‡ ä¸ªç“¶é¢ˆæœ¯è¯­</h1><h2 id="è½¯ä»¶ç“¶é¢ˆ"><a href="#è½¯ä»¶ç“¶é¢ˆ" class="headerlink" title="è½¯ä»¶ç“¶é¢ˆ"></a>è½¯ä»¶ç“¶é¢ˆ</h2><h3 id="åº”ç”¨è½¯ä»¶ç“¶é¢ˆ"><a href="#åº”ç”¨è½¯ä»¶ç“¶é¢ˆ" class="headerlink" title="åº”ç”¨è½¯ä»¶ç“¶é¢ˆ"></a>åº”ç”¨è½¯ä»¶ç“¶é¢ˆ</h3><p>webæœåŠ¡å™¨åŒ…æ‹¬æ•°æ®åº“ç­‰ä¸­é—´ä»¶å¯¼è‡´çš„å“åº”æ—¶é—´å¢åŠ </p><h3 id="åº”ç”¨ç¨‹åºç“¶é¢ˆ"><a href="#åº”ç”¨ç¨‹åºç“¶é¢ˆ" class="headerlink" title="åº”ç”¨ç¨‹åºç“¶é¢ˆ"></a>åº”ç”¨ç¨‹åºç“¶é¢ˆ</h3><p>å¤„ç†é—®é¢˜åªèƒ½ä¸²è¡Œä¸èƒ½å¹¶è¡Œå¯¼è‡´çš„å“åº”æ—¶é—´å¢åŠ </p><h2 id="ç¡¬ä»¶ç“¶é¢ˆ"><a href="#ç¡¬ä»¶ç“¶é¢ˆ" class="headerlink" title="ç¡¬ä»¶ç“¶é¢ˆ"></a>ç¡¬ä»¶ç“¶é¢ˆ</h2><p>cpu ram æŒç»­åˆ©ç”¨ç‡è¿‡é«˜è¶…è¿‡95%</p><h2 id="æ“ä½œç³»ç»Ÿç“¶é¢ˆ"><a href="#æ“ä½œç³»ç»Ÿç“¶é¢ˆ" class="headerlink" title="æ“ä½œç³»ç»Ÿç“¶é¢ˆ"></a>æ“ä½œç³»ç»Ÿç“¶é¢ˆ</h2><p>ä¾‹å¦‚winç³»è™šæ‹Ÿå†…å­˜çš„è®¾ç½®äº¤äº’</p><h2 id="ç½‘ç»œè®¾å¤‡ç“¶é¢ˆ"><a href="#ç½‘ç»œè®¾å¤‡ç“¶é¢ˆ" class="headerlink" title="ç½‘ç»œè®¾å¤‡ç“¶é¢ˆ"></a>ç½‘ç»œè®¾å¤‡ç“¶é¢ˆ</h2><p>è´Ÿè½½å‡è¡¡ é˜²ç«å¢™ äº¤æ¢æœº ç›¸å…³</p>]]></content>
      
      
      <categories>
          
          <category> æ€§èƒ½ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ‚è®° </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä½¿ç”¨GITè¿œç¨‹ä»“ç®¡ç†hexoæ–‡æ¡£</title>
      <link href="/2020/05/22/shi-yong-git-yuan-cheng-cang-guan-li-hexo-wen-dang/"/>
      <url>/2020/05/22/shi-yong-git-yuan-cheng-cang-guan-li-hexo-wen-dang/</url>
      
        <content type="html"><![CDATA[<h3 id="Hexoç®€å•çš„å‘½ä»¤"><a href="#Hexoç®€å•çš„å‘½ä»¤" class="headerlink" title="Hexoç®€å•çš„å‘½ä»¤"></a>Hexoç®€å•çš„å‘½ä»¤</h3><ol><li> ç»ˆç«¯æ‰§è¡Œ<code>hexo new æ–°æ–‡ç« </code>å‘½ä»¤ï¼Œæ­¤æ—¶æœ¬åœ°<code>source/_post</code>ç›®å½•ä¸‹ä¼šæ–°å»º<code>æ–°æ–‡ç« .md</code>æ–‡ä»¶</li><li> æ‰“å¼€ <code>æ–°æ–‡ç« .md</code>ç¼–å†™å®Œæˆåï¼Œç»ˆç«¯æ‰§è¡Œ<code>hexo g</code>ç¼–è¯‘</li><li> ç»ˆç«¯æ‰§è¡Œ<code>hexo s</code>æœ¬åœ°é¢„è§ˆ</li><li> ç»ˆç«¯æ‰§è¡Œ<code>hexo d</code>æ¨é€åˆ°è¿œç¨‹ä»“<strong>master</strong>åˆ†æ”¯</li></ol><h3 id="åœºæ™¯å¤‡ä»½çš„å»ºè®®"><a href="#åœºæ™¯å¤‡ä»½çš„å»ºè®®" class="headerlink" title="åœºæ™¯å¤‡ä»½çš„å»ºè®®"></a>åœºæ™¯å¤‡ä»½çš„å»ºè®®</h3><ul><li>ä¸ªäººpcæ¯”è¾ƒå¤š,æœ‰æ—¶å€™ä¸æ˜¯ä¸“é—¨ç”¨ä¸€å°æœºå™¨æ¥åšä¸€ä»¶äº‹,å…¬å¸å®¶åº­æš‚ä½åœ°ç­‰ç­‰ç­‰ç­‰,å¤šå°pcçš„ä½¿ç”¨åœºæ™¯</li><li>ç¡¬ç›˜æŸå,</li><li>ç”µè„‘ä¸¢å¤±</li><li>å¦‚æœä½ è¿˜ç®—æ¯”è¾ƒçä½ çš„éƒ¨è½æ ¼,ä¸ç®¡æ˜¯ä»€ä¹ˆæƒ…å†µ,éƒ½å»ºè®®è¿›è¡Œå¤‡ä»½,é¸¡è›‹ä¸åœ¨ä¸€ä¸ªç¯®å­é‡Œ,æœ‰å¤‡è‡ªç„¶æ— æ‚£<br>æœ‰äº›äººé€‰æ‹©æ–°å»ºä¸€ä¸ªè¿œç¨‹ä»“æ¥è¿›è¡Œæ‹‰å–ä¸Šä¼ ,æœ‰äº›äººé€‰æ‹©æ¯æ¬¡ç”¨uç›˜çƒ­æ‹·æ•°æ®,è€Œæˆ‘é€‰æ‹©åœ¨åŸæ¥è¿œç¨‹ä»“åŸºç¡€ä¸Šæ–°å»ºä¸€ä¸ªåˆ†æ”¯è¿›è¡Œæºç ä¸Šä¼ ,åŸå› å˜›,è‡ªç„¶æ˜¯æ€ä¹ˆæ–¹ä¾¿æ€ä¹ˆæ¥.</li></ul><h4 id="æ–°å»ºgitåˆ†æ”¯"><a href="#æ–°å»ºgitåˆ†æ”¯" class="headerlink" title="æ–°å»ºgitåˆ†æ”¯"></a>æ–°å»ºgitåˆ†æ”¯</h4><p>ç»ˆç«¯æ‰§è¡Œ<code>git branch</code><br>æŸ¥çœ‹åˆ†æ”¯æƒ…å†µ,å¦‚æœæ²¡æœ‰æ„å¤–ä½ åªæœ‰ä¸€ä¸ª<strong>master</strong>åˆ†æ”¯<br>ç»ˆç«¯æ‰§è¡Œ<code>git checkout -b dev</code><br>åˆ›å»ºå¹¶åˆ‡æ¢åˆ°<strong>dev</strong>åˆ†æ”¯,å…¶ä¸­<strong>dev</strong>æ˜¯ä½ çš„è‡ªå®šä¹‰åˆ†æ”¯å<br>å†æ¬¡æ‰§è¡Œ<code>git branch</code><br>ä½ å¯ä»¥çœ‹åˆ°åˆ—å‡ºçš„åˆ†æ”¯åŒ…å«<strong>dev/master</strong><br>å½“å‰åˆ†æ”¯å¸¦æœ‰*å·</p><h4 id="å‘å¸ƒæ—¶é€‰æ‹©çš„åˆ†æ”¯"><a href="#å‘å¸ƒæ—¶é€‰æ‹©çš„åˆ†æ”¯" class="headerlink" title="å‘å¸ƒæ—¶é€‰æ‹©çš„åˆ†æ”¯"></a>å‘å¸ƒæ—¶é€‰æ‹©çš„åˆ†æ”¯</h4><p>githubä»“åº“åˆå§‹åŒ–ç”Ÿæˆä¸€ä¸ªmasteråˆ†æ”¯ï¼Œè¿™æ²¡ä»€ä¹ˆç‰¹æ®Šå«ä¹‰,åªæ˜¯initçš„æ—¶å€™å°±å«è¿™ä¸ªè€Œå·².<br>ä¸è¿‡è¿™å¯¹hexoæ¥è®²,ç”Ÿæˆçš„é™æ€é¡µé¢ä¹Ÿæ˜¯é»˜è®¤åœ¨masteråˆ†æ”¯,å¦‚éé­”æ”¹æ¡†æ¶,è¯·åŠ¡å¿…ç•™ç€.<br>æˆ‘è¿™é‡Œé€‰æ‹©<strong>dev</strong>åˆ†æ”¯ä½œä¸ºæˆ‘çš„æºç æ‰˜ç®¡åˆ†æ”¯,<br>ä½ å¯ä»¥åœ¨å…‹éš†é¡¹ç›®çš„æ—¶å€™æŒ‡å®šåˆ†æ”¯<code>git clone -b dev xxurl</code>å¦‚æœä½ æ­£å¥½ä¹Ÿæ„Ÿå…´è¶£,æˆ‘ä¼šåœ¨åé¢æè¿°  </p><h4 id="æœ¬åœ°ä¸è¿œç¨‹ä»“åº“å…³è”"><a href="#æœ¬åœ°ä¸è¿œç¨‹ä»“åº“å…³è”" class="headerlink" title="æœ¬åœ°ä¸è¿œç¨‹ä»“åº“å…³è”"></a>æœ¬åœ°ä¸è¿œç¨‹ä»“åº“å…³è”</h4><p>ç»ˆç«¯æ‰§è¡Œ<code class="shell  language-shell">git remote add origin <a href="mailto:git@github.com">git@github.com</a>:yimouz/yimouz.github.io.git</code>  </p><blockquote><p>è¿™é‡Œçš„originåªæ˜¯ä¸€ä¸ªæ˜“æ ‡è¯†,ä½ å¯ä»¥ä¿®æ”¹,æ¯”å¦‚hexo,åé¢è¿™ä¸€ä¸²æ˜¯ä»“åº“sshåœ°å€,è¯·ä¸è¦é”™è¯¯å…³è”åˆ°æˆ‘çš„ä»“åº“,é”™è¯¯å…³è”ä½†æ²¡æœ‰é…å¯¹çš„å¯†é’¥è‡ªç„¶æ²¡æœ‰ç”¨.é™¤äº†sshè¿˜å¯ä»¥é€‰æ‹©httpæ–¹å¼,å…·ä½“çœ‹ä½ ä¸ªäººé€‰æ‹©.</p></blockquote><h4 id="æ¨é€åˆ°è¿œç¨‹ä»“åº“"><a href="#æ¨é€åˆ°è¿œç¨‹ä»“åº“" class="headerlink" title="æ¨é€åˆ°è¿œç¨‹ä»“åº“"></a>æ¨é€åˆ°è¿œç¨‹ä»“åº“</h4><p>æ¨é€åˆ°devåˆ†æ”¯ã€‚<br>æœ¬åœ°æœ‰è®¸å¤šæ–‡ä»¶,ä¿ç•™æ–‡ç« è·Ÿä¸€äº›ä½ è§‰å¾—é‡è¦çš„ï¼Œå…¶ä»–æ— å…³çš„æ–‡ä»¶å¹¶ä¸å¸Œæœ›æ¨é€ï¼Œ<br>ä½¿ç”¨<code>.gitignore</code>æ–‡ä»¶å§<br>æŠŠè¿™äº›ä¸æƒ³è¦çš„æ¨é€çš„ä¿å­˜åˆ°ä½ ignore,æ¯”å¦‚å¦‚ä¸‹ä¸€äº›:<br>.DS_Store<br>Thumbs.db<br>db.json<br><em>.log<br>node_modules/<br>public/<br>.deploy</em>/<br>æ·»åŠ å®Œå°±å¯ä»¥è¯•ä¸€ä¸‹æ¨é€äº†<br>ç»ˆç«¯æ‰§è¡Œï¼š<br> </p><pre class="line-numbers language-none"><code class="language-none">git add .git commit -m 'ä½ çš„æäº¤ä¿¡æ¯'git push hexo dev<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p></p><h4 id="åˆ é™¤devåˆ†æ”¯çš„æŸäº›æ–‡ä»¶"><a href="#åˆ é™¤devåˆ†æ”¯çš„æŸäº›æ–‡ä»¶" class="headerlink" title="åˆ é™¤devåˆ†æ”¯çš„æŸäº›æ–‡ä»¶"></a>åˆ é™¤devåˆ†æ”¯çš„æŸäº›æ–‡ä»¶</h4><p>devç»§æ‰¿è‡ªmasterä¼šå¸¦ä¸Šmasterå·²ç»å­˜åœ¨çš„åˆ†æ”¯å†…å®¹<br>ç±»ä¼¼public<br>å¦‚æœä½ è·Ÿæˆ‘ä¸€æ ·çœ‹ç€ä»–ä»¬å¸¸å¸¸éš¾å—<br>ä¸è¦çŠ¹è±«,æœ¬åœ°ç¯å¢ƒ.<br>æŒ‰ä¸‹ä½ çš„delete fireout it<br>åˆ é™¤å®Œ,ç»ˆç«¯æ‰§è¡Œ<br>å½“ç„¶ä¸åˆ ä¹Ÿå¯ä»¥<br> </p><pre class="line-numbers language-none"><code class="language-none">git add .git commit -m 'åŒæ ·å¡«å†™ä½ çš„æ³¨é‡Šä¿¡æ¯'git push hexo dev<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><br>ä½ ä¼šå‘ç°.ignoreé‡Œæºå¸¦çš„éƒ½æ²¡æœ‰å¸¦ä¸Šå»äº†.<br>è¿™å°±æ˜¯ignore<p></p><h3 id="å¤špc"><a href="#å¤špc" class="headerlink" title="å¤špc"></a>å¤špc</h3><p>å›åˆ°è¿™ä¸ªé—®é¢˜,æ–°ç”µè„‘äº†æ€ä¹ˆåŠ,ç¡¬ç›˜åäº†æ€ä¹ˆåŠ  </p><ol><li>ä¸‹è½½git </li><li>å®‰è£…node npm </li><li>å…‹éš†ä½ çš„åˆ†æ”¯<code>git clone -b dev ä½ çš„url</code>   </li><li>åˆå§‹åŒ–init</li><li>å¯†é’¥</li><li>å…³è”åˆ°ä½ çš„è¿œç¨‹ä»“</li></ol><blockquote><p>å½“ç„¶ä¸è¦å¿˜è®°<br> </p><pre class="line-numbers language-none"><code class="language-none">npm install hexo   npm install hexo-deployer-git -save<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><br>æ˜¯ä¸æ˜¯åˆå›åˆ°äº†ç†Ÿæ‚‰çš„ç¯å¢ƒ<p></p></blockquote><h3 id="å¥½äº†çŸ¥é“ä½ æœ‰å¤špcä½¿ç”¨ä¹ æƒ¯äº†-gitå°±éå¸¸é€‚åˆè¿™ç§å¤šç«¯åä½œçš„åœºæ™¯-ä½ è¦çŸ¥é“ä»–æ˜¯å¹²å˜›çš„"><a href="#å¥½äº†çŸ¥é“ä½ æœ‰å¤špcä½¿ç”¨ä¹ æƒ¯äº†-gitå°±éå¸¸é€‚åˆè¿™ç§å¤šç«¯åä½œçš„åœºæ™¯-ä½ è¦çŸ¥é“ä»–æ˜¯å¹²å˜›çš„" class="headerlink" title="å¥½äº†çŸ¥é“ä½ æœ‰å¤špcä½¿ç”¨ä¹ æƒ¯äº†,gitå°±éå¸¸é€‚åˆè¿™ç§å¤šç«¯åä½œçš„åœºæ™¯,ä½ è¦çŸ¥é“ä»–æ˜¯å¹²å˜›çš„"></a>å¥½äº†çŸ¥é“ä½ æœ‰å¤špcä½¿ç”¨ä¹ æƒ¯äº†,gitå°±éå¸¸é€‚åˆè¿™ç§å¤šç«¯åä½œçš„åœºæ™¯,ä½ è¦çŸ¥é“ä»–æ˜¯å¹²å˜›çš„</h3><p>åœ¨å…¬å¸åˆ’æ°´,å†™å†™åšå®¢ ä¸€é¡¿æ“ä½œåœ¨pushä¹‹åè¿›å…¥è´¤è€…æ¨¡å¼<br>æ™šä¸Šæˆ–è€…å‘¨æœ«åœ¨å®¶,å¿ƒæ½®æ¾æ‹œ,ideaéåŠ<br>é©¬ä¸åœè¹„æ‰“å¼€git</p><pre class="line-numbers language-none"><code class="language-none">/git pull &lt;è¿œç¨‹ä»“ssh&gt; &lt;è¿œç¨‹åˆ†æ”¯å&gt;:&lt;æœ¬åœ°åˆ†æ”¯å&gt;   git pull git@github.com:yimouz/yimouz.github.io.git dev:dev/æ‹‰å–å¹¶åˆå¹¶åˆ°ä½ çš„æœ¬åœ°ç¯å¢ƒ  <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>è‡³æ­¤å°±ç»“æŸäº†!</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> æ‚è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
