<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>JMeter vars.put 操作详细指南</title>
      <link href="/2026/02/03/jmeter-zhong-de-vars-dui-xiang/"/>
      <url>/2026/02/03/jmeter-zhong-de-vars-dui-xiang/</url>
      
        <content type="html"><![CDATA[<h1 id="JMeter-vars-put-操作详细指南"><a href="#JMeter-vars-put-操作详细指南" class="headerlink" title="JMeter vars.put 操作详细指南"></a>JMeter vars.put 操作详细指南</h1><h2 id="1-概述"><a href="#1-概述" class="headerlink" title="1. 概述"></a>1. 概述</h2><p><code>vars</code> 是 JMeter 内置的<strong>线程级变量操作对象</strong>，用于在当前线程的不同元件间传递数据（如 PreProcessor → Sampler → PostProcessor）。<code>vars.put()</code> 是其核心方法之一，用于将数据存储为线程级变量。</p><blockquote><p>**tags: [作用域]**：<code>vars</code> 仅对当前线程可见，不同线程的 <code>vars</code> 是完全独立的（线程隔离）。</p></blockquote><h2 id="2-vars-put-基本用法"><a href="#2-vars-put-基本用法" class="headerlink" title="2. vars.put() 基本用法"></a>2. vars.put() 基本用法</h2><h3 id="2-1-语法"><a href="#2-1-语法" class="headerlink" title="2.1 语法"></a>2.1 语法</h3><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// 语法：vars.put(变量名, 变量值);</span><span class="token comment">// 说明：变量值必须为字符串类型（非字符串类型需先转换为字符串）</span>vars<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"key"</span><span class="token punctuation">,</span> <span class="token string">"value"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="2-2-示例：存储不同类型的数据"><a href="#2-2-示例：存储不同类型的数据" class="headerlink" title="2.2 示例：存储不同类型的数据"></a>2.2 示例：存储不同类型的数据</h3><h4 id="示例-1：存储字符串"><a href="#示例-1：存储字符串" class="headerlink" title="示例 1：存储字符串"></a>示例 1：存储字符串</h4><pre class="line-numbers language-groovy" data-language="groovy"><code class="language-groovy"><span class="token comment">// 存储字符串变量</span>vars<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">"username"</span></span><span class="token punctuation">,</span> <span class="token interpolation-string"><span class="token string">"testuser"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>vars<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">"password"</span></span><span class="token punctuation">,</span> <span class="token interpolation-string"><span class="token string">"testpass"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 验证存储结果</span>log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">"用户名："</span></span> <span class="token operator">+</span> vars<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">"username"</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 输出：用户名：testuser</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="示例-2：存储数值"><a href="#示例-2：存储数值" class="headerlink" title="示例 2：存储数值"></a>示例 2：存储数值</h4><blockquote><p>**tags: [类型转换]**：<code>vars.put()</code> 仅支持字符串，存储数值时需先转换为字符串。</p></blockquote><pre class="line-numbers language-groovy" data-language="groovy"><code class="language-groovy"><span class="token comment">// 方法 1：使用 toString() 转换</span><span class="token keyword">int</span> age <span class="token operator">=</span> <span class="token number">25</span><span class="token punctuation">;</span>vars<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">"userAge"</span></span><span class="token punctuation">,</span> age<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 方法 2：使用字符串拼接转换</span><span class="token keyword">int</span> score <span class="token operator">=</span> <span class="token number">95</span><span class="token punctuation">;</span>vars<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">"userScore"</span></span><span class="token punctuation">,</span> <span class="token interpolation-string"><span class="token string">""</span></span> <span class="token operator">+</span> score<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 方法 3：使用 String.valueOf() 转换</span><span class="token keyword">long</span> timestamp <span class="token operator">=</span> System<span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>vars<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">"timestamp"</span></span><span class="token punctuation">,</span> String<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>timestamp<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="示例-3：存储布尔值"><a href="#示例-3：存储布尔值" class="headerlink" title="示例 3：存储布尔值"></a>示例 3：存储布尔值</h4><pre class="line-numbers language-groovy" data-language="groovy"><code class="language-groovy"><span class="token keyword">boolean</span> isActive <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>vars<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">"isUserActive"</span></span><span class="token punctuation">,</span> String<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>isActive<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 存储为 "true"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h2 id="3-vars-相关方法"><a href="#3-vars-相关方法" class="headerlink" title="3. vars 相关方法"></a>3. vars 相关方法</h2><h3 id="3-1-存储对象：vars-putObject"><a href="#3-1-存储对象：vars-putObject" class="headerlink" title="3.1 存储对象：vars.putObject()"></a>3.1 存储对象：vars.putObject()</h3><p>当需要存储<strong>非字符串类型</strong>的数据（如数组、列表、Map 等）时，使用 <code>vars.putObject()</code>。</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// 语法：vars.putObject(变量名, 对象);</span>vars<span class="token punctuation">.</span><span class="token function">putObject</span><span class="token punctuation">(</span><span class="token string">"key"</span><span class="token punctuation">,</span> object<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h4 id="示例：存储数组和-Map"><a href="#示例：存储数组和-Map" class="headerlink" title="示例：存储数组和 Map"></a>示例：存储数组和 Map</h4><pre class="line-numbers language-groovy" data-language="groovy"><code class="language-groovy"><span class="token comment">// 存储字符串数组</span><span class="token keyword">def</span> ipArray <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token interpolation-string"><span class="token string">"192.168.1.1"</span></span><span class="token punctuation">,</span> <span class="token interpolation-string"><span class="token string">"192.168.1.2"</span></span><span class="token punctuation">,</span> <span class="token interpolation-string"><span class="token string">"192.168.1.3"</span></span><span class="token punctuation">]</span><span class="token punctuation">;</span>vars<span class="token punctuation">.</span><span class="token function">putObject</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">"ipList"</span></span><span class="token punctuation">,</span> ipArray<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 存储 Map 对象</span><span class="token keyword">def</span> userInfo <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token interpolation-string"><span class="token string">"id"</span></span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token interpolation-string"><span class="token string">"name"</span></span><span class="token punctuation">:</span> <span class="token interpolation-string"><span class="token string">"testuser"</span></span><span class="token punctuation">,</span> <span class="token interpolation-string"><span class="token string">"age"</span></span><span class="token punctuation">:</span> <span class="token number">25</span><span class="token punctuation">]</span><span class="token punctuation">;</span>vars<span class="token punctuation">.</span><span class="token function">putObject</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">"userMap"</span></span><span class="token punctuation">,</span> userInfo<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 验证存储结果</span>log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">"IP 列表长度："</span></span> <span class="token operator">+</span> vars<span class="token punctuation">.</span><span class="token function">getObject</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">"ipList"</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 输出：3</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="3-2-获取变量：vars-get"><a href="#3-2-获取变量：vars-get" class="headerlink" title="3.2 获取变量：vars.get()"></a>3.2 获取变量：vars.get()</h3><p>用于获取之前存储的<strong>字符串变量</strong>，若变量不存在返回 <code>null</code>。</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// 语法：vars.get(变量名);</span><span class="token class-name">String</span> value <span class="token operator">=</span> vars<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"key"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h4 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h4><pre class="line-numbers language-groovy" data-language="groovy"><code class="language-groovy"><span class="token comment">// 获取之前存储的变量</span><span class="token keyword">def</span> username <span class="token operator">=</span> vars<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">"username"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">def</span> age <span class="token operator">=</span> vars<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">"userAge"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 使用获取的值</span><span class="token keyword">if</span> <span class="token punctuation">(</span>username <span class="token operator">!=</span> null<span class="token punctuation">)</span> <span class="token punctuation">{</span>    log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">"用户："</span></span> <span class="token operator">+</span> username <span class="token operator">+</span> <span class="token interpolation-string"><span class="token string">"，年龄："</span></span> <span class="token operator">+</span> age<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="3-3-获取对象：vars-getObject"><a href="#3-3-获取对象：vars-getObject" class="headerlink" title="3.3 获取对象：vars.getObject()"></a>3.3 获取对象：vars.getObject()</h3><p>用于获取之前存储的<strong>对象</strong>，需进行类型强转。</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// 语法：vars.getObject(变量名);</span><span class="token class-name">Object</span> value <span class="token operator">=</span> vars<span class="token punctuation">.</span><span class="token function">getObject</span><span class="token punctuation">(</span><span class="token string">"key"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h4 id="示例-1"><a href="#示例-1" class="headerlink" title="示例"></a>示例</h4><pre class="line-numbers language-groovy" data-language="groovy"><code class="language-groovy"><span class="token comment">// 获取数组对象</span><span class="token keyword">def</span> ipList <span class="token operator">=</span> <span class="token punctuation">(</span>List<span class="token operator">&lt;</span>String<span class="token operator">&gt;</span><span class="token punctuation">)</span> vars<span class="token punctuation">.</span><span class="token function">getObject</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">"ipList"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">"第一个 IP："</span></span> <span class="token operator">+</span> ipList<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 输出：192.168.1.1</span><span class="token comment">// 获取 Map 对象</span><span class="token keyword">def</span> userMap <span class="token operator">=</span> <span class="token punctuation">(</span>Map<span class="token operator">&lt;</span>String<span class="token punctuation">,</span> Object<span class="token operator">&gt;</span><span class="token punctuation">)</span> vars<span class="token punctuation">.</span><span class="token function">getObject</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">"userMap"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">"用户名："</span></span> <span class="token operator">+</span> userMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">"name"</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 输出：testuser</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="3-4-移除变量：vars-remove"><a href="#3-4-移除变量：vars-remove" class="headerlink" title="3.4 移除变量：vars.remove()"></a>3.4 移除变量：vars.remove()</h3><p>从当前线程的变量空间中移除指定变量。</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// 语法：vars.remove(变量名);</span>vars<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">"key"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h4 id="示例-2"><a href="#示例-2" class="headerlink" title="示例"></a>示例</h4><pre class="line-numbers language-groovy" data-language="groovy"><code class="language-groovy"><span class="token comment">// 移除变量</span>vars<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">"username"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 验证是否移除成功</span>log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">"用户名是否存在："</span></span> <span class="token operator">+</span> <span class="token punctuation">(</span>vars<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">"username"</span></span><span class="token punctuation">)</span> <span class="token operator">==</span> null<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 输出：true</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="3-5-清空所有变量：vars-clear"><a href="#3-5-清空所有变量：vars-clear" class="headerlink" title="3.5 清空所有变量：vars.clear()"></a>3.5 清空所有变量：vars.clear()</h3><p>清空当前线程的所有变量（谨慎使用，可能影响后续元件）。</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// 语法：vars.clear();</span>vars<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h4 id="示例-3"><a href="#示例-3" class="headerlink" title="示例"></a>示例</h4><pre class="line-numbers language-groovy" data-language="groovy"><code class="language-groovy"><span class="token comment">// 清空所有变量</span>vars<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 验证变量数量</span>log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">"变量数量："</span></span> <span class="token operator">+</span> vars<span class="token punctuation">.</span><span class="token function">entrySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 输出：0</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="4-常见使用场景"><a href="#4-常见使用场景" class="headerlink" title="4. 常见使用场景"></a>4. 常见使用场景</h2><h3 id="场景-1：PreProcessor-中生成数据传递给-Sampler"><a href="#场景-1：PreProcessor-中生成数据传递给-Sampler" class="headerlink" title="场景 1：PreProcessor 中生成数据传递给 Sampler"></a>场景 1：PreProcessor 中生成数据传递给 Sampler</h3><blockquote><p>**tags: [典型应用]**：在请求前生成动态数据（如唯一 ID、时间戳），并在 Sampler 中使用。</p></blockquote><p><strong>示例</strong>：生成唯一请求 ID 并在 HTTP Request 中使用</p><ol><li><strong>添加 JSR223 PreProcessor</strong>（HTTP Request 的子元件）：</li></ol><pre class="line-numbers language-groovy" data-language="groovy"><code class="language-groovy"><span class="token comment">// 生成唯一请求 ID</span><span class="token keyword">def</span> requestId <span class="token operator">=</span> <span class="token interpolation-string"><span class="token string">"REQ_"</span></span> <span class="token operator">+</span> System<span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>vars<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">"requestId"</span></span><span class="token punctuation">,</span> requestId<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 生成时间戳</span><span class="token keyword">def</span> timestamp <span class="token operator">=</span> String<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>System<span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>vars<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">"timestamp"</span></span><span class="token punctuation">,</span> timestamp<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="2"><li><strong>在 HTTP Request 中引用</strong>：<ul><li><strong>Path</strong> 字段填写：<code>/api/test?requestId=${requestId}&amp;timestamp=${timestamp}</code></li><li>实际请求路径会被替换为：<code>/api/test?requestId=REQ_1678901234567&amp;timestamp=1678901234567</code></li></ul></li></ol><h3 id="场景-2：PostProcessor-中提取响应数据传递给后续-Sampler"><a href="#场景-2：PostProcessor-中提取响应数据传递给后续-Sampler" class="headerlink" title="场景 2：PostProcessor 中提取响应数据传递给后续 Sampler"></a>场景 2：PostProcessor 中提取响应数据传递给后续 Sampler</h3><blockquote><p>**tags: [数据流转]**：从响应中提取数据（如 token、用户 ID），供后续请求使用。</p></blockquote><p><strong>示例</strong>：提取响应中的 token 并在后续请求的 Header 中使用</p><ol><li><strong>添加 JSR223 PostProcessor</strong>（第一个 HTTP Request 的子元件）：</li></ol><pre class="line-numbers language-groovy" data-language="groovy"><code class="language-groovy"><span class="token comment">// 获取响应体</span>String response <span class="token operator">=</span> prev<span class="token punctuation">.</span><span class="token function">getResponseDataAsString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 正则提取 token</span><span class="token keyword">def</span> tokenMatcher <span class="token operator">=</span> response <span class="token operator">=~</span> <span class="token interpolation-string"><span class="token string">/"token":"([^"]+)"/</span></span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>tokenMatcher<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    String token <span class="token operator">=</span> tokenMatcher<span class="token punctuation">.</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    vars<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">"authToken"</span></span><span class="token punctuation">,</span> token<span class="token punctuation">)</span><span class="token punctuation">;</span>    log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">"已提取 token："</span></span> <span class="token operator">+</span> token<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="2"><li><strong>在后续 HTTP Request 的 Header 中引用</strong>：<ul><li>添加 Header：<code>Authorization</code> → 值填写：<code>Bearer ${authToken}</code></li></ul></li></ol><h3 id="场景-3：存储复杂数据结构"><a href="#场景-3：存储复杂数据结构" class="headerlink" title="场景 3：存储复杂数据结构"></a>场景 3：存储复杂数据结构</h3><blockquote><p>**tags: [数据结构]**：对于数组、列表等复杂数据，使用 <code>vars.putObject()</code> 存储更高效。</p></blockquote><p><strong>示例</strong>：存储用户列表并在后续元件中遍历使用</p><ol><li><strong>在 PreProcessor 中存储用户列表</strong>：</li></ol><pre class="line-numbers language-groovy" data-language="groovy"><code class="language-groovy"><span class="token comment">// 定义用户列表</span><span class="token keyword">def</span> users <span class="token operator">=</span> <span class="token punctuation">[</span>    <span class="token punctuation">[</span><span class="token interpolation-string"><span class="token string">"id"</span></span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token interpolation-string"><span class="token string">"name"</span></span><span class="token punctuation">:</span> <span class="token interpolation-string"><span class="token string">"user1"</span></span><span class="token punctuation">,</span> <span class="token interpolation-string"><span class="token string">"age"</span></span><span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token punctuation">[</span><span class="token interpolation-string"><span class="token string">"id"</span></span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token interpolation-string"><span class="token string">"name"</span></span><span class="token punctuation">:</span> <span class="token interpolation-string"><span class="token string">"user2"</span></span><span class="token punctuation">,</span> <span class="token interpolation-string"><span class="token string">"age"</span></span><span class="token punctuation">:</span> <span class="token number">25</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token punctuation">[</span><span class="token interpolation-string"><span class="token string">"id"</span></span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token interpolation-string"><span class="token string">"name"</span></span><span class="token punctuation">:</span> <span class="token interpolation-string"><span class="token string">"user3"</span></span><span class="token punctuation">,</span> <span class="token interpolation-string"><span class="token string">"age"</span></span><span class="token punctuation">:</span> <span class="token number">30</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">// 存储为对象</span>vars<span class="token punctuation">.</span><span class="token function">putObject</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">"userList"</span></span><span class="token punctuation">,</span> users<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="2"><li><strong>在后续 PostProcessor 中使用</strong>：</li></ol><pre class="line-numbers language-groovy" data-language="groovy"><code class="language-groovy"><span class="token comment">// 获取用户列表</span>List<span class="token operator">&lt;</span>Map<span class="token operator">&lt;</span>String<span class="token punctuation">,</span> Object<span class="token operator">&gt;&gt;</span> userList <span class="token operator">=</span> <span class="token punctuation">(</span>List<span class="token operator">&lt;</span>Map<span class="token operator">&lt;</span>String<span class="token punctuation">,</span> Object<span class="token operator">&gt;&gt;</span><span class="token punctuation">)</span> vars<span class="token punctuation">.</span><span class="token function">getObject</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">"userList"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 遍历用户列表</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> userList<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    Map<span class="token operator">&lt;</span>String<span class="token punctuation">,</span> Object<span class="token operator">&gt;</span> user <span class="token operator">=</span> userList<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>    log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">"用户 "</span></span> <span class="token operator">+</span> <span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token interpolation-string"><span class="token string">"："</span></span> <span class="token operator">+</span> user<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">"name"</span></span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token interpolation-string"><span class="token string">"，年龄："</span></span> <span class="token operator">+</span> user<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">"age"</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="5-注意事项"><a href="#5-注意事项" class="headerlink" title="5. 注意事项"></a>5. 注意事项</h2><blockquote><p>**tags: [警告]**：以下事项需特别注意，避免使用错误。</p></blockquote><h3 id="5-1-字符串必须加引号"><a href="#5-1-字符串必须加引号" class="headerlink" title="5.1 字符串必须加引号"></a>5.1 字符串必须加引号</h3><p>存储字符串时，必须用引号包围（双引号或单引号），否则 Groovy 会将其视为变量名（未定义会报错）。</p><pre class="line-numbers language-groovy" data-language="groovy"><code class="language-groovy"><span class="token comment">// 错误：test 被视为变量名（未定义会抛出异常）</span><span class="token comment">// vars.put("var", test);  // 抛出 MissingPropertyException</span><span class="token comment">// 正确：用引号包围字符串</span>vars<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">"var"</span></span><span class="token punctuation">,</span> <span class="token interpolation-string"><span class="token string">"test"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="5-2-跨线程共享需使用-props"><a href="#5-2-跨线程共享需使用-props" class="headerlink" title="5.2 跨线程共享需使用 props"></a>5.2 跨线程共享需使用 props</h3><p><code>vars</code> 仅对当前线程可见，若需跨线程共享数据，应使用 <code>props</code>（全局属性）。</p><pre class="line-numbers language-groovy" data-language="groovy"><code class="language-groovy"><span class="token comment">// 存储为全局属性（所有线程可见）</span>props<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">"globalVar"</span></span><span class="token punctuation">,</span> <span class="token interpolation-string"><span class="token string">"value"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 在其他线程中获取</span>String value <span class="token operator">=</span> props<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">"globalVar"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="5-3-变量替换仅在支持的字段中生效"><a href="#5-3-变量替换仅在支持的字段中生效" class="headerlink" title="5.3 变量替换仅在支持的字段中生效"></a>5.3 变量替换仅在支持的字段中生效</h3><p><code>${变量名}</code> 语法仅在 JMeter 支持变量替换的字段中生效（如 HTTP Request 的路径、参数值、Header 等）。</p><h3 id="5-4-性能考虑"><a href="#5-4-性能考虑" class="headerlink" title="5.4 性能考虑"></a>5.4 性能考虑</h3><ul><li>避免在高频执行的元件（如循环中的 Sampler）中频繁调用 <code>vars.put()</code>/<code>vars.get()</code>，可能影响性能。</li><li>对于复杂数据结构，优先使用 <code>vars.putObject()</code> 存储，减少类型转换开销。</li></ul><h2 id="6-与其他变量操作对象的对比"><a href="#6-与其他变量操作对象的对比" class="headerlink" title="6. 与其他变量操作对象的对比"></a>6. 与其他变量操作对象的对比</h2><table><thead><tr><th>操作对象</th><th>作用域</th><th>生命周期</th><th>适用场景</th></tr></thead><tbody><tr><td><code>vars</code></td><td>当前线程</td><td>线程执行期间</td><td>线程内数据传递</td></tr><tr><td><code>props</code></td><td>全局（所有线程）</td><td>测试计划执行期间</td><td>跨线程数据共享</td></tr><tr><td><code>ctx</code></td><td>当前线程</td><td>线程执行期间</td><td>访问 JMeter 上下文（如采样器结果）</td></tr><tr><td><code>prev</code></td><td>当前线程</td><td>当前采样器执行后</td><td>访问上一个采样器的结果</td></tr></tbody></table><h2 id="7-完整示例：IP-轮询场景"><a href="#7-完整示例：IP-轮询场景" class="headerlink" title="7. 完整示例：IP 轮询场景"></a>7. 完整示例：IP 轮询场景</h2><h3 id="7-1-需求"><a href="#7-1-需求" class="headerlink" title="7.1 需求"></a>7.1 需求</h3><p>定义 IP 列表 <code>["192.168.1.1", "192.168.1.2", "192.168.1.3"]</code>，并在每次请求时按顺序轮询使用。</p><h3 id="7-2-实现步骤"><a href="#7-2-实现步骤" class="headerlink" title="7.2 实现步骤"></a>7.2 实现步骤</h3><ol><li><strong>添加 JSR223 PreProcessor</strong>（线程组级别）：</li></ol><pre class="line-numbers language-groovy" data-language="groovy"><code class="language-groovy"><span class="token comment">// 初始化 IP 列表（仅首次执行时初始化）</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>vars<span class="token punctuation">.</span><span class="token function">containsKey</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">"ipListInitialized"</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">def</span> ipList <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token interpolation-string"><span class="token string">"192.168.1.1"</span></span><span class="token punctuation">,</span> <span class="token interpolation-string"><span class="token string">"192.168.1.2"</span></span><span class="token punctuation">,</span> <span class="token interpolation-string"><span class="token string">"192.168.1.3"</span></span><span class="token punctuation">]</span><span class="token punctuation">;</span>    vars<span class="token punctuation">.</span><span class="token function">putObject</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">"ipList"</span></span><span class="token punctuation">,</span> ipList<span class="token punctuation">)</span><span class="token punctuation">;</span>    vars<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">"ipIndex"</span></span><span class="token punctuation">,</span> <span class="token interpolation-string"><span class="token string">"0"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>    vars<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">"ipListInitialized"</span></span><span class="token punctuation">,</span> <span class="token interpolation-string"><span class="token string">"true"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>    log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">"IP 列表已初始化："</span></span> <span class="token operator">+</span> ipList<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">// 轮询逻辑</span><span class="token keyword">def</span> ipList <span class="token operator">=</span> vars<span class="token punctuation">.</span><span class="token function">getObject</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">"ipList"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> index <span class="token operator">=</span> Integer<span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span>vars<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">"ipIndex"</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> size <span class="token operator">=</span> ipList<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 获取当前 IP</span>String currentIp <span class="token operator">=</span> ipList<span class="token punctuation">[</span>index <span class="token operator">%</span> size<span class="token punctuation">]</span><span class="token punctuation">;</span>vars<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">"currentIp"</span></span><span class="token punctuation">,</span> currentIp<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 更新索引</span>vars<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">"ipIndex"</span></span><span class="token punctuation">,</span> String<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token punctuation">(</span>index <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">%</span> size<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">"当前轮询 IP："</span></span> <span class="token operator">+</span> currentIp<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="2"><li><strong>在 HTTP Request 中引用</strong>：<ul><li><strong>Server Name or IP</strong> 字段填写：<code>${currentIp}</code></li></ul></li></ol><h3 id="7-3-执行结果"><a href="#7-3-执行结果" class="headerlink" title="7.3 执行结果"></a>7.3 执行结果</h3><ul><li>第 1 次请求：使用 IP <code>192.168.1.1</code></li><li>第 2 次请求：使用 IP <code>192.168.1.2</code></li><li>第 3 次请求：使用 IP <code>192.168.1.3</code></li><li>第 4 次请求：循环使用 IP <code>192.168.1.1</code></li></ul><h2 id="8-总结"><a href="#8-总结" class="headerlink" title="8. 总结"></a>8. 总结</h2><p><code>vars.put()</code> 是 JMeter 中管理线程级变量的核心方法，通过本文的指南，您应已掌握：</p><ul><li>✅ <code>vars.put()</code> 的基本用法和类型转换</li><li>✅ <code>vars</code> 相关方法（如 <code>putObject()</code>、<code>get()</code>、<code>remove()</code>）的使用</li><li>✅ 常见使用场景（如数据传递、响应提取、复杂数据存储）</li><li>✅ 注意事项和性能优化建议</li></ul><p>合理使用 <code>vars</code> 对象，可大幅提升 JMeter 脚本的灵活性和可维护性，实现更复杂的测试场景。</p>]]></content>
      
      
      <categories>
          
          <category> 性能测试 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JMeter </tag>
            
            <tag> 性能测试 </tag>
            
            <tag> 变量操作 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo 单仓库双分支 配合action</title>
      <link href="/2026/01/30/hexo-dan-cang-ku-shuang-fen-zhi-yun-xiao-ji/"/>
      <url>/2026/01/30/hexo-dan-cang-ku-shuang-fen-zhi-yun-xiao-ji/</url>
      
        <content type="html"><![CDATA[<h1 id="Hexo-单仓库双分支：摆脱本地hexo、node"><a href="#Hexo-单仓库双分支：摆脱本地hexo、node" class="headerlink" title="Hexo 单仓库双分支：摆脱本地hexo、node"></a>Hexo 单仓库双分支：摆脱本地hexo、node</h1><p>本方案旨在实现一个<strong>完全脱离本地环境</strong>、随时随地可写作的现代化博客系统。你只需要一个 GitHub 账号，即可通过网页或任何 Git 客户端发布文章。</p><h2 id="1-核心架构：单仓库双分支"><a href="#1-核心架构：单仓库双分支" class="headerlink" title="1. 核心架构：单仓库双分支"></a>1. 核心架构：单仓库双分支</h2><p>同一个 GitHub 仓库的两个分支，实现“源码”与“网页”的分离：</p><table><thead><tr><th align="left">分支名</th><th align="left">作用</th><th align="left">内容</th><th align="left">权限</th></tr></thead><tbody><tr><td align="left"><strong><code>dev</code></strong></td><td align="left"><strong>后台 (源码)</strong></td><td align="left">Markdown 文章、配置文件、<code>package.json</code></td><td align="left"><strong>默认分支</strong>，你在此写作</td></tr><tr><td align="left"><strong><code>master</code></strong></td><td align="left"><strong>前台 (网页)</strong></td><td align="left">HTML/CSS/JS (由 Action 自动生成)</td><td align="left">仅由 Robot 推送，<strong>勿手动修改</strong></td></tr></tbody></table><hr><h2 id="2-初始环境搭建-只需做一次"><a href="#2-初始环境搭建-只需做一次" class="headerlink" title="2. 初始环境搭建 (只需做一次)"></a>2. 初始环境搭建 (只需做一次)</h2><h3 id="第一步：准备仓库"><a href="#第一步：准备仓库" class="headerlink" title="第一步：准备仓库"></a>第一步：准备仓库</h3><ol><li> 在 GitHub 创建一个新仓库，名称必须为：<code>你的用户名.github.io</code>。</li><li> 仓库设置为 <strong>Public</strong>（公开）。</li></ol><h3 id="第二步：初始化分支"><a href="#第二步：初始化分支" class="headerlink" title="第二步：初始化分支"></a>第二步：初始化分支</h3><p>在本地或者直接在 GitHub 网页上操作：</p><ol><li> 确保你当前处于一个干净的分支（建议命名为 <code>dev</code>）。</li><li> 将 Hexo 源码（<code>source/</code>, <code>themes/</code>, <code>_config.yml</code>, <code>package.json</code> 等）全部推送到 <code>dev</code>。</li><li> 在 GitHub 仓库设置 (<strong>Settings -&gt; General</strong>) 中，将 <strong>Default branch</strong> 修改为 **<code>dev</code>**。</li><li> (可选) 删除远程的 <code>master</code> 分支（如果有），让 Action 稍后自动重建一个干净的。</li></ol><h3 id="第三步：配置自动化-GitHub-Actions"><a href="#第三步：配置自动化-GitHub-Actions" class="headerlink" title="第三步：配置自动化 (GitHub Actions)"></a>第三步：配置自动化 (GitHub Actions)</h3><p>在 <code>dev</code> 分支根目录下，创建文件 <code>.github/workflows/deploy.yml</code>：</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">name</span><span class="token punctuation">:</span> Deploy Hexo Blog<span class="token key atrule">on</span><span class="token punctuation">:</span>  <span class="token key atrule">push</span><span class="token punctuation">:</span>    <span class="token key atrule">branches</span><span class="token punctuation">:</span>      <span class="token punctuation">-</span> dev  <span class="token comment"># 监听源码分支的变动</span><span class="token key atrule">permissions</span><span class="token punctuation">:</span>  <span class="token key atrule">contents</span><span class="token punctuation">:</span> write <span class="token comment"># 必须赋予写权限</span><span class="token key atrule">jobs</span><span class="token punctuation">:</span>  <span class="token key atrule">build</span><span class="token punctuation">:</span>    <span class="token key atrule">runs-on</span><span class="token punctuation">:</span> ubuntu<span class="token punctuation">-</span>latest    <span class="token key atrule">steps</span><span class="token punctuation">:</span>      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Checkout Source        <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/checkout@v4        <span class="token key atrule">with</span><span class="token punctuation">:</span>          <span class="token key atrule">ref</span><span class="token punctuation">:</span> dev          <span class="token comment"># 拉取源码</span>          <span class="token key atrule">submodules</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>  <span class="token comment"># 兼容主题 submodule</span>          <span class="token key atrule">fetch-depth</span><span class="token punctuation">:</span> <span class="token number">0</span>      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Setup Node.js        <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/setup<span class="token punctuation">-</span>node@v4        <span class="token key atrule">with</span><span class="token punctuation">:</span>          <span class="token key atrule">node-version</span><span class="token punctuation">:</span> <span class="token string">'20'</span> <span class="token comment"># 使用现代 Node 版本</span>      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Upgrade npm &amp; Install Hexo CLI        <span class="token key atrule">run</span><span class="token punctuation">:</span> <span class="token punctuation">|</span><span class="token scalar string">          npm install -g npm@latest          npm install -g hexo-cli</span>      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Install Dependencies        <span class="token key atrule">run</span><span class="token punctuation">:</span> npm install <span class="token punctuation">-</span><span class="token punctuation">-</span>no<span class="token punctuation">-</span>optional      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Build Hexo        <span class="token key atrule">run</span><span class="token punctuation">:</span> hexo generate      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Deploy to Master        <span class="token key atrule">uses</span><span class="token punctuation">:</span> peaceiris/actions<span class="token punctuation">-</span>gh<span class="token punctuation">-</span>pages@v3        <span class="token key atrule">with</span><span class="token punctuation">:</span>          <span class="token key atrule">github_token</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span><span class="token punctuation">{</span> secrets.GITHUB_TOKEN <span class="token punctuation">}</span><span class="token punctuation">}</span>          <span class="token key atrule">publish_dir</span><span class="token punctuation">:</span> ./public          <span class="token key atrule">publish_branch</span><span class="token punctuation">:</span> master  <span class="token comment"># 发布到 master 分支</span>          <span class="token key atrule">commit_message</span><span class="token punctuation">:</span> <span class="token string">"Auto deploy: ${{ github.event.head_commit.message }}"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="第四步：开启-GitHub-Pages"><a href="#第四步：开启-GitHub-Pages" class="headerlink" title="第四步：开启 GitHub Pages"></a>第四步：开启 GitHub Pages</h3><p>等待第一次 Action 跑通（显示绿色 ✅）后：</p><ol><li> 进入仓库 <strong>Settings -&gt; Pages</strong>。</li><li> <strong>Source</strong> 选择 <code>Deploy from a branch</code>。</li><li> <strong>Branch</strong> 选择 <code>master</code> 分支（根目录 <code>/root</code>）。</li><li> 保存。</li></ol><hr><h2 id="3-日常写作流程-完全云端化"><a href="#3-日常写作流程-完全云端化" class="headerlink" title="3. 日常写作流程 (完全云端化)"></a>3. 日常写作流程 (完全云端化)</h2><p>你可以选择以下任意一种方式写文章，<strong>无需本地安装 Node.js/Hexo</strong>。</p><h3 id="方式-A：GitHub-网页版-最简单"><a href="#方式-A：GitHub-网页版-最简单" class="headerlink" title="方式 A：GitHub 网页版 (最简单)"></a>方式 A：GitHub 网页版 (最简单)</h3><ol><li> 打开你的仓库首页（默认就是 <code>dev</code> 分支）。</li><li> 进入 <code>source/_posts/</code> 目录。</li><li> 点击 <strong>Add file -&gt; Create new file</strong>。</li><li>文件名填 <code>我的新文章.md</code>，内容写入： <pre class="line-numbers language-markdown" data-language="markdown"><code class="language-markdown"><span class="token front-matter-block"><span class="token punctuation">---</span><span class="token front-matter yaml language-yaml"><span class="token key atrule">title</span><span class="token punctuation">:</span> 我的新文章<span class="token key atrule">date</span><span class="token punctuation">:</span> <span class="token datetime number">2024-03-21 12:00:00</span><span class="token key atrule">tags</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>生活<span class="token punctuation">,</span> 记录<span class="token punctuation">]</span></span><span class="token punctuation">---</span></span>这里是正文内容...<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li> 点击底部的 <strong>Commit changes</strong>。</li><li> <strong>完成！</strong> 等待 1-2 分钟，你的博客 <code>https://你的用户名.github.io</code> 就会自动更新。</li></ol><h3 id="方式-B：VS-Code-网页版"><a href="#方式-B：VS-Code-网页版" class="headerlink" title="方式 B：VS Code 网页版"></a>方式 B：VS Code 网页版</h3><ol><li> 在你的仓库页面，直接按键盘上的 <strong><code>.</code> (句号)</strong> 键。</li><li> 这会打开一个网页版的 VS Code 编辑器。</li><li> 像在本地一样写文章、管理文件。</li><li> 写完后在左侧 Git 栏提交并推送。</li></ol><hr><h2 id="4-避坑指南"><a href="#4-避坑指南" class="headerlink" title="4. 避坑指南"></a>4. 避坑指南</h2><ol><li><p><strong>依赖管理</strong>：</p><ul><li>  确保 <code>package.json</code> 里的 <code>hexo</code> 版本是新的（建议 <code>^7.0.0</code>）。</li><li>  <strong>不要上传</strong> <code>package-lock.json</code>（除非你很确定环境一致），让 Action 每次自己计算依赖，可以避免很多 npm 兼容性报错。</li></ul></li><li><p><strong>图片处理</strong>：</p><ul><li>  在网页端写文章时，上传图片比较麻烦。</li><li>  建议使用 <strong>图床</strong>（如 SM.MS, Imgur, 或自己搭建的 OSS），在文章里直接用 Markdown 链接 <code>![](图片URL)</code> 引用。</li></ul></li><li><p><strong>主题修改</strong>：</p><ul><li>  如果需要修改主题配置（如菜单、侧边栏），直接编辑 <code>_config.yml</code> 或主题目录下的配置文件并提交即可，Action 会自动重新编译生效。</li></ul></li></ol>]]></content>
      
      
      <categories>
          
          <category> 杂记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 杂记 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>线程包括哪些状态，状态之间是如何变化</title>
      <link href="/2025/01/06/xian-cheng-bao-gua-na-xie-zhuang-tai-zhuang-tai-zhi-jian-shi-ru-he-bian-hua/"/>
      <url>/2025/01/06/xian-cheng-bao-gua-na-xie-zhuang-tai-zhuang-tai-zhi-jian-shi-ru-he-bian-hua/</url>
      
        <content type="html"><![CDATA[<h1 id="线程包括哪些状态，状态之间是如何变化"><a href="#线程包括哪些状态，状态之间是如何变化" class="headerlink" title="线程包括哪些状态，状态之间是如何变化?"></a>线程包括哪些状态，状态之间是如何变化?</h1><h2 id="1-线程状态-六种状态"><a href="#1-线程状态-六种状态" class="headerlink" title="1. 线程状态-六种状态"></a>1. 线程状态-六种状态</h2><blockquote><p>线程的状态可以参考JDK中的Thread类中的枚举State,存在<strong>六种状态</strong></p></blockquote><pre class="line-numbers language-java" data-language="java"><code class="language-java">  <span class="token keyword">public</span> <span class="token keyword">enum</span> <span class="token class-name">State</span> <span class="token punctuation">{</span><span class="token comment">//尚未启动的线程的线程状态</span>  <span class="token constant">NEW</span><span class="token punctuation">,</span>  <span class="token comment">//可运行线程的线程状态</span>  <span class="token constant">RUNNABLE</span><span class="token punctuation">,</span><span class="token comment">//线程阻塞等待监视器锁的线程状态</span>  <span class="token constant">BLOCKED</span><span class="token punctuation">,</span><span class="token comment">//等待线程的线程状态</span>  <span class="token constant">WAITING</span><span class="token punctuation">,</span><span class="token comment">//具有指定等待时间的等待线程的线程状态（有限等待）</span>  <span class="token constant">TIMED_WAITING</span><span class="token punctuation">,</span> <span class="token comment">//已终止线程的线程状态。线程已完成执行</span>  <span class="token constant">TERMINATED</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="https://r2.022032.xyz/yimouz/2026/01/2fdb8ef77376eb11c1cce6076e62efc7.png" alt="线程状态转换图"></p><p><strong>六种状态介绍:</strong></p><p><img src="https://r2.022032.xyz/yimouz/2026/01/839854b08e1175a7e13158bf2ec28662.png" alt="线程状态介绍"></p><p><strong>新建(NEW)</strong></p><blockquote><ul><li>当一个线程对象被创建，但还未调用 start 方法时处于<strong>新建</strong>状态</li><li>此时未与操作系统底层线程关联</li></ul></blockquote><p><strong>可运行(RUNNABLE)</strong>:</p><blockquote><ul><li>调用了 start 方法，就会由<strong>新建</strong>进入<strong>可运行</strong></li><li>此时与底层线程关联，由操作系统调度执行</li></ul></blockquote><p><strong>终结(TERMINATED)</strong></p><blockquote><ul><li>线程内代码已经执行完毕，由<strong>可运行</strong>进入<strong>终结</strong></li></ul></blockquote><blockquote><p>-此时会取消与底层线程关联</p></blockquote><p><strong>阻塞(BLOCKED)</strong></p><blockquote><ul><li>当获取锁失败后，由<strong>可运行</strong>进入 Monitor 的阻塞队列<strong>阻塞</strong>，此时不占用 cpu 时间</li><li>当持锁线程释放锁时，会按照一定规则唤醒阻塞队列中的<strong>阻塞</strong>线程，唤醒后的线程进入<strong>可运行</strong>状态</li></ul></blockquote><p><strong>等待(WAITING)</strong></p><blockquote><ul><li>当获取锁成功后，但由于条件不满足，调用了 wait() 方法，此时从<strong>可运行</strong>状态释放锁进入 Monitor 等待集合<strong>等待</strong>，同样不占用 cpu 时间</li><li>当其它持锁线程调用 notify() 或 notifyAll() 方法，会按照一定规则唤醒等待集合中的<strong>等待</strong>线程，恢复为<strong>可运行</strong>状态</li></ul></blockquote><p><strong>有时限等待(TIMED_WAITING)</strong></p><blockquote><ul><li>当获取锁成功后，但由于条件不满足，调用了 wait(long) 方法，此时从<strong>可运行</strong>状态释放锁进入 Monitor 等待集合进行<strong>有时限等待</strong>，同样不占用 cpu 时间</li><li>当其它持锁线程调用 notify() 或 notifyAll() 方法，会按照一定规则唤醒等待集合中的<strong>有时限等待</strong>线程，恢复为<strong>可运行</strong>状态，并重新去竞争锁</li><li>如果等待超时，也会从<strong>有时限等待</strong>状态恢复为<strong>可运行</strong>状态，并重新去竞争锁</li><li>还有一种情况是调用 sleep(long) 方法也会从<strong>可运行</strong>状态进入<strong>有时限等待</strong>状态，但与 Monitor 无关，不需要主动唤醒，超时时间到自然恢复为<strong>可运行</strong>状态</li></ul></blockquote><p><em><strong>其它情况（只需了解）</strong></em></p><blockquote><ul><li>可以用 interrupt() 方法打断<strong>等待</strong>、<strong>有时限等待</strong>的线程，让它们恢复为<strong>可运行</strong>状态</li><li>park，unpark 等方法也可以让线程等待和唤醒</li></ul></blockquote><h2 id="2-线程状态-五种状态"><a href="#2-线程状态-五种状态" class="headerlink" title="2. 线程状态-五种状态"></a>2. 线程状态-五种状态</h2><p><strong>五种状态的说法来自于操作系统层面的划分</strong></p><p><img src="https://r2.022032.xyz/yimouz/2026/01/b3acf16e360c62b80baaefbc49e9097b.png" alt="操作系统线程状态图"></p><blockquote><ul><li><p><strong>运行态</strong>：分到 cpu 时间，能真正执行线程内代码的</p></li><li><p><strong>就绪态</strong>：有资格分到 cpu 时间，但还未轮到它的</p></li><li><p><strong>阻塞态</strong>：没资格分到 cpu 时间的</p></li><li><ul><li>涵盖了 java 状态中提到的<strong>阻塞</strong>、<strong>等待</strong>、<strong>有时限等待</strong></li><li>多出了阻塞 I/O，指线程在调用阻塞 I/O 时，实际活由 I/O 设备完成，此时线程无事可做，只能干等</li></ul></li><li><p><strong>新建与终结态</strong>：与 java 中同名状态类似，不再啰嗦</p></li></ul></blockquote><h2 id="3-wait和sleep方法的不同？"><a href="#3-wait和sleep方法的不同？" class="headerlink" title="3. wait和sleep方法的不同？"></a>3. wait和sleep方法的不同？</h2><p><strong>共同点</strong></p><blockquote><p>wait() ，wait(long) 和 sleep(long) 的效果都是让当前线程暂时放弃 CPU 的使用权，进入阻塞状态</p></blockquote><p><strong>不同点</strong></p><p>1.方法归属不同</p><blockquote><ul><li>sleep(long) 是 Thread 的静态方法</li><li>而 wait()，wait(long) 都是 Object 的成员方法，每个对象都有 2.醒来时机不同</li><li>执行 sleep(long) 和 wait(long) 的线程都会在等待相应毫秒后醒来</li><li>wait(long) 和 wait() 还可以被 notify 唤醒，wait() 如果不唤醒就一直等下去</li><li>它们都可以被打断唤醒</li></ul></blockquote><ol><li>锁特性不同（重点）</li></ol><blockquote><ul><li>wait 方法的调用必须先获取 wait 对象的锁，而 sleep 则无此限制</li><li>wait 方法执行后会释放对象锁，允许其它线程获得该对象锁（我放弃 cpu，但你们还可以用）</li><li>而 sleep 如果在 synchronized 代码块中执行，并不会释放对象锁（我放弃 cpu，你们也用不了）</li></ul></blockquote><h2 id="3-线程状态面试题"><a href="#3-线程状态面试题" class="headerlink" title="3. 线程状态面试题"></a>3. 线程状态面试题</h2><p><strong>面试官</strong>：线程包括哪些状态，状态之间是如何变化的？</p><p><strong>候选人：</strong></p><blockquote><p>在JDK中的Thread类中的枚举State里面定义了6中线程的状态分别是：新建、可运行、终结、阻塞、等待和有时限等待六种。</p><p>关于线程的状态切换情况比较多。我分别介绍一下</p><p>当一个线程对象被创建，但还未调用 start 方法时处于<strong>新建</strong>状态，调用了 start 方法，就会由<strong>新建</strong>进入<strong>可运行</strong>状态。如果线程内代码已经执行完毕，由<strong>可运行</strong>进入<strong>终结</strong>状态。当然这些是一个线程正常执行情况。</p><p>如果线程获取锁失败后，由<strong>可运行</strong>进入 Monitor 的阻塞队列<strong>阻塞</strong>，只有当持锁线程释放锁时，会按照一定规则唤醒阻塞队列中的<strong>阻塞</strong>线程，唤醒后的线程进入<strong>可运行</strong>状态</p><p>如果线程获取锁成功后，但由于条件不满足，调用了 wait() 方法，此时从<strong>可运行</strong>状态释放锁<strong>等待</strong>状态，当其它持锁线程调用 notify() 或 notifyAll() 方法，会恢复为<strong>可运行</strong>状态</p><p>还有一种情况是调用 sleep(long) 方法也会从<strong>可运行</strong>状态进入<strong>有时限等待</strong>状态，不需要主动唤醒，超时时间到自然恢复为<strong>可运行</strong>状态</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 性能笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 线程池 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JMeter-prev</title>
      <link href="/2024/12/03/shi-yong-jmeter-zhong-de-prev-dui-xiang/"/>
      <url>/2024/12/03/shi-yong-jmeter-zhong-de-prev-dui-xiang/</url>
      
        <content type="html"><![CDATA[<p> JMeter 中，<code>prev</code> 对象是一个非常重要的变量，通常用于在 JSR223 Sampler 或者 BeanShell Sampler 中获取上一个 Sampler 的结果。记录下 <code>prev</code> 对象的常用 API。</p><h3 id="什么是-prev-对象？"><a href="#什么是-prev-对象？" class="headerlink" title="什么是 prev 对象？"></a>什么是 <code>prev</code> 对象？</h3><p><code>prev</code> 对象是一个 <code>SampleResult</code> 类型的实例，它包含了上一个 Sampler 的所有信息和结果。通过使用 <code>prev</code> 对象，我们可以访问上一个请求的响应数据、响应时间、响应代码等信息。</p><h3 id="常用的-prev-API"><a href="#常用的-prev-API" class="headerlink" title="常用的 prev API"></a>常用的 <code>prev</code> API</h3><p>下面是 <code>prev</code> 对象的一些常用 API 和属性：</p><ol><li><p><strong>getTime()</strong></p><ul><li>返回采样器的响应时间（以毫秒为单位）。<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">long</span> responseTime <span class="token operator">=</span> prev<span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li></ul></li><li><p><strong>getResponseCode()</strong></p><ul><li>返回采样器的响应代码（通常是 HTTP 状态码）。<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">String</span> responseCode <span class="token operator">=</span> prev<span class="token punctuation">.</span><span class="token function">getResponseCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li></ul></li><li><p><strong>getResponseMessage()</strong></p><ul><li>返回采样器的响应消息。<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">String</span> responseMessage <span class="token operator">=</span> prev<span class="token punctuation">.</span><span class="token function">getResponseMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li></ul></li><li><p><strong>getResponseDataAsString()</strong></p><ul><li>以字符串形式返回响应数据。<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">String</span> responseData <span class="token operator">=</span> prev<span class="token punctuation">.</span><span class="token function">getResponseDataAsString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li></ul></li><li><p><strong>getResponseHeaders()</strong></p><ul><li>返回响应头信息。<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">String</span> responseHeaders <span class="token operator">=</span> prev<span class="token punctuation">.</span><span class="token function">getResponseHeaders</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li></ul></li><li><p><strong>getRequestHeaders()</strong></p><ul><li>返回请求头信息。<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">String</span> requestHeaders <span class="token operator">=</span> prev<span class="token punctuation">.</span><span class="token function">getRequestHeaders</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li></ul></li><li><p><strong>getSamplerData()</strong></p><ul><li>返回采样器的请求数据。<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">String</span> samplerData <span class="token operator">=</span> prev<span class="token punctuation">.</span><span class="token function">getSamplerData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li></ul></li><li><p><strong>getSampleLabel()</strong></p><ul><li>返回采样器的标签。<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">String</span> sampleLabel <span class="token operator">=</span> prev<span class="token punctuation">.</span><span class="token function">getSampleLabel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li></ul></li><li><p><strong>isSuccessful()</strong></p><ul><li>返回采样器的执行结果是否成功。<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">boolean</span> isSuccess <span class="token operator">=</span> prev<span class="token punctuation">.</span><span class="token function">isSuccessful</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li></ul></li><li><p><strong>getURL()</strong></p><ul><li>返回采样器的请求 URL。<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">String</span> url <span class="token operator">=</span> prev<span class="token punctuation">.</span><span class="token function">getURL</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li></ul></li><li><p><strong>getStartTime()</strong></p><ul><li>返回采样器开始时间（以毫秒为单位）。<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">long</span> startTime <span class="token operator">=</span> prev<span class="token punctuation">.</span><span class="token function">getStartTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li></ul></li><li><p><strong>getEndTime()</strong></p><ul><li>返回采样器结束时间（以毫秒为单位）。<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">long</span> endTime <span class="token operator">=</span> prev<span class="token punctuation">.</span><span class="token function">getEndTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li></ul></li></ol><h3 id="使用示例"><a href="#使用示例" class="headerlink" title="使用示例"></a>使用示例</h3><p>假设我们在测试一个 RESTful API，并且需要在每个请求之后检查响应数据是否包含特定的字符串。我们可以使用 JSR223 Sampler 来实现这个功能。以下是一个示例脚本：</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// 获取上一个采样器的响应数据</span><span class="token class-name">String</span> responseData <span class="token operator">=</span> prev<span class="token punctuation">.</span><span class="token function">getResponseDataAsString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 检查响应数据是否包含特定字符串</span><span class="token keyword">if</span> <span class="token punctuation">(</span>responseData<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">"code"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 如果包含，记录日志并继续</span>    log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"Response contains the expected string."</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>    <span class="token comment">// 如果不包含，记录日志并标记测试失败</span>    log<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">"Response does not contain the expected string."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token class-name">AssertionResult</span><span class="token punctuation">.</span><span class="token function">setFailure</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token class-name">AssertionResult</span><span class="token punctuation">.</span><span class="token function">setFailureMessage</span><span class="token punctuation">(</span><span class="token string">"Response does not contain the expected string."</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>就算是随便记录也希望能够帮助我们更好理解，不要健忘。</p>]]></content>
      
      
      <categories>
          
          <category> 性能笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JMeter </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JMeter POST 请求缺失 Header 需要手动添加</title>
      <link href="/2021/06/10/jmeter-post-qing-qiu-que-shi-header-de-jie-jue-fang-an/"/>
      <url>/2021/06/10/jmeter-post-qing-qiu-que-shi-header-de-jie-jue-fang-an/</url>
      
        <content type="html"><![CDATA[<h1 id="JMeter-POST-请求缺失-Header-的解决方案"><a href="#JMeter-POST-请求缺失-Header-的解决方案" class="headerlink" title="JMeter POST 请求缺失 Header 的解决方案"></a>JMeter POST 请求缺失 Header 的解决方案</h1><h2 id="1-问题背景"><a href="#1-问题背景" class="headerlink" title="1. 问题背景"></a>1. 问题背景</h2><p>在进行接口测试（特别是 POST 请求）时，如果没有显式添加 <code>Content-Type</code> 头，服务端往往无法正确解析请求体，从而返回 <code>415 Unsupported Media Type</code> 或 <code>400 Bad Request</code> 错误。<br>最常见的场景是发送 JSON 数据，但未设置 <code>Content-Type: application/json</code>。</p><h2 id="2-核心解决方案：使用-HTTP-Header-Manager"><a href="#2-核心解决方案：使用-HTTP-Header-Manager" class="headerlink" title="2. 核心解决方案：使用 HTTP Header Manager"></a>2. 核心解决方案：使用 HTTP Header Manager</h2><p>这是解决该问题最标准、最灵活的方法，适用于 JSON、XML 等各种数据格式。</p><h3 id="操作步骤"><a href="#操作步骤" class="headerlink" title="操作步骤"></a>操作步骤</h3><ol><li><strong>添加组件</strong>：<ul><li>  选中 <strong>Test Plan (测试计划)</strong> 或 **Thread Group (线程组)**。</li><li>  右键菜单选择：<code>Add</code> -&gt; <code>Config Element</code> -&gt; <code>HTTP Header Manager</code> (HTTP信息头管理器)。</li></ul></li><li><strong>配置参数</strong>：<ul><li>  点击底部的 <code>Add</code> 按钮新增一行。</li><li>  <strong>Name</strong>: <code>Content-Type</code></li><li>  <strong>Value</strong>: <code>application/json</code> (如果是其他格式，填写对应的值，如 <code>application/xml</code>)</li></ul></li></ol><h3 id="作用范围说明"><a href="#作用范围说明" class="headerlink" title="作用范围说明"></a>作用范围说明</h3><ul><li>  <strong>全局生效</strong>：如果在 Test Plan 根节点下添加，所有请求都会默认带上该 Header。</li><li>  <strong>局部生效</strong>：如果在某个 Thread Group 或具体的 HTTP Request 下添加，仅对该范围内的请求生效。</li></ul><h2 id="3-常见误区：修改-jmeter-properties"><a href="#3-常见误区：修改-jmeter-properties" class="headerlink" title="3. 常见误区：修改 jmeter.properties"></a>3. 常见误区：修改 jmeter.properties</h2><p><strong>注意</strong>：修改配置文件中的 <code>post_add_content_type_if_missing</code> 无法解决 JSON 格式的 Header 缺失问题。</p><ul><li>  <strong>局限性</strong>：该配置项开启后，<strong>只能</strong> 自动补全 <code>application/x-www-form-urlencoded</code>。</li><li>  <strong>无效操作</strong>：将该配置项的值改为 <code>json</code> 或 <code>true</code> 都无法让 JMeter 自动添加 <code>application/json</code>。</li><li>  <strong>结论</strong>：请完全忽略此配置项，始终使用 <strong>HTTP Header Manager</strong> 来管理请求头。</li></ul><h3 id="补充说明：隐式行为-Implicit-Behavior"><a href="#补充说明：隐式行为-Implicit-Behavior" class="headerlink" title="补充说明：隐式行为 (Implicit Behavior)"></a>补充说明：隐式行为 (Implicit Behavior)</h3><p>如果开启了该配置 (<code>true</code>)，其补全行为是 <strong>隐式的</strong>：</p><ol><li> <strong>GUI 不可见</strong>：你<strong>不会</strong>在测试计划界面看到任何自动生成的 Header Manager 组件。</li><li> <strong>结果可见</strong>：只有在运行测试后，查看 <strong>View Results Tree (查看结果树)</strong> -&gt; <strong>Request</strong> -&gt; <strong>Request Headers</strong> 时，才会发现 <code>Content-Type: application/x-www-form-urlencoded</code> 被默默添加到了请求中。</li></ol><h3 id="补充说明：优先级与冲突-Priority"><a href="#补充说明：优先级与冲突-Priority" class="headerlink" title="补充说明：优先级与冲突 (Priority)"></a>补充说明：优先级与冲突 (Priority)</h3><p>如果开启了自动补全，同时你又手动设置了 Header，结果是：<strong>以你的手动设置为准</strong>。<br>该配置项的名称 <code>..._if_missing</code> 揭示了其逻辑：</p><ul><li><strong>检查机制</strong>：JMeter 发送请求前会检查是否已有 <code>Content-Type</code>。</li><li><strong>用户优先</strong>：只要检测到你设置了该 Header（无论值是 json、xml 还是其他），隐式补全行为就<strong>直接跳过</strong>。</li><li><strong>最终结果</strong>：<strong>不会覆盖</strong>，也<strong>不会出现两个 Header</strong>。你的设置完全生效，隐式行为完全失效。</li></ul><h2 id="4-常见-HTTP-Header-及使用场景指南"><a href="#4-常见-HTTP-Header-及使用场景指南" class="headerlink" title="4. 常见 HTTP Header 及使用场景指南"></a>4. 常见 HTTP Header 及使用场景指南</h2><p>在接口测试中，正确设置 Header 是请求成功的关键。以下是高频使用的 Header 及其对应值。</p><h3 id="4-1-数据格式类-Content-Type"><a href="#4-1-数据格式类-Content-Type" class="headerlink" title="4.1 数据格式类 (Content-Type)"></a>4.1 数据格式类 (Content-Type)</h3><p>告诉服务端<strong>你发送的数据是什么格式</strong>。</p><table><thead><tr><th align="left">场景</th><th align="left">Header 值</th><th align="left">说明</th></tr></thead><tbody><tr><td align="left"><strong>JSON 接口</strong> (最常见)</td><td align="left"><code>application/json</code></td><td align="left">RESTful API 标准格式</td></tr><tr><td align="left"><strong>表单提交</strong></td><td align="left"><code>application/x-www-form-urlencoded</code></td><td align="left">类似 HTML <code>&lt;form&gt;</code> 提交，键值对形式</td></tr><tr><td align="left"><strong>文件上传</strong></td><td align="left"><code>multipart/form-data</code></td><td align="left"><strong>注意</strong>：通常不需要手动设置，勾选 JMeter “Use multipart/form-data” 即可自动处理</td></tr><tr><td align="left"><strong>XML 接口</strong></td><td align="left"><code>application/xml</code> 或 <code>text/xml</code></td><td align="left">旧式 SOAP 或 XML API</td></tr></tbody></table><h3 id="4-2-认证鉴权类-Authorization"><a href="#4-2-认证鉴权类-Authorization" class="headerlink" title="4.2 认证鉴权类 (Authorization)"></a>4.2 认证鉴权类 (Authorization)</h3><p>告诉服务端<strong>你是谁</strong>。</p><table><thead><tr><th align="left">场景</th><th align="left">Header 值示例</th><th align="left">说明</th></tr></thead><tbody><tr><td align="left"><strong>Token 认证</strong> (JWT/OAuth)</td><td align="left"><code>Bearer &lt;your_token_string&gt;</code></td><td align="left">最通用的现代 API 认证方式</td></tr><tr><td align="left"><strong>Basic 认证</strong></td><td align="left"><code>Basic &lt;base64_user_pass&gt;</code></td><td align="left">较旧，用户名密码 Base64 编码</td></tr><tr><td align="left"><strong>自定义 Key</strong></td><td align="left"><code>X-API-KEY: abc12345</code></td><td align="left">部分服务商特定的 Header 名称</td></tr></tbody></table><h3 id="4-3-客户端协商类"><a href="#4-3-客户端协商类" class="headerlink" title="4.3 客户端协商类"></a>4.3 客户端协商类</h3><p>告诉服务端<strong>你想要什么</strong>或<strong>你用什么设备</strong>。</p><table><thead><tr><th align="left">Header 名称</th><th align="left">常见值</th><th align="left">说明</th></tr></thead><tbody><tr><td align="left"><strong>Accept</strong></td><td align="left"><code>application/json</code></td><td align="left">期望服务端返回 JSON 格式数据</td></tr><tr><td align="left"><strong>User-Agent</strong></td><td align="left"><code>Mozilla/5.0 ...</code></td><td align="left">模拟浏览器（Chrome/Safari）或手机（Android/iOS），防止被识别为爬虫/机器人</td></tr><tr><td align="left"><strong>Referer</strong></td><td align="left"><code>https://www.example.com/login</code></td><td align="left">来源页面，防盗链检查常需要此字段</td></tr></tbody></table><h3 id="4-4-必备-Header-清单-Checklist"><a href="#4-4-必备-Header-清单-Checklist" class="headerlink" title="4.4 必备 Header 清单 (Checklist)"></a>4.4 必备 Header 清单 (Checklist)</h3><h4 id="针对-REST-API-接口测试："><a href="#针对-REST-API-接口测试：" class="headerlink" title="针对 REST API 接口测试："></a>针对 REST API 接口测试：</h4><ul><li><input checked="" disabled="" type="checkbox"> <strong>Content-Type</strong>: <code>application/json</code> (如果是 POST/PUT)</li><li><input checked="" disabled="" type="checkbox"> <strong>Authorization</strong>: <code>Bearer ...</code> (如果需要登录)</li><li><input disabled="" type="checkbox"> <strong>Accept</strong>: <code>application/json</code> (推荐加上)</li></ul><h4 id="针对-模拟浏览器行为："><a href="#针对-模拟浏览器行为：" class="headerlink" title="针对 模拟浏览器行为："></a>针对 模拟浏览器行为：</h4><ul><li><input checked="" disabled="" type="checkbox"> <strong>User-Agent</strong>: 必须模拟真实浏览器字符串</li><li><input checked="" disabled="" type="checkbox"> <strong>Referer/Origin</strong>: 涉及跨域或安全检查时必须</li><li><input checked="" disabled="" type="checkbox"> <strong>Cookie</strong>: 详见下方说明（推荐使用 Cookie Manager，但也支持手动添加）</li></ul><h3 id="4-5-特殊-Header：Cookie-的处理"><a href="#4-5-特殊-Header：Cookie-的处理" class="headerlink" title="4.5 特殊 Header：Cookie 的处理"></a>4.5 特殊 Header：Cookie 的处理</h3><p>虽然 Cookie 本质上也是 Header (<code>Cookie: name=value</code>)，但 JMeter 提供了两种处理方式：</p><h4 id="方式一：使用-HTTP-Cookie-Manager-强烈推荐"><a href="#方式一：使用-HTTP-Cookie-Manager-强烈推荐" class="headerlink" title="方式一：使用 HTTP Cookie Manager (强烈推荐)"></a>方式一：使用 HTTP Cookie Manager (强烈推荐)</h4><p>这是最接近真实浏览器行为的方式。</p><ul><li>  <strong>自动维护</strong>：自动解析服务端返回的 <code>Set-Cookie</code> 并在后续请求中携带，无需人工干预。</li><li>  <strong>手动添加</strong>：支持在组件界面下方 “User-Defined Cookies” 表格中添加自定义 Cookie（如预埋 Token）。</li></ul><h4 id="方式二：使用-HTTP-Header-Manager-手动强注"><a href="#方式二：使用-HTTP-Header-Manager-手动强注" class="headerlink" title="方式二：使用 HTTP Header Manager (手动强注)"></a>方式二：使用 HTTP Header Manager (手动强注)</h4><ul><li>  <strong>操作</strong>：直接添加 Name=<code>Cookie</code>, Value=<code>session_id=xyz123</code>。</li><li>  <strong>特点</strong>：简单粗暴，强制生效。</li><li>  <strong>缺点</strong>：<strong>不会</strong>自动更新服务端下发的新 Cookie，<strong>不会</strong>自动维护 Session 上下文。仅适用于简单的单次请求调试或固定 Cookie 场景。</li></ul>]]></content>
      
      
      <categories>
          
          <category> JMeter </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JMeter </tag>
            
            <tag> HTTP Header </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JMeter响应中文乱码解决方案</title>
      <link href="/2021/06/08/jmeter-xiang-ying-zhong-wen-luan-ma-jie-jue-fang-an/"/>
      <url>/2021/06/08/jmeter-xiang-ying-zhong-wen-luan-ma-jie-jue-fang-an/</url>
      
        <content type="html"><![CDATA[<h1 id="JMeter-响应中文乱码解决方案"><a href="#JMeter-响应中文乱码解决方案" class="headerlink" title="JMeter 响应中文乱码解决方案"></a>JMeter 响应中文乱码解决方案</h1><p>JMeter 响应数据出现中文乱码，通常是因为 JMeter 默认使用 <code>ISO-8859-1</code> 编码，而接口返回的数据是 <code>UTF-8</code> 编码。</p><p>以下是几种常用的解决方案，按<strong>推荐程度</strong>排序：</p><h3 id="1-修改配置文件（全局生效，最推荐）"><a href="#1-修改配置文件（全局生效，最推荐）" class="headerlink" title="1. 修改配置文件（全局生效，最推荐）"></a>1. 修改配置文件（全局生效，最推荐）</h3><p>这是最彻底的解决方法，修改一次后对所有脚本生效。</p><ol><li> 进入 JMeter 安装目录的 <code>bin</code> 文件夹。</li><li> 找到并打开 <code>jmeter.properties</code> 文件。</li><li> 搜索关键字 <code>sampleresult.default.encoding</code>。</li><li>找到该行，去掉行首的 <code>#</code> 号，并将值修改为 <code>UTF-8</code>： <pre class="line-numbers language-properties" data-language="properties"><code class="language-properties"><span class="token comment"># 修改前</span><span class="token comment">#sampleresult.default.encoding=ISO-8859-1</span><span class="token comment"># 修改后</span><span class="token key attr-name">sampleresult.default.encoding</span><span class="token punctuation">=</span><span class="token value attr-value">UTF-8</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li> <strong>保存文件并重启 JMeter</strong>。</li></ol><hr><h3 id="2-在-HTTP-请求中指定编码（局部生效）"><a href="#2-在-HTTP-请求中指定编码（局部生效）" class="headerlink" title="2. 在 HTTP 请求中指定编码（局部生效）"></a>2. 在 HTTP 请求中指定编码（局部生效）</h3><p>如果你没有权限修改配置文件，或者只想针对某个特定接口生效：</p><ol><li> 在 JMeter 界面中选中你的 **HTTP Request (HTTP 请求)**。</li><li> 找到 <strong>Content encoding (内容编码)</strong> 字段。</li><li> 手动输入 <code>utf-8</code>（不区分大小写）。</li></ol><hr><h3 id="3-使用-BeanShell-后置处理器（脚本强制转换）"><a href="#3-使用-BeanShell-后置处理器（脚本强制转换）" class="headerlink" title="3. 使用 BeanShell 后置处理器（脚本强制转换）"></a>3. 使用 BeanShell 后置处理器（脚本强制转换）</h3><p>如果以上方法都无效，可以使用脚本强制修改响应数据的编码：</p><ol><li> 在对应的 HTTP 请求节点上右键，选择 <strong>Add (添加)</strong> -&gt; <strong>Post Processors (后置处理器)</strong> -&gt; <strong>BeanShell PostProcessor</strong>。</li><li>在 <strong>Script</strong> 区域输入以下代码： <pre class="line-numbers language-java" data-language="java"><code class="language-java">prev<span class="token punctuation">.</span><span class="token function">setDataEncoding</span><span class="token punctuation">(</span><span class="token string">"UTF-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li></ol><hr><h3 id="4-针对请求体（Body）乱码"><a href="#4-针对请求体（Body）乱码" class="headerlink" title="4. 针对请求体（Body）乱码"></a>4. 针对请求体（Body）乱码</h3><p>如果是你发送给服务器的中文变成乱码（而不是接收乱码），请检查：</p><ul><li>  <strong>HTTP 请求头</strong>：确保添加了 <code>Content-Type: application/json;charset=UTF-8</code>。</li><li>  <strong>勾选编码</strong>：在 HTTP 请求的 Parameters 中，勾选 “URL Encode”。</li></ul>]]></content>
      
      
      <categories>
          
          <category> JMeter </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JMeter </tag>
            
            <tag> 性能测试 </tag>
            
            <tag> 乱码处理 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>性能笔记-几个瓶颈</title>
      <link href="/2020/05/26/xing-neng-bi-ji-ji-ge-ping-jing/"/>
      <url>/2020/05/26/xing-neng-bi-ji-ji-ge-ping-jing/</url>
      
        <content type="html"><![CDATA[<h1 id="性能测试的几个瓶颈术语"><a href="#性能测试的几个瓶颈术语" class="headerlink" title="性能测试的几个瓶颈术语"></a>性能测试的几个瓶颈术语</h1><h2 id="软件瓶颈"><a href="#软件瓶颈" class="headerlink" title="软件瓶颈"></a>软件瓶颈</h2><h3 id="应用软件瓶颈"><a href="#应用软件瓶颈" class="headerlink" title="应用软件瓶颈"></a>应用软件瓶颈</h3><p>web服务器包括数据库等中间件导致的响应时间增加</p><h3 id="应用程序瓶颈"><a href="#应用程序瓶颈" class="headerlink" title="应用程序瓶颈"></a>应用程序瓶颈</h3><p>处理问题只能串行不能并行导致的响应时间增加</p><h2 id="硬件瓶颈"><a href="#硬件瓶颈" class="headerlink" title="硬件瓶颈"></a>硬件瓶颈</h2><p>cpu ram 持续利用率过高超过95%</p><h2 id="操作系统瓶颈"><a href="#操作系统瓶颈" class="headerlink" title="操作系统瓶颈"></a>操作系统瓶颈</h2><p>例如win系虚拟内存的设置交互</p><h2 id="网络设备瓶颈"><a href="#网络设备瓶颈" class="headerlink" title="网络设备瓶颈"></a>网络设备瓶颈</h2><p>负载均衡 防火墙 交换机 相关</p>]]></content>
      
      
      <categories>
          
          <category> 性能笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 杂记 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>使用GIT远程仓管理hexo文档</title>
      <link href="/2020/05/22/shi-yong-git-yuan-cheng-cang-guan-li-hexo-wen-dang/"/>
      <url>/2020/05/22/shi-yong-git-yuan-cheng-cang-guan-li-hexo-wen-dang/</url>
      
        <content type="html"><![CDATA[<h3 id="Hexo简单的命令"><a href="#Hexo简单的命令" class="headerlink" title="Hexo简单的命令"></a>Hexo简单的命令</h3><ol><li> 终端执行<code>hexo new 新文章</code>命令，此时本地<code>source/_post</code>目录下会新建<code>新文章.md</code>文件</li><li> 打开 <code>新文章.md</code>编写完成后，终端执行<code>hexo g</code>编译</li><li> 终端执行<code>hexo s</code>本地预览</li><li> 终端执行<code>hexo d</code>推送到远程仓<strong>master</strong>分支</li></ol><h3 id="场景备份的建议"><a href="#场景备份的建议" class="headerlink" title="场景备份的建议"></a>场景备份的建议</h3><ul><li>个人pc比较多,有时候不是专门用一台机器来做一件事,公司家庭暂住地等等等等,多台pc的使用场景</li><li>硬盘损坏,</li><li>电脑丢失</li><li>如果你还算比较珍你的部落格,不管是什么情况,都建议进行备份,鸡蛋不在一个篮子里,有备自然无患<br>有些人选择新建一个远程仓来进行拉取上传,有些人选择每次用u盘热拷数据,而我选择在原来远程仓基础上新建一个分支进行源码上传,原因嘛,自然是怎么方便怎么来.</li></ul><h4 id="新建git分支"><a href="#新建git分支" class="headerlink" title="新建git分支"></a>新建git分支</h4><p>终端执行<code>git branch</code><br>查看分支情况,如果没有意外你只有一个<strong>master</strong>分支<br>终端执行<code>git checkout -b dev</code><br>创建并切换到<strong>dev</strong>分支,其中<strong>dev</strong>是你的自定义分支名<br>再次执行<code>git branch</code><br>你可以看到列出的分支包含<strong>dev/master</strong><br>当前分支带有*号</p><h4 id="发布时选择的分支"><a href="#发布时选择的分支" class="headerlink" title="发布时选择的分支"></a>发布时选择的分支</h4><p>github仓库初始化生成一个master分支，这没什么特殊含义,只是init的时候就叫这个而已.<br>不过这对hexo来讲,生成的静态页面也是默认在master分支,如非魔改框架,请务必留着.<br>我这里选择<strong>dev</strong>分支作为我的源码托管分支,<br>你可以在克隆项目的时候指定分支<code>git clone -b dev xxurl</code>如果你正好也感兴趣,我会在后面描述  </p><h4 id="本地与远程仓库关联"><a href="#本地与远程仓库关联" class="headerlink" title="本地与远程仓库关联"></a>本地与远程仓库关联</h4><p>终端执行<code class="shell  language-shell">git remote add origin <a href="mailto:git@github.com">git@github.com</a>:yimouz/yimouz.github.io.git</code>  </p><blockquote><p>这里的origin只是一个易标识,你可以修改,比如hexo,后面这一串是仓库ssh地址,请不要错误关联到我的仓库,错误关联但没有配对的密钥自然没有用.除了ssh还可以选择http方式,具体看你个人选择.</p></blockquote><h4 id="推送到远程仓库"><a href="#推送到远程仓库" class="headerlink" title="推送到远程仓库"></a>推送到远程仓库</h4><p>推送到dev分支。<br>本地有许多文件,保留文章跟一些你觉得重要的，其他无关的文件并不希望推送，<br>使用<code>.gitignore</code>文件吧<br>把这些不想要的推送的保存到你ignore,比如如下一些:<br>.DS_Store<br>Thumbs.db<br>db.json<br><em>.log<br>node_modules/<br>public/<br>.deploy</em>/<br>添加完就可以试一下推送了<br>终端执行：<br> </p><pre class="line-numbers language-none"><code class="language-none">git add .git commit -m '你的提交信息'git push hexo dev<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p></p><h4 id="删除dev分支的某些文件"><a href="#删除dev分支的某些文件" class="headerlink" title="删除dev分支的某些文件"></a>删除dev分支的某些文件</h4><p>dev继承自master会带上master已经存在的分支内容<br>类似public<br>如果你跟我一样看着他们常常难受<br>不要犹豫,本地环境.<br>按下你的delete fireout it<br>删除完,终端执行<br>当然不删也可以<br> </p><pre class="line-numbers language-none"><code class="language-none">git add .git commit -m '同样填写你的注释信息'git push hexo dev<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><br>你会发现.ignore里携带的都没有带上去了.<br>这就是ignore<p></p><h3 id="多pc"><a href="#多pc" class="headerlink" title="多pc"></a>多pc</h3><p>回到这个问题,新电脑了怎么办,硬盘坏了怎么办  </p><ol><li>下载git </li><li>安装node npm </li><li>克隆你的分支<code>git clone -b dev 你的url</code>   </li><li>初始化init</li><li>密钥</li><li>关联到你的远程仓</li></ol><blockquote><p>当然不要忘记<br> </p><pre class="line-numbers language-none"><code class="language-none">npm install hexo   npm install hexo-deployer-git -save<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><br>是不是又回到了熟悉的环境<p></p></blockquote><h3 id="好了知道你有多pc使用习惯了-git就非常适合这种多端协作的场景-你要知道他是干嘛的"><a href="#好了知道你有多pc使用习惯了-git就非常适合这种多端协作的场景-你要知道他是干嘛的" class="headerlink" title="好了知道你有多pc使用习惯了,git就非常适合这种多端协作的场景,你要知道他是干嘛的"></a>好了知道你有多pc使用习惯了,git就非常适合这种多端协作的场景,你要知道他是干嘛的</h3><p>在公司划水,写写博客 一顿操作在push之后进入贤者模式<br>晚上或者周末在家,心潮澎拜,idea遍及<br>马不停蹄打开git</p><pre class="line-numbers language-none"><code class="language-none">/git pull &lt;远程仓ssh&gt; &lt;远程分支名&gt;:&lt;本地分支名&gt;   git pull git@github.com:yimouz/yimouz.github.io.git dev:dev/拉取并合并到你的本地环境  <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>至此就结束了!</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 杂记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
